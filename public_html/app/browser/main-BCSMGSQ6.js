var SN=Object.create;var Nh=Object.defineProperty,MN=Object.defineProperties,IN=Object.getOwnPropertyDescriptor,TN=Object.getOwnPropertyDescriptors,AN=Object.getOwnPropertyNames,uu=Object.getOwnPropertySymbols,kN=Object.getPrototypeOf,Oh=Object.prototype.hasOwnProperty,s_=Object.prototype.propertyIsEnumerable;var o_=(n,t,e)=>t in n?Nh(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,F=(n,t)=>{for(var e in t||={})Oh.call(t,e)&&o_(n,e,t[e]);if(uu)for(var e of uu(t))s_.call(t,e)&&o_(n,e,t[e]);return n},ae=(n,t)=>MN(n,TN(t));var Ph=(n,t)=>{var e={};for(var i in n)Oh.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&uu)for(var i of uu(n))t.indexOf(i)<0&&s_.call(n,i)&&(e[i]=n[i]);return e};var NN=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var ON=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of AN(t))!Oh.call(n,r)&&r!==e&&Nh(n,r,{get:()=>t[r],enumerable:!(i=IN(t,r))||i.enumerable});return n};var a_=(n,t,e)=>(e=n!=null?SN(kN(n)):{},ON(t||!n||!n.__esModule?Nh(e,"default",{value:n,enumerable:!0}):e,n));var ll=(n,t,e)=>new Promise((i,r)=>{var o=l=>{try{a(e.next(l))}catch(c){r(c)}},s=l=>{try{a(e.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(n,t)).next())});var nw=NN((Zi,tw)=>{"use strict";(function(n,t){typeof Zi=="object"&&typeof tw<"u"?tw.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(Zi,function(){"use strict";function n(u,m,v){if(typeof u=="function"?u===m:u.has(m))return arguments.length<3?m:v;throw new TypeError("Private element is not present on this object")}function t(u,m){if(m.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(u,m){return u.get(n(u,m))}function i(u,m,v){t(u,m),m.set(u,v)}function r(u,m,v){return u.set(n(u,m),v),v}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=u=>new Promise(m=>{if(!u)return m();let v=window.scrollX,x=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),m()},o),window.scrollTo(v,x)}),c="swal2-",f=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((u,m)=>(u[m]=c+m,u),{}),b=["success","warning","info","question","error"].reduce((u,m)=>(u[m]=c+m,u),{}),_="SweetAlert2:",D=u=>u.charAt(0).toUpperCase()+u.slice(1),S=u=>{console.warn(`${_} ${typeof u=="object"?u.join(" "):u}`)},A=u=>{console.error(`${_} ${u}`)},G=[],z=u=>{G.includes(u)||(G.push(u),S(u))},oe=(u,m=null)=>{z(`"${u}" is deprecated and will be removed in the next major release.${m?` Use "${m}" instead.`:""}`)},Te=u=>typeof u=="function"?u():u,_e=u=>u&&typeof u.toPromise=="function",K=u=>_e(u)?u.toPromise():Promise.resolve(u),he=u=>u&&Promise.resolve(u)===u,be=()=>document.body.querySelector(`.${f.container}`),fn=u=>{let m=be();return m?m.querySelector(u):null},$t=u=>fn(`.${u}`),we=()=>$t(f.popup),Di=()=>$t(f.icon),Yc=()=>$t(f["icon-content"]),rl=()=>$t(f.title),q=()=>$t(f["html-container"]),ee=()=>$t(f.image),ne=()=>$t(f["progress-steps"]),De=()=>$t(f["validation-message"]),We=()=>fn(`.${f.actions} .${f.confirm}`),Rt=()=>fn(`.${f.actions} .${f.cancel}`),ut=()=>fn(`.${f.actions} .${f.deny}`),Ei=()=>$t(f["input-label"]),je=()=>fn(`.${f.loader}`),Rr=()=>$t(f.actions),Zc=()=>$t(f.footer),dt=()=>$t(f["timer-progress-bar"]),ui=()=>$t(f.close),pn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Fr=()=>{let u=we();if(!u)return[];let m=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(m).sort((U,Ie)=>{let qe=parseInt(U.getAttribute("tabindex")||"0"),it=parseInt(Ie.getAttribute("tabindex")||"0");return qe>it?1:qe<it?-1:0}),x=u.querySelectorAll(pn),T=Array.from(x).filter(U=>U.getAttribute("tabindex")!=="-1");return[...new Set(v.concat(T))].filter(U=>hn(U))},Io=()=>Ji(document.body,f.shown)&&!Ji(document.body,f["toast-shown"])&&!Ji(document.body,f["no-backdrop"]),Jc=()=>{let u=we();return u?Ji(u,f.toast):!1},J2=()=>{let u=we();return u?u.hasAttribute("data-loading"):!1},Tn=(u,m)=>{if(u.textContent="",m){let x=new DOMParser().parseFromString(m,"text/html"),T=x.querySelector("head");T&&Array.from(T.childNodes).forEach(Ie=>{u.appendChild(Ie)});let U=x.querySelector("body");U&&Array.from(U.childNodes).forEach(Ie=>{Ie instanceof HTMLVideoElement||Ie instanceof HTMLAudioElement?u.appendChild(Ie.cloneNode(!0)):u.appendChild(Ie)})}},Ji=(u,m)=>{if(!m)return!1;let v=m.split(/\s+/);for(let x=0;x<v.length;x++)if(!u.classList.contains(v[x]))return!1;return!0},X2=(u,m)=>{Array.from(u.classList).forEach(v=>{!Object.values(f).includes(v)&&!Object.values(b).includes(v)&&!Object.values(m.showClass||{}).includes(v)&&u.classList.remove(v)})},An=(u,m,v)=>{if(X2(u,m),!m.customClass)return;let x=m.customClass[v];if(x){if(typeof x!="string"&&!x.forEach){S(`Invalid type of customClass.${v}! Expected string or iterable object, got "${typeof x}"`);return}Le(u,x)}},Xc=(u,m)=>{if(!m)return null;switch(m){case"select":case"textarea":case"file":return u.querySelector(`.${f.popup} > .${f[m]}`);case"checkbox":return u.querySelector(`.${f.popup} > .${f.checkbox} input`);case"radio":return u.querySelector(`.${f.popup} > .${f.radio} input:checked`)||u.querySelector(`.${f.popup} > .${f.radio} input:first-child`);case"range":return u.querySelector(`.${f.popup} > .${f.range} input`);default:return u.querySelector(`.${f.popup} > .${f.input}`)}},cw=u=>{if(u.focus(),u.type!=="file"){let m=u.value;u.value="",u.value=m}},uw=(u,m,v)=>{!u||!m||(typeof m=="string"&&(m=m.split(/\s+/).filter(Boolean)),m.forEach(x=>{Array.isArray(u)?u.forEach(T=>{v?T.classList.add(x):T.classList.remove(x)}):v?u.classList.add(x):u.classList.remove(x)}))},Le=(u,m)=>{uw(u,m,!0)},Hn=(u,m)=>{uw(u,m,!1)},Lr=(u,m)=>{let v=Array.from(u.children);for(let x=0;x<v.length;x++){let T=v[x];if(T instanceof HTMLElement&&Ji(T,m))return T}},To=(u,m,v)=>{v===`${parseInt(`${v}`)}`&&(v=parseInt(v)),v||parseInt(`${v}`)===0?u.style.setProperty(m,typeof v=="number"?`${v}px`:v):u.style.removeProperty(m)},Tt=(u,m="flex")=>{u&&(u.style.display=m)},zt=u=>{u&&(u.style.display="none")},vh=(u,m="block")=>{u&&new MutationObserver(()=>{ol(u,u.innerHTML,m)}).observe(u,{childList:!0,subtree:!0})},dw=(u,m,v,x)=>{let T=u.querySelector(m);T&&T.style.setProperty(v,x)},ol=(u,m,v="flex")=>{m?Tt(u,v):zt(u)},hn=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),eA=()=>!hn(We())&&!hn(ut())&&!hn(Rt()),bh=u=>u.scrollHeight>u.clientHeight,tA=(u,m)=>{let v=u;for(;v&&v!==m;){if(bh(v))return!0;v=v.parentElement}return!1},fw=u=>{let m=window.getComputedStyle(u),v=parseFloat(m.getPropertyValue("animation-duration")||"0"),x=parseFloat(m.getPropertyValue("transition-duration")||"0");return v>0||x>0},wh=(u,m=!1)=>{let v=dt();v&&hn(v)&&(m&&(v.style.transition="none",v.style.width="100%"),setTimeout(()=>{v.style.transition=`width ${u/1e3}s linear`,v.style.width="0%"},10))},nA=()=>{let u=dt();if(!u)return;let m=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let v=parseInt(window.getComputedStyle(u).width),x=m/v*100;u.style.width=`${x}%`},iA=()=>typeof window>"u"||typeof document>"u",rA=`
 <div aria-labelledby="${f.title}" aria-describedby="${f["html-container"]}" class="${f.popup}" tabindex="-1">
   <button type="button" class="${f.close}"></button>
   <ul class="${f["progress-steps"]}"></ul>
   <div class="${f.icon}"></div>
   <img class="${f.image}" />
   <h2 class="${f.title}" id="${f.title}"></h2>
   <div class="${f["html-container"]}" id="${f["html-container"]}"></div>
   <input class="${f.input}" id="${f.input}" />
   <input type="file" class="${f.file}" />
   <div class="${f.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${f.select}" id="${f.select}"></select>
   <div class="${f.radio}"></div>
   <label class="${f.checkbox}">
     <input type="checkbox" id="${f.checkbox}" />
     <span class="${f.label}"></span>
   </label>
   <textarea class="${f.textarea}" id="${f.textarea}"></textarea>
   <div class="${f["validation-message"]}" id="${f["validation-message"]}"></div>
   <div class="${f.actions}">
     <div class="${f.loader}"></div>
     <button type="button" class="${f.confirm}"></button>
     <button type="button" class="${f.deny}"></button>
     <button type="button" class="${f.cancel}"></button>
   </div>
   <div class="${f.footer}"></div>
   <div class="${f["timer-progress-bar-container"]}">
     <div class="${f["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),oA=()=>{let u=be();return u?(u.remove(),Hn([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0):!1},Ao=()=>{s.currentInstance.resetValidationMessage()},sA=()=>{let u=we(),m=Lr(u,f.input),v=Lr(u,f.file),x=u.querySelector(`.${f.range} input`),T=u.querySelector(`.${f.range} output`),U=Lr(u,f.select),Ie=u.querySelector(`.${f.checkbox} input`),qe=Lr(u,f.textarea);m.oninput=Ao,v.onchange=Ao,U.onchange=Ao,Ie.onchange=Ao,qe.oninput=Ao,x.oninput=()=>{Ao(),T.value=x.value},x.onchange=()=>{Ao(),T.value=x.value}},aA=u=>typeof u=="string"?document.querySelector(u):u,lA=u=>{let m=we();m.setAttribute("role",u.toast?"alert":"dialog"),m.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||m.setAttribute("aria-modal","true")},cA=u=>{window.getComputedStyle(u).direction==="rtl"&&(Le(be(),f.rtl),s.isRTL=!0)},uA=u=>{let m=oA();if(iA()){A("SweetAlert2 requires document to initialize");return}let v=document.createElement("div");v.className=f.container,m&&Le(v,f["no-transition"]),Tn(v,rA),v.dataset.swal2Theme=u.theme;let x=aA(u.target);x.appendChild(v),u.topLayer&&(v.setAttribute("popover",""),v.showPopover()),lA(u),cA(x),sA()},_h=(u,m)=>{u instanceof HTMLElement?m.appendChild(u):typeof u=="object"?dA(u,m):u&&Tn(m,u)},dA=(u,m)=>{u.jquery?fA(m,u):Tn(m,u.toString())},fA=(u,m)=>{if(u.textContent="",0 in m)for(let v=0;v in m;v++)u.appendChild(m[v].cloneNode(!0));else u.appendChild(m.cloneNode(!0))},pA=(u,m)=>{let v=Rr(),x=je();!v||!x||(!m.showConfirmButton&&!m.showDenyButton&&!m.showCancelButton?zt(v):Tt(v),An(v,m,"actions"),hA(v,x,m),Tn(x,m.loaderHtml||""),An(x,m,"loader"))};function hA(u,m,v){let x=We(),T=ut(),U=Rt();!x||!T||!U||(xh(x,"confirm",v),xh(T,"deny",v),xh(U,"cancel",v),mA(x,T,U,v),v.reverseButtons&&(v.toast?(u.insertBefore(U,x),u.insertBefore(T,x)):(u.insertBefore(U,m),u.insertBefore(T,m),u.insertBefore(x,m))))}function mA(u,m,v,x){if(!x.buttonsStyling){Hn([u,m,v],f.styled);return}Le([u,m,v],f.styled),x.confirmButtonColor&&u.style.setProperty("--swal2-confirm-button-background-color",x.confirmButtonColor),x.denyButtonColor&&m.style.setProperty("--swal2-deny-button-background-color",x.denyButtonColor),x.cancelButtonColor&&v.style.setProperty("--swal2-cancel-button-background-color",x.cancelButtonColor),Ch(u),Ch(m),Ch(v)}function Ch(u){let m=window.getComputedStyle(u);if(m.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let v=m.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");u.style.setProperty("--swal2-action-button-focus-box-shadow",m.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${v}`))}function xh(u,m,v){let x=D(m);ol(u,v[`show${x}Button`],"inline-block"),Tn(u,v[`${m}ButtonText`]||""),u.setAttribute("aria-label",v[`${m}ButtonAriaLabel`]||""),u.className=f[m],An(u,v,`${m}Button`)}let gA=(u,m)=>{let v=ui();v&&(Tn(v,m.closeButtonHtml||""),An(v,m,"closeButton"),ol(v,m.showCloseButton),v.setAttribute("aria-label",m.closeButtonAriaLabel||""))},yA=(u,m)=>{let v=be();v&&(vA(v,m.backdrop),bA(v,m.position),wA(v,m.grow),An(v,m,"container"))};function vA(u,m){typeof m=="string"?u.style.background=m:m||Le([document.documentElement,document.body],f["no-backdrop"])}function bA(u,m){m&&(m in f?Le(u,f[m]):(S('The "position" parameter is not valid, defaulting to "center"'),Le(u,f.center)))}function wA(u,m){m&&Le(u,f[`grow-${m}`])}var Je={innerParams:new WeakMap,domCache:new WeakMap};let _A=["input","file","range","select","radio","checkbox","textarea"],CA=(u,m)=>{let v=we();if(!v)return;let x=Je.innerParams.get(u),T=!x||m.input!==x.input;_A.forEach(U=>{let Ie=Lr(v,f[U]);Ie&&(EA(U,m.inputAttributes),Ie.className=f[U],T&&zt(Ie))}),m.input&&(T&&xA(m),SA(m))},xA=u=>{if(!u.input)return;if(!ft[u.input]){A(`Unexpected type of input! Expected ${Object.keys(ft).join(" | ")}, got "${u.input}"`);return}let m=pw(u.input);if(!m)return;let v=ft[u.input](m,u);Tt(m),u.inputAutoFocus&&setTimeout(()=>{cw(v)})},DA=u=>{for(let m=0;m<u.attributes.length;m++){let v=u.attributes[m].name;["id","type","value","style"].includes(v)||u.removeAttribute(v)}},EA=(u,m)=>{let v=we();if(!v)return;let x=Xc(v,u);if(x){DA(x);for(let T in m)x.setAttribute(T,m[T])}},SA=u=>{if(!u.input)return;let m=pw(u.input);m&&An(m,u,"input")},Dh=(u,m)=>{!u.placeholder&&m.inputPlaceholder&&(u.placeholder=m.inputPlaceholder)},sl=(u,m,v)=>{if(v.inputLabel){let x=document.createElement("label"),T=f["input-label"];x.setAttribute("for",u.id),x.className=T,typeof v.customClass=="object"&&Le(x,v.customClass.inputLabel),x.innerText=v.inputLabel,m.insertAdjacentElement("beforebegin",x)}},pw=u=>{let m=we();if(m)return Lr(m,f[u]||f.input)},eu=(u,m)=>{["string","number"].includes(typeof m)?u.value=`${m}`:he(m)||S(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof m}"`)},ft={};ft.text=ft.email=ft.password=ft.number=ft.tel=ft.url=ft.search=ft.date=ft["datetime-local"]=ft.time=ft.week=ft.month=(u,m)=>(eu(u,m.inputValue),sl(u,u,m),Dh(u,m),u.type=m.input,u),ft.file=(u,m)=>(sl(u,u,m),Dh(u,m),u),ft.range=(u,m)=>{let v=u.querySelector("input"),x=u.querySelector("output");return eu(v,m.inputValue),v.type=m.input,eu(x,m.inputValue),sl(v,u,m),u},ft.select=(u,m)=>{if(u.textContent="",m.inputPlaceholder){let v=document.createElement("option");Tn(v,m.inputPlaceholder),v.value="",v.disabled=!0,v.selected=!0,u.appendChild(v)}return sl(u,u,m),u},ft.radio=u=>(u.textContent="",u),ft.checkbox=(u,m)=>{let v=Xc(we(),"checkbox");v.value="1",v.checked=!!m.inputValue;let x=u.querySelector("span");return Tn(x,m.inputPlaceholder||m.inputLabel),v},ft.textarea=(u,m)=>{eu(u,m.inputValue),Dh(u,m),sl(u,u,m);let v=x=>parseInt(window.getComputedStyle(x).marginLeft)+parseInt(window.getComputedStyle(x).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let x=parseInt(window.getComputedStyle(we()).width),T=()=>{if(!document.body.contains(u))return;let U=u.offsetWidth+v(u);U>x?we().style.width=`${U}px`:To(we(),"width",m.width)};new MutationObserver(T).observe(u,{attributes:!0,attributeFilter:["style"]})}}),u};let MA=(u,m)=>{let v=q();v&&(vh(v),An(v,m,"htmlContainer"),m.html?(_h(m.html,v),Tt(v,"block")):m.text?(v.textContent=m.text,Tt(v,"block")):zt(v),CA(u,m))},IA=(u,m)=>{let v=Zc();v&&(vh(v),ol(v,!!m.footer,"block"),m.footer&&_h(m.footer,v),An(v,m,"footer"))},TA=(u,m)=>{let v=Je.innerParams.get(u),x=Di();if(!x)return;if(v&&m.icon===v.icon){gw(x,m),hw(x,m);return}if(!m.icon&&!m.iconHtml){zt(x);return}if(m.icon&&Object.keys(b).indexOf(m.icon)===-1){A(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${m.icon}"`),zt(x);return}Tt(x),gw(x,m),hw(x,m),Le(x,m.showClass&&m.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",mw)},hw=(u,m)=>{for(let[v,x]of Object.entries(b))m.icon!==v&&Hn(u,x);Le(u,m.icon&&b[m.icon]),NA(u,m),mw(),An(u,m,"icon")},mw=()=>{let u=we();if(!u)return;let m=window.getComputedStyle(u).getPropertyValue("background-color"),v=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<v.length;x++)v[x].style.backgroundColor=m},AA=u=>`
  ${u.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${u.animation?'<div class="swal2-success-fix"></div>':""}
  ${u.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,kA=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,gw=(u,m)=>{if(!m.icon&&!m.iconHtml)return;let v=u.innerHTML,x="";m.iconHtml?x=yw(m.iconHtml):m.icon==="success"?(x=AA(m),v=v.replace(/ style=".*?"/g,"")):m.icon==="error"?x=kA:m.icon&&(x=yw({question:"?",warning:"!",info:"i"}[m.icon])),v.trim()!==x.trim()&&Tn(u,x)},NA=(u,m)=>{if(m.iconColor){u.style.color=m.iconColor,u.style.borderColor=m.iconColor;for(let v of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dw(u,v,"background-color",m.iconColor);dw(u,".swal2-success-ring","border-color",m.iconColor)}},yw=u=>`<div class="${f["icon-content"]}">${u}</div>`,OA=(u,m)=>{let v=ee();if(v){if(!m.imageUrl){zt(v);return}Tt(v,""),v.setAttribute("src",m.imageUrl),v.setAttribute("alt",m.imageAlt||""),To(v,"width",m.imageWidth),To(v,"height",m.imageHeight),v.className=f.image,An(v,m,"image")}},Eh=!1,vw=0,bw=0,ww=0,_w=0,PA=u=>{u.addEventListener("mousedown",tu),document.body.addEventListener("mousemove",nu),u.addEventListener("mouseup",iu),u.addEventListener("touchstart",tu),document.body.addEventListener("touchmove",nu),u.addEventListener("touchend",iu)},RA=u=>{u.removeEventListener("mousedown",tu),document.body.removeEventListener("mousemove",nu),u.removeEventListener("mouseup",iu),u.removeEventListener("touchstart",tu),document.body.removeEventListener("touchmove",nu),u.removeEventListener("touchend",iu)},tu=u=>{let m=we();if(u.target===m||Di().contains(u.target)){Eh=!0;let v=Cw(u);vw=v.clientX,bw=v.clientY,ww=parseInt(m.style.insetInlineStart)||0,_w=parseInt(m.style.insetBlockStart)||0,Le(m,"swal2-dragging")}},nu=u=>{let m=we();if(Eh){let{clientX:v,clientY:x}=Cw(u),T=v-vw;m.style.insetInlineStart=`${ww+(s.isRTL?-T:T)}px`,m.style.insetBlockStart=`${_w+(x-bw)}px`}},iu=()=>{let u=we();Eh=!1,Hn(u,"swal2-dragging")},Cw=u=>{let m=0,v=0;return u.type.startsWith("mouse")?(m=u.clientX,v=u.clientY):u.type.startsWith("touch")&&(m=u.touches[0].clientX,v=u.touches[0].clientY),{clientX:m,clientY:v}},FA=(u,m)=>{let v=be(),x=we();if(!(!v||!x)){if(m.toast){To(v,"width",m.width),x.style.width="100%";let T=je();T&&x.insertBefore(T,Di())}else To(x,"width",m.width);To(x,"padding",m.padding),m.color&&(x.style.color=m.color),m.background&&(x.style.background=m.background),zt(De()),LA(x,m),m.draggable&&!m.toast?(Le(x,f.draggable),PA(x)):(Hn(x,f.draggable),RA(x))}},LA=(u,m)=>{let v=m.showClass||{};u.className=`${f.popup} ${hn(u)?v.popup:""}`,m.toast?(Le([document.documentElement,document.body],f["toast-shown"]),Le(u,f.toast)):Le(u,f.modal),An(u,m,"popup"),typeof m.customClass=="string"&&Le(u,m.customClass),m.icon&&Le(u,f[`icon-${m.icon}`])},VA=(u,m)=>{let v=ne();if(!v)return;let{progressSteps:x,currentProgressStep:T}=m;if(!x||x.length===0||T===void 0){zt(v);return}Tt(v),v.textContent="",T>=x.length&&S("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.forEach((U,Ie)=>{let qe=BA(U);if(v.appendChild(qe),Ie===T&&Le(qe,f["active-progress-step"]),Ie!==x.length-1){let it=jA(m);v.appendChild(it)}})},BA=u=>{let m=document.createElement("li");return Le(m,f["progress-step"]),Tn(m,u),m},jA=u=>{let m=document.createElement("li");return Le(m,f["progress-step-line"]),u.progressStepsDistance&&To(m,"width",u.progressStepsDistance),m},$A=(u,m)=>{let v=rl();v&&(vh(v),ol(v,!!(m.title||m.titleText),"block"),m.title&&_h(m.title,v),m.titleText&&(v.innerText=m.titleText),An(v,m,"title"))},xw=(u,m)=>{FA(u,m),yA(u,m),VA(u,m),TA(u,m),OA(u,m),$A(u,m),gA(u,m),MA(u,m),pA(u,m),IA(u,m);let v=we();typeof m.didRender=="function"&&v&&m.didRender(v),s.eventEmitter.emit("didRender",v)},zA=()=>hn(we()),Dw=()=>{var u;return(u=We())===null||u===void 0?void 0:u.click()},UA=()=>{var u;return(u=ut())===null||u===void 0?void 0:u.click()},HA=()=>{var u;return(u=Rt())===null||u===void 0?void 0:u.click()},Ns=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ew=u=>{u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},WA=(u,m,v)=>{Ew(u),m.toast||(u.keydownHandler=x=>GA(m,x,v),u.keydownTarget=m.keydownListenerCapture?window:we(),u.keydownListenerCapture=m.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},Sh=(u,m)=>{var v;let x=Fr();if(x.length){u=u+m,u===-2&&(u=x.length-1),u===x.length?u=0:u===-1&&(u=x.length-1),x[u].focus();return}(v=we())===null||v===void 0||v.focus()},Sw=["ArrowRight","ArrowDown"],qA=["ArrowLeft","ArrowUp"],GA=(u,m,v)=>{u&&(m.isComposing||m.keyCode===229||(u.stopKeydownPropagation&&m.stopPropagation(),m.key==="Enter"?KA(m,u):m.key==="Tab"?QA(m):[...Sw,...qA].includes(m.key)?YA(m.key):m.key==="Escape"&&ZA(m,u,v)))},KA=(u,m)=>{if(!Te(m.allowEnterKey))return;let v=Xc(we(),m.input);if(u.target&&v&&u.target instanceof HTMLElement&&u.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(m.input))return;Dw(),u.preventDefault()}},QA=u=>{let m=u.target,v=Fr(),x=-1;for(let T=0;T<v.length;T++)if(m===v[T]){x=T;break}u.shiftKey?Sh(x,-1):Sh(x,1),u.stopPropagation(),u.preventDefault()},YA=u=>{let m=Rr(),v=We(),x=ut(),T=Rt();if(!m||!v||!x||!T)return;let U=[v,x,T];if(document.activeElement instanceof HTMLElement&&!U.includes(document.activeElement))return;let Ie=Sw.includes(u)?"nextElementSibling":"previousElementSibling",qe=document.activeElement;if(qe){for(let it=0;it<m.children.length;it++){if(qe=qe[Ie],!qe)return;if(qe instanceof HTMLButtonElement&&hn(qe))break}qe instanceof HTMLButtonElement&&qe.focus()}},ZA=(u,m,v)=>{u.preventDefault(),Te(m.allowEscapeKey)&&v(Ns.esc)};var Os={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let JA=()=>{let u=be();Array.from(document.body.children).forEach(v=>{v.contains(u)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},Mw=()=>{Array.from(document.body.children).forEach(m=>{m.hasAttribute("data-previous-aria-hidden")?(m.setAttribute("aria-hidden",m.getAttribute("data-previous-aria-hidden")||""),m.removeAttribute("data-previous-aria-hidden")):m.removeAttribute("aria-hidden")})},Iw=typeof window<"u"&&!!window.GestureEvent,XA=()=>{if(Iw&&!Ji(document.body,f.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,Le(document.body,f.iosfix),ek()}},ek=()=>{let u=be();if(!u)return;let m;u.ontouchstart=v=>{m=tk(v)},u.ontouchmove=v=>{m&&(v.preventDefault(),v.stopPropagation())}},tk=u=>{let m=u.target,v=be(),x=q();return!v||!x||nk(u)||ik(u)?!1:m===v||!bh(v)&&m instanceof HTMLElement&&!tA(m,x)&&m.tagName!=="INPUT"&&m.tagName!=="TEXTAREA"&&!(bh(x)&&x.contains(m))},nk=u=>u.touches&&u.touches.length&&u.touches[0].touchType==="stylus",ik=u=>u.touches&&u.touches.length>1,rk=()=>{if(Ji(document.body,f.iosfix)){let u=parseInt(document.body.style.top,10);Hn(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},ok=()=>{let u=document.createElement("div");u.className=f["scrollbar-measure"],document.body.appendChild(u);let m=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),m},Ps=null,sk=u=>{Ps===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Ps=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ps+ok()}px`)},ak=()=>{Ps!==null&&(document.body.style.paddingRight=`${Ps}px`,Ps=null)};function Tw(u,m,v,x){Jc()?kw(u,x):(l(v).then(()=>kw(u,x)),Ew(s)),Iw?(m.setAttribute("style","display:none !important"),m.removeAttribute("class"),m.innerHTML=""):m.remove(),Io()&&(ak(),rk(),Mw()),lk()}function lk(){Hn([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function Vr(u){u=uk(u);let m=Os.swalPromiseResolve.get(this),v=ck(this);this.isAwaitingPromise?u.isDismissed||(al(this),m(u)):v&&m(u)}let ck=u=>{let m=we();if(!m)return!1;let v=Je.innerParams.get(u);if(!v||Ji(m,v.hideClass.popup))return!1;Hn(m,v.showClass.popup),Le(m,v.hideClass.popup);let x=be();return Hn(x,v.showClass.backdrop),Le(x,v.hideClass.backdrop),dk(u,m,v),!0};function Aw(u){let m=Os.swalPromiseReject.get(this);al(this),m&&m(u)}let al=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,Je.innerParams.get(u)||u._destroy())},uk=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),dk=(u,m,v)=>{var x;let T=be(),U=fw(m);typeof v.willClose=="function"&&v.willClose(m),(x=s.eventEmitter)===null||x===void 0||x.emit("willClose",m),U?fk(u,m,T,v.returnFocus,v.didClose):Tw(u,T,v.returnFocus,v.didClose)},fk=(u,m,v,x,T)=>{s.swalCloseEventFinishedCallback=Tw.bind(null,u,v,x,T);let U=function(Ie){if(Ie.target===m){var qe;(qe=s.swalCloseEventFinishedCallback)===null||qe===void 0||qe.call(s),delete s.swalCloseEventFinishedCallback,m.removeEventListener("animationend",U),m.removeEventListener("transitionend",U)}};m.addEventListener("animationend",U),m.addEventListener("transitionend",U)},kw=(u,m)=>{setTimeout(()=>{var v;typeof m=="function"&&m.bind(u.params)(),(v=s.eventEmitter)===null||v===void 0||v.emit("didClose"),u._destroy&&u._destroy()})},Rs=u=>{let m=we();if(m||new cu,m=we(),!m)return;let v=je();Jc()?zt(Di()):pk(m,u),Tt(v),m.setAttribute("data-loading","true"),m.setAttribute("aria-busy","true"),m.focus()},pk=(u,m)=>{let v=Rr(),x=je();!v||!x||(!m&&hn(We())&&(m=We()),Tt(v),m&&(zt(m),x.setAttribute("data-button-to-replace",m.className),v.insertBefore(x,m)),Le([u,v],f.loading))},hk=(u,m)=>{m.input==="select"||m.input==="radio"?bk(u,m):["text","email","number","tel","textarea"].some(v=>v===m.input)&&(_e(m.inputValue)||he(m.inputValue))&&(Rs(We()),wk(u,m))},mk=(u,m)=>{let v=u.getInput();if(!v)return null;switch(m.input){case"checkbox":return gk(v);case"radio":return yk(v);case"file":return vk(v);default:return m.inputAutoTrim?v.value.trim():v.value}},gk=u=>u.checked?1:0,yk=u=>u.checked?u.value:null,vk=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,bk=(u,m)=>{let v=we();if(!v)return;let x=T=>{m.input==="select"?_k(v,ru(T),m):m.input==="radio"&&Ck(v,ru(T),m)};_e(m.inputOptions)||he(m.inputOptions)?(Rs(We()),K(m.inputOptions).then(T=>{u.hideLoading(),x(T)})):typeof m.inputOptions=="object"?x(m.inputOptions):A(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof m.inputOptions}`)},wk=(u,m)=>{let v=u.getInput();v&&(zt(v),K(m.inputValue).then(x=>{v.value=m.input==="number"?`${parseFloat(x)||0}`:`${x}`,Tt(v),v.focus(),u.hideLoading()}).catch(x=>{A(`Error in inputValue promise: ${x}`),v.value="",Tt(v),v.focus(),u.hideLoading()}))};function _k(u,m,v){let x=Lr(u,f.select);if(!x)return;let T=(U,Ie,qe)=>{let it=document.createElement("option");it.value=qe,Tn(it,Ie),it.selected=Nw(qe,v.inputValue),U.appendChild(it)};m.forEach(U=>{let Ie=U[0],qe=U[1];if(Array.isArray(qe)){let it=document.createElement("optgroup");it.label=Ie,it.disabled=!1,x.appendChild(it),qe.forEach(Ls=>T(it,Ls[1],Ls[0]))}else T(x,qe,Ie)}),x.focus()}function Ck(u,m,v){let x=Lr(u,f.radio);if(!x)return;m.forEach(U=>{let Ie=U[0],qe=U[1],it=document.createElement("input"),Ls=document.createElement("label");it.type="radio",it.name=f.radio,it.value=Ie,Nw(Ie,v.inputValue)&&(it.checked=!0);let kh=document.createElement("span");Tn(kh,qe),kh.className=f.label,Ls.appendChild(it),Ls.appendChild(kh),x.appendChild(Ls)});let T=x.querySelectorAll("input");T.length&&T[0].focus()}let ru=u=>{let m=[];return u instanceof Map?u.forEach((v,x)=>{let T=v;typeof T=="object"&&(T=ru(T)),m.push([x,T])}):Object.keys(u).forEach(v=>{let x=u[v];typeof x=="object"&&(x=ru(x)),m.push([v,x])}),m},Nw=(u,m)=>!!m&&m.toString()===u.toString(),xk=u=>{let m=Je.innerParams.get(u);u.disableButtons(),m.input?Ow(u,"confirm"):Ih(u,!0)},Dk=u=>{let m=Je.innerParams.get(u);u.disableButtons(),m.returnInputValueOnDeny?Ow(u,"deny"):Mh(u,!1)},Ek=(u,m)=>{u.disableButtons(),m(Ns.cancel)},Ow=(u,m)=>{let v=Je.innerParams.get(u);if(!v.input){A(`The "input" parameter is needed to be set when using returnInputValueOn${D(m)}`);return}let x=u.getInput(),T=mk(u,v);v.inputValidator?Sk(u,T,m):x&&!x.checkValidity()?(u.enableButtons(),u.showValidationMessage(v.validationMessage||x.validationMessage)):m==="deny"?Mh(u,T):Ih(u,T)},Sk=(u,m,v)=>{let x=Je.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>K(x.inputValidator(m,x.validationMessage))).then(U=>{u.enableButtons(),u.enableInput(),U?u.showValidationMessage(U):v==="deny"?Mh(u,m):Ih(u,m)})},Mh=(u,m)=>{let v=Je.innerParams.get(u||void 0);v.showLoaderOnDeny&&Rs(ut()),v.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>K(v.preDeny(m,v.validationMessage))).then(T=>{T===!1?(u.hideLoading(),al(u)):u.close({isDenied:!0,value:typeof T>"u"?m:T})}).catch(T=>Rw(u||void 0,T))):u.close({isDenied:!0,value:m})},Pw=(u,m)=>{u.close({isConfirmed:!0,value:m})},Rw=(u,m)=>{u.rejectPromise(m)},Ih=(u,m)=>{let v=Je.innerParams.get(u||void 0);v.showLoaderOnConfirm&&Rs(),v.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>K(v.preConfirm(m,v.validationMessage))).then(T=>{hn(De())||T===!1?(u.hideLoading(),al(u)):Pw(u,typeof T>"u"?m:T)}).catch(T=>Rw(u||void 0,T))):Pw(u,m)};function ou(){let u=Je.innerParams.get(this);if(!u)return;let m=Je.domCache.get(this);zt(m.loader),Jc()?u.icon&&Tt(Di()):Mk(m),Hn([m.popup,m.actions],f.loading),m.popup.removeAttribute("aria-busy"),m.popup.removeAttribute("data-loading"),m.confirmButton.disabled=!1,m.denyButton.disabled=!1,m.cancelButton.disabled=!1}let Mk=u=>{let m=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));m.length?Tt(m[0],"inline-block"):eA()&&zt(u.actions)};function Fw(){let u=Je.innerParams.get(this),m=Je.domCache.get(this);return m?Xc(m.popup,u.input):null}function Lw(u,m,v){let x=Je.domCache.get(u);m.forEach(T=>{x[T].disabled=v})}function Vw(u,m){let v=we();if(!(!v||!u))if(u.type==="radio"){let x=v.querySelectorAll(`[name="${f.radio}"]`);for(let T=0;T<x.length;T++)x[T].disabled=m}else u.disabled=m}function Bw(){Lw(this,["confirmButton","denyButton","cancelButton"],!1)}function jw(){Lw(this,["confirmButton","denyButton","cancelButton"],!0)}function $w(){Vw(this.getInput(),!1)}function zw(){Vw(this.getInput(),!0)}function Uw(u){let m=Je.domCache.get(this),v=Je.innerParams.get(this);Tn(m.validationMessage,u),m.validationMessage.className=f["validation-message"],v.customClass&&v.customClass.validationMessage&&Le(m.validationMessage,v.customClass.validationMessage),Tt(m.validationMessage);let x=this.getInput();x&&(x.setAttribute("aria-invalid","true"),x.setAttribute("aria-describedby",f["validation-message"]),cw(x),Le(x,f.inputerror))}function Hw(){let u=Je.domCache.get(this);u.validationMessage&&zt(u.validationMessage);let m=this.getInput();m&&(m.removeAttribute("aria-invalid"),m.removeAttribute("aria-describedby"),Hn(m,f.inputerror))}let Fs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Ik=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Tk={allowEnterKey:void 0},Ak=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ww=u=>Object.prototype.hasOwnProperty.call(Fs,u),qw=u=>Ik.indexOf(u)!==-1,Gw=u=>Tk[u],kk=u=>{Ww(u)||S(`Unknown parameter "${u}"`)},Nk=u=>{Ak.includes(u)&&S(`The parameter "${u}" is incompatible with toasts`)},Ok=u=>{let m=Gw(u);m&&oe(u,m)},Kw=u=>{u.backdrop===!1&&u.allowOutsideClick&&S('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),u.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(u.theme)&&S(`Invalid theme "${u.theme}"`);for(let m in u)kk(m),u.toast&&Nk(m),Ok(m)};function Qw(u){let m=be(),v=we(),x=Je.innerParams.get(this);if(!v||Ji(v,x.hideClass.popup)){S("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let T=Pk(u),U=Object.assign({},x,T);Kw(U),m.dataset.swal2Theme=U.theme,xw(this,U),Je.innerParams.set(this,U),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let Pk=u=>{let m={};return Object.keys(u).forEach(v=>{qw(v)?m[v]=u[v]:S(`Invalid parameter to update: ${v}`)}),m};function Yw(){let u=Je.domCache.get(this),m=Je.innerParams.get(this);if(!m){Zw(this);return}u.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof m.didDestroy=="function"&&m.didDestroy(),s.eventEmitter.emit("didDestroy"),Rk(this)}let Rk=u=>{Zw(u),delete u.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Zw=u=>{u.isAwaitingPromise?(Th(Je,u),u.isAwaitingPromise=!0):(Th(Os,u),Th(Je,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},Th=(u,m)=>{for(let v in u)u[v].delete(m)};var Fk=Object.freeze({__proto__:null,_destroy:Yw,close:Vr,closeModal:Vr,closePopup:Vr,closeToast:Vr,disableButtons:jw,disableInput:zw,disableLoading:ou,enableButtons:Bw,enableInput:$w,getInput:Fw,handleAwaitingPromise:al,hideLoading:ou,rejectPromise:Aw,resetValidationMessage:Hw,showValidationMessage:Uw,update:Qw});let Lk=(u,m,v)=>{u.toast?Vk(u,m,v):(jk(m),$k(m),zk(u,m,v))},Vk=(u,m,v)=>{m.popup.onclick=()=>{u&&(Bk(u)||u.timer||u.input)||v(Ns.close)}},Bk=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),su=!1,jk=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(m){u.container.onmouseup=()=>{},m.target===u.container&&(su=!0)}}},$k=u=>{u.container.onmousedown=m=>{m.target===u.container&&m.preventDefault(),u.popup.onmouseup=function(v){u.popup.onmouseup=()=>{},(v.target===u.popup||v.target instanceof HTMLElement&&u.popup.contains(v.target))&&(su=!0)}}},zk=(u,m,v)=>{m.container.onclick=x=>{if(su){su=!1;return}x.target===m.container&&Te(u.allowOutsideClick)&&v(Ns.backdrop)}},Uk=u=>typeof u=="object"&&u.jquery,Jw=u=>u instanceof Element||Uk(u),Hk=u=>{let m={};return typeof u[0]=="object"&&!Jw(u[0])?Object.assign(m,u[0]):["title","html","icon"].forEach((v,x)=>{let T=u[x];typeof T=="string"||Jw(T)?m[v]=T:T!==void 0&&A(`Unexpected type of ${v}! Expected "string" or "Element", got ${typeof T}`)}),m};function Wk(...u){return new this(...u)}function qk(u){class m extends this{_main(x,T){return super._main(x,Object.assign({},u,T))}}return m}let Gk=()=>s.timeout&&s.timeout.getTimerLeft(),Xw=()=>{if(s.timeout)return nA(),s.timeout.stop()},e_=()=>{if(s.timeout){let u=s.timeout.start();return wh(u),u}},Kk=()=>{let u=s.timeout;return u&&(u.running?Xw():e_())},Qk=u=>{if(s.timeout){let m=s.timeout.increase(u);return wh(m,!0),m}},Yk=()=>!!(s.timeout&&s.timeout.isRunning()),t_=!1,Ah={};function Zk(u="data-swal-template"){Ah[u]=this,t_||(document.body.addEventListener("click",Jk),t_=!0)}let Jk=u=>{for(let m=u.target;m&&m!==document;m=m.parentNode)for(let v in Ah){let x=m.getAttribute(v);if(x){Ah[v].fire({template:x});return}}};class Xk{constructor(){this.events={}}_getHandlersByEventName(m){return typeof this.events[m]>"u"&&(this.events[m]=[]),this.events[m]}on(m,v){let x=this._getHandlersByEventName(m);x.includes(v)||x.push(v)}once(m,v){let x=(...T)=>{this.removeListener(m,x),v.apply(this,T)};this.on(m,x)}emit(m,...v){this._getHandlersByEventName(m).forEach(x=>{try{x.apply(this,v)}catch(T){console.error(T)}})}removeListener(m,v){let x=this._getHandlersByEventName(m),T=x.indexOf(v);T>-1&&x.splice(T,1)}removeAllListeners(m){this.events[m]!==void 0&&(this.events[m].length=0)}reset(){this.events={}}}s.eventEmitter=new Xk;var eN=Object.freeze({__proto__:null,argsToParams:Hk,bindClickHandler:Zk,clickCancel:HA,clickConfirm:Dw,clickDeny:UA,enableLoading:Rs,fire:Wk,getActions:Rr,getCancelButton:Rt,getCloseButton:ui,getConfirmButton:We,getContainer:be,getDenyButton:ut,getFocusableElements:Fr,getFooter:Zc,getHtmlContainer:q,getIcon:Di,getIconContent:Yc,getImage:ee,getInputLabel:Ei,getLoader:je,getPopup:we,getProgressSteps:ne,getTimerLeft:Gk,getTimerProgressBar:dt,getTitle:rl,getValidationMessage:De,increaseTimer:Qk,isDeprecatedParameter:Gw,isLoading:J2,isTimerRunning:Yk,isUpdatableParameter:qw,isValidParameter:Ww,isVisible:zA,mixin:qk,off:(u,m)=>{if(!u){s.eventEmitter.reset();return}m?s.eventEmitter.removeListener(u,m):s.eventEmitter.removeAllListeners(u)},on:(u,m)=>{s.eventEmitter.on(u,m)},once:(u,m)=>{s.eventEmitter.once(u,m)},resumeTimer:e_,showLoading:Rs,stopTimer:Xw,toggleTimer:Kk});class tN{constructor(m,v){this.callback=m,this.remaining=v,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(m){let v=this.running;return v&&this.stop(),this.remaining+=m,v&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let n_=["swal-title","swal-html","swal-footer"],nN=u=>{let m=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!m)return{};let v=m.content;return uN(v),Object.assign(iN(v),rN(v),oN(v),sN(v),aN(v),lN(v),cN(v,n_))},iN=u=>{let m={};return Array.from(u.querySelectorAll("swal-param")).forEach(x=>{ko(x,["name","value"]);let T=x.getAttribute("name"),U=x.getAttribute("value");!T||!U||(typeof Fs[T]=="boolean"?m[T]=U!=="false":typeof Fs[T]=="object"?m[T]=JSON.parse(U):m[T]=U)}),m},rN=u=>{let m={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(x=>{let T=x.getAttribute("name"),U=x.getAttribute("value");!T||!U||(m[T]=new Function(`return ${U}`)())}),m},oN=u=>{let m={};return Array.from(u.querySelectorAll("swal-button")).forEach(x=>{ko(x,["type","color","aria-label"]);let T=x.getAttribute("type");!T||!["confirm","cancel","deny"].includes(T)||(m[`${T}ButtonText`]=x.innerHTML,m[`show${D(T)}Button`]=!0,x.hasAttribute("color")&&(m[`${T}ButtonColor`]=x.getAttribute("color")),x.hasAttribute("aria-label")&&(m[`${T}ButtonAriaLabel`]=x.getAttribute("aria-label")))}),m},sN=u=>{let m={},v=u.querySelector("swal-image");return v&&(ko(v,["src","width","height","alt"]),v.hasAttribute("src")&&(m.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(m.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(m.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(m.imageAlt=v.getAttribute("alt")||void 0)),m},aN=u=>{let m={},v=u.querySelector("swal-icon");return v&&(ko(v,["type","color"]),v.hasAttribute("type")&&(m.icon=v.getAttribute("type")),v.hasAttribute("color")&&(m.iconColor=v.getAttribute("color")),m.iconHtml=v.innerHTML),m},lN=u=>{let m={},v=u.querySelector("swal-input");v&&(ko(v,["type","label","placeholder","value"]),m.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(m.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(m.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(m.inputValue=v.getAttribute("value")));let x=Array.from(u.querySelectorAll("swal-input-option"));return x.length&&(m.inputOptions={},x.forEach(T=>{ko(T,["value"]);let U=T.getAttribute("value");if(!U)return;let Ie=T.innerHTML;m.inputOptions[U]=Ie})),m},cN=(u,m)=>{let v={};for(let x in m){let T=m[x],U=u.querySelector(T);U&&(ko(U,[]),v[T.replace(/^swal-/,"")]=U.innerHTML.trim())}return v},uN=u=>{let m=n_.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(v=>{let x=v.tagName.toLowerCase();m.includes(x)||S(`Unrecognized element <${x}>`)})},ko=(u,m)=>{Array.from(u.attributes).forEach(v=>{m.indexOf(v.name)===-1&&S([`Unrecognized attribute "${v.name}" on <${u.tagName.toLowerCase()}>.`,`${m.length?`Allowed attributes are: ${m.join(", ")}`:"To set the value, use HTML within the element."}`])})},i_=10,dN=u=>{let m=be(),v=we();typeof u.willOpen=="function"&&u.willOpen(v),s.eventEmitter.emit("willOpen",v);let T=window.getComputedStyle(document.body).overflowY;hN(m,v,u),setTimeout(()=>{fN(m,v)},i_),Io()&&(pN(m,u.scrollbarPadding,T),JA()),!Jc()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(()=>u.didOpen(v)),s.eventEmitter.emit("didOpen",v)},au=u=>{let m=we();if(u.target!==m)return;let v=be();m.removeEventListener("animationend",au),m.removeEventListener("transitionend",au),v.style.overflowY="auto",Hn(v,f["no-transition"])},fN=(u,m)=>{fw(m)?(u.style.overflowY="hidden",m.addEventListener("animationend",au),m.addEventListener("transitionend",au)):u.style.overflowY="auto"},pN=(u,m,v)=>{XA(),m&&v!=="hidden"&&sk(v),setTimeout(()=>{u.scrollTop=0})},hN=(u,m,v)=>{Le(u,v.showClass.backdrop),v.animation?(m.style.setProperty("opacity","0","important"),Tt(m,"grid"),setTimeout(()=>{Le(m,v.showClass.popup),m.style.removeProperty("opacity")},i_)):Tt(m,"grid"),Le([document.documentElement,document.body],f.shown),v.heightAuto&&v.backdrop&&!v.toast&&Le([document.documentElement,document.body],f["height-auto"])};var r_={email:(u,m)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(m||"Invalid email address"),url:(u,m)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(m||"Invalid URL")};function mN(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=r_.email),u.input==="url"&&(u.inputValidator=r_.url))}function gN(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(S('Target parameter is not valid, defaulting to "body"'),u.target="body")}function yN(u){mN(u),u.showLoaderOnConfirm&&!u.preConfirm&&S(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),gN(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),uA(u)}let Si;var lu=new WeakMap;class pt{constructor(...m){if(i(this,lu,void 0),typeof window>"u")return;Si=this;let v=Object.freeze(this.constructor.argsToParams(m));this.params=v,this.isAwaitingPromise=!1,r(lu,this,this._main(Si.params))}_main(m,v={}){if(Kw(Object.assign({},v,m)),s.currentInstance){let U=Os.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Ie}=s.currentInstance;s.currentInstance._destroy(),Ie||U({isDismissed:!0}),Io()&&Mw()}s.currentInstance=Si;let x=bN(m,v);yN(x),Object.freeze(x),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let T=wN(Si);return xw(Si,x),Je.innerParams.set(Si,x),vN(Si,T,x)}then(m){return e(lu,this).then(m)}finally(m){return e(lu,this).finally(m)}}let vN=(u,m,v)=>new Promise((x,T)=>{let U=Ie=>{u.close({isDismissed:!0,dismiss:Ie,isConfirmed:!1,isDenied:!1})};Os.swalPromiseResolve.set(u,x),Os.swalPromiseReject.set(u,T),m.confirmButton.onclick=()=>{xk(u)},m.denyButton.onclick=()=>{Dk(u)},m.cancelButton.onclick=()=>{Ek(u,U)},m.closeButton.onclick=()=>{U(Ns.close)},Lk(v,m,U),WA(s,v,U),hk(u,v),dN(v),_N(s,v,U),CN(m,v),setTimeout(()=>{m.container.scrollTop=0})}),bN=(u,m)=>{let v=nN(u),x=Object.assign({},Fs,m,v,u);return x.showClass=Object.assign({},Fs.showClass,x.showClass),x.hideClass=Object.assign({},Fs.hideClass,x.hideClass),x.animation===!1&&(x.showClass={backdrop:"swal2-noanimation"},x.hideClass={}),x},wN=u=>{let m={popup:we(),container:be(),actions:Rr(),confirmButton:We(),denyButton:ut(),cancelButton:Rt(),loader:je(),closeButton:ui(),validationMessage:De(),progressSteps:ne()};return Je.domCache.set(u,m),m},_N=(u,m,v)=>{let x=dt();zt(x),m.timer&&(u.timeout=new tN(()=>{v("timer"),delete u.timeout},m.timer),m.timerProgressBar&&(Tt(x),An(x,m,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&wh(m.timer)})))},CN=(u,m)=>{if(!m.toast){if(!Te(m.allowEnterKey)){oe("allowEnterKey"),EN();return}xN(u)||DN(u,m)||Sh(-1,1)}},xN=u=>{let m=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let v of m)if(v instanceof HTMLElement&&hn(v))return v.focus(),!0;return!1},DN=(u,m)=>m.focusDeny&&hn(u.denyButton)?(u.denyButton.focus(),!0):m.focusCancel&&hn(u.cancelButton)?(u.cancelButton.focus(),!0):m.focusConfirm&&hn(u.confirmButton)?(u.confirmButton.focus(),!0):!1,EN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};pt.prototype.disableButtons=jw,pt.prototype.enableButtons=Bw,pt.prototype.getInput=Fw,pt.prototype.disableInput=zw,pt.prototype.enableInput=$w,pt.prototype.hideLoading=ou,pt.prototype.disableLoading=ou,pt.prototype.showValidationMessage=Uw,pt.prototype.resetValidationMessage=Hw,pt.prototype.close=Vr,pt.prototype.closePopup=Vr,pt.prototype.closeModal=Vr,pt.prototype.closeToast=Vr,pt.prototype.rejectPromise=Aw,pt.prototype.update=Qw,pt.prototype._destroy=Yw,Object.assign(pt,eN),Object.keys(Fk).forEach(u=>{pt[u]=function(...m){return Si&&Si[u]?Si[u](...m):null}}),pt.DismissReason=Ns,pt.version="11.26.10";let cu=pt;return cu.default=cu,cu});typeof Zi<"u"&&Zi.Sweetalert2&&(Zi.swal=Zi.sweetAlert=Zi.Swal=Zi.SweetAlert=Zi.Sweetalert2);typeof document<"u"&&function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});function l_(n,t){return Object.is(n,t)}var St=null,du=!1,fu=1,Xi=Symbol("SIGNAL");function Ne(n){let t=St;return St=n,t}function c_(){return St}var ul={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lh(n){if(du)throw new Error("");if(St===null)return;St.consumerOnSignalRead(n);let t=St.nextProducerIndex++;if(gu(St),t<St.producerNode.length&&St.producerNode[t]!==n&&cl(St)){let e=St.producerNode[t];mu(e,St.producerIndexOfThis[t])}St.producerNode[t]!==n&&(St.producerNode[t]=n,St.producerIndexOfThis[t]=cl(St)?p_(n,St,t):0),St.producerLastReadVersion[t]=n.version}function PN(){fu++}function u_(n){if(!(cl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===fu)){if(!n.producerMustRecompute(n)&&!Bh(n)){n.dirty=!1,n.lastCleanEpoch=fu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=fu}}function d_(n){if(n.liveConsumerNode===void 0)return;let t=du;du=!0;try{for(let e of n.liveConsumerNode)e.dirty||RN(e)}finally{du=t}}function f_(){return St?.consumerAllowSignalWrites!==!1}function RN(n){n.dirty=!0,d_(n),n.consumerMarkedDirty?.(n)}function hu(n){return n&&(n.nextProducerIndex=0),Ne(n)}function Vh(n,t){if(Ne(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(cl(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)mu(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Bh(n){gu(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(u_(e),i!==e.version))return!0}return!1}function jh(n){if(gu(n),cl(n))for(let t=0;t<n.producerNode.length;t++)mu(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function p_(n,t,e){if(h_(n),n.liveConsumerNode.length===0&&m_(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=p_(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function mu(n,t){if(h_(n),n.liveConsumerNode.length===1&&m_(n))for(let i=0;i<n.producerNode.length;i++)mu(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];gu(r),r.producerIndexOfThis[i]=t}}function cl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function h_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function m_(n){return n.producerNode!==void 0}function g_(n){let t=Object.create(FN);t.computation=n;let e=()=>{if(u_(t),Lh(t),t.value===pu)throw t.error;return t.value};return e[Xi]=t,e}var Rh=Symbol("UNSET"),Fh=Symbol("COMPUTING"),pu=Symbol("ERRORED"),FN=ae(F({},ul),{value:Rh,dirty:!0,error:null,equal:l_,producerMustRecompute(n){return n.value===Rh||n.value===Fh},producerRecomputeValue(n){if(n.value===Fh)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Fh;let e=hu(n),i;try{i=n.computation()}catch(r){i=pu,n.error=r}finally{Vh(n,e)}if(t!==Rh&&t!==pu&&i!==pu&&n.equal(t,i)){n.value=t;return}n.value=i,n.version++}});function LN(){throw new Error}var y_=LN;function v_(){y_()}function b_(n){y_=n}var VN=null;function w_(n){let t=Object.create(C_);t.value=n;let e=()=>(Lh(t),t.value);return e[Xi]=t,e}function $h(n,t){f_()||v_(),n.equal(n.value,t)||(n.value=t,BN(n))}function __(n,t){f_()||v_(),$h(n,t(n.value))}var C_=ae(F({},ul),{equal:l_,value:void 0});function BN(n){n.version++,PN(),d_(n),VN?.()}function de(n){return typeof n=="function"}function Vs(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var yu=Vs(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function dl(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var bt=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(de(i))try{i()}catch(o){t=o instanceof yu?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{x_(o)}catch(s){t=t??[],s instanceof yu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new yu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)x_(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&dl(e,t)}remove(t){let{_finalizers:e}=this;e&&dl(e,t),t instanceof n&&t._removeParent(this)}};bt.EMPTY=(()=>{let n=new bt;return n.closed=!0,n})();var zh=bt.EMPTY;function vu(n){return n instanceof bt||n&&"closed"in n&&de(n.remove)&&de(n.add)&&de(n.unsubscribe)}function x_(n){de(n)?n():n.unsubscribe()}var di={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bs={setTimeout(n,t,...e){let{delegate:i}=Bs;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Bs;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bu(n){Bs.setTimeout(()=>{let{onUnhandledError:t}=di;if(t)t(n);else throw n})}function fl(){}var D_=Uh("C",void 0,void 0);function E_(n){return Uh("E",void 0,n)}function S_(n){return Uh("N",n,void 0)}function Uh(n,t,e){return{kind:n,value:t,error:e}}var No=null;function js(n){if(di.useDeprecatedSynchronousErrorHandling){let t=!No;if(t&&(No={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=No;if(No=null,e)throw i}}else n()}function M_(n){di.useDeprecatedSynchronousErrorHandling&&No&&(No.errorThrown=!0,No.error=n)}var Oo=class extends bt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,vu(t)&&t.add(this)):this.destination=zN}static create(t,e,i){return new $s(t,e,i)}next(t){this.isStopped?Wh(S_(t),this):this._next(t)}error(t){this.isStopped?Wh(E_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wh(D_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jN=Function.prototype.bind;function Hh(n,t){return jN.call(n,t)}var qh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){wu(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){wu(i)}else wu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){wu(e)}}},$s=class extends Oo{constructor(t,e,i){super();let r;if(de(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&di.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Hh(t.next,o),error:t.error&&Hh(t.error,o),complete:t.complete&&Hh(t.complete,o)}):r=t}this.destination=new qh(r)}};function wu(n){di.useDeprecatedSynchronousErrorHandling?M_(n):bu(n)}function $N(n){throw n}function Wh(n,t){let{onStoppedNotification:e}=di;e&&Bs.setTimeout(()=>e(n,t))}var zN={closed:!0,next:fl,error:$N,complete:fl};var zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kn(n){return n}function Gh(...n){return Kh(n)}function Kh(n){return n.length===0?kn:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var Ae=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=HN(e)?e:new $s(e,i,r);return js(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=I_(i),new i((r,o)=>{let s=new $s({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[zs](){return this}pipe(...e){return Kh(e)(this)}toPromise(e){return e=I_(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function I_(n){var t;return(t=n??di.Promise)!==null&&t!==void 0?t:Promise}function UN(n){return n&&de(n.next)&&de(n.error)&&de(n.complete)}function HN(n){return n&&n instanceof Oo||UN(n)&&vu(n)}function Qh(n){return de(n?.lift)}function ke(n){return t=>{if(Qh(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new Yh(n,t,e,i,r)}var Yh=class extends Oo{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Us(){return ke((n,t)=>{let e=null;n._refCount++;let i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var Hs=class extends Ae{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Qh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bt;let e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bt.EMPTY)}return t}refCount(){return Us()(this)}};var T_=Vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class n extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new _u(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new T_}next(e){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?zh:(this.currentObservers=null,o.push(e),new bt(()=>{this.currentObservers=null,dl(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new Ae;return e.source=this,e}}return n.create=(t,e)=>new _u(t,e),n})(),_u=class extends tt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:zh}};var ht=class extends tt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Nn=new Ae(n=>n.complete());function A_(n){return n&&de(n.schedule)}function k_(n){return n[n.length-1]}function Cu(n){return de(k_(n))?n.pop():void 0}function Br(n){return A_(k_(n))?n.pop():void 0}function O_(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}function N_(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Po(n){return this instanceof Po?(this.v=n,this):new Po(n)}function P_(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(b){return function(_){return Promise.resolve(_).then(b,f)}}function a(b,_){i[b]&&(r[b]=function(D){return new Promise(function(S,A){o.push([b,D,S,A])>1||l(b,D)})},_&&(r[b]=_(r[b])))}function l(b,_){try{c(i[b](_))}catch(D){w(o[0][3],D)}}function c(b){b.value instanceof Po?Promise.resolve(b.value.v).then(d,f):w(o[0][2],b)}function d(b){l("next",b)}function f(b){l("throw",b)}function w(b,_){b(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function R_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof N_=="function"?N_(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var xu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Du(n){return de(n?.then)}function Eu(n){return de(n[zs])}function Su(n){return Symbol.asyncIterator&&de(n?.[Symbol.asyncIterator])}function Mu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=WN();function Tu(n){return de(n?.[Iu])}function Au(n){return P_(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield Po(e.read());if(r)return yield Po(void 0);yield yield Po(i)}}finally{e.releaseLock()}})}function ku(n){return de(n?.getReader)}function wt(n){if(n instanceof Ae)return n;if(n!=null){if(Eu(n))return qN(n);if(xu(n))return GN(n);if(Du(n))return KN(n);if(Su(n))return F_(n);if(Tu(n))return QN(n);if(ku(n))return YN(n)}throw Mu(n)}function qN(n){return new Ae(t=>{let e=n[zs]();if(de(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GN(n){return new Ae(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function KN(n){return new Ae(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,bu)})}function QN(n){return new Ae(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function F_(n){return new Ae(t=>{ZN(n,t).catch(e=>t.error(e))})}function YN(n){return F_(Au(n))}function ZN(n,t){var e,i,r,o;return O_(this,void 0,void 0,function*(){try{for(e=R_(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function mn(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Nu(n,t=0){return ke((e,i)=>{e.subscribe(Se(i,r=>mn(i,n,()=>i.next(r),t),()=>mn(i,n,()=>i.complete(),t),r=>mn(i,n,()=>i.error(r),t)))})}function Ou(n,t=0){return ke((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function L_(n,t){return wt(n).pipe(Ou(t),Nu(t))}function V_(n,t){return wt(n).pipe(Ou(t),Nu(t))}function B_(n,t){return new Ae(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function j_(n,t){return new Ae(e=>{let i;return mn(e,t,()=>{i=n[Iu](),mn(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>de(i?.return)&&i.return()})}function Pu(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ae(e=>{mn(e,t,()=>{let i=n[Symbol.asyncIterator]();mn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function $_(n,t){return Pu(Au(n),t)}function z_(n,t){if(n!=null){if(Eu(n))return L_(n,t);if(xu(n))return B_(n,t);if(Du(n))return V_(n,t);if(Su(n))return Pu(n,t);if(Tu(n))return j_(n,t);if(ku(n))return $_(n,t)}throw Mu(n)}function Xe(n,t){return t?z_(n,t):wt(n)}function te(...n){let t=Br(n);return Xe(n,t)}function Ws(n,t){let e=de(n)?n:()=>n,i=r=>r.error(e());return new Ae(t?r=>t.schedule(i,0,r):i)}function pl(n){return!!n&&(n instanceof Ae||de(n.lift)&&de(n.subscribe))}var er=Vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(n,t){return ke((e,i)=>{let r=0;e.subscribe(Se(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:JN}=Array;function XN(n,t){return JN(t)?n(...t):n(t)}function Ru(n){return ue(t=>XN(n,t))}var{isArray:eO}=Array,{getPrototypeOf:tO,prototype:nO,keys:iO}=Object;function Fu(n){if(n.length===1){let t=n[0];if(eO(t))return{args:t,keys:null};if(rO(t)){let e=iO(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function rO(n){return n&&typeof n=="object"&&tO(n)===nO}function Lu(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function hl(...n){let t=Br(n),e=Cu(n),{args:i,keys:r}=Fu(n);if(i.length===0)return Xe([],t);let o=new Ae(oO(i,t,r?s=>Lu(r,s):kn));return e?o.pipe(Ru(e)):o}function oO(n,t,e=kn){return i=>{U_(t,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)U_(t,()=>{let c=Xe(n[l],t),d=!1;c.subscribe(Se(i,f=>{o[l]=f,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function U_(n,t,e){n?mn(e,n,t):t()}function H_(n,t,e,i,r,o,s,a){let l=[],c=0,d=0,f=!1,w=()=>{f&&!l.length&&!c&&t.complete()},b=D=>c<i?_(D):l.push(D),_=D=>{o&&t.next(D),c++;let S=!1;wt(e(D,d++)).subscribe(Se(t,A=>{r?.(A),o?b(A):t.next(A)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){let A=l.shift();s?mn(t,s,()=>_(A)):_(A)}w()}catch(A){t.error(A)}}))};return n.subscribe(Se(t,b,()=>{f=!0,w()})),()=>{a?.()}}function _t(n,t,e=1/0){return de(t)?_t((i,r)=>ue((o,s)=>t(i,o,r,s))(wt(n(i,r))),e):(typeof t=="number"&&(e=t),ke((i,r)=>H_(i,r,n,e)))}function jr(n=1/0){return _t(kn,n)}function W_(){return jr(1)}function qs(...n){return W_()(Xe(n,Br(n)))}function Vu(n){return new Ae(t=>{wt(n()).subscribe(t)})}function Zh(...n){let t=Cu(n),{args:e,keys:i}=Fu(n),r=new Ae(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let f=!1;wt(e[d]).subscribe(Se(o,w=>{f||(f=!0,c--),a[d]=w},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?Lu(i,a):a),o.complete())}))}});return t?r.pipe(Ru(t)):r}function gn(n,t){return ke((e,i)=>{let r=0;e.subscribe(Se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function $r(n){return ke((t,e)=>{let i=null,r=!1,o;i=t.subscribe(Se(e,void 0,void 0,s=>{o=wt(n(s,$r(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function q_(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Se(s,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function tr(n,t){return de(t)?_t(n,t,1):_t(n,1)}function zr(n){return ke((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function nr(n){return n<=0?()=>Nn:ke((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Jh(n){return ue(()=>n)}function Bu(n=sO){return ke((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function sO(){return new er}function Ur(n){return ke((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Mi(n,t){let e=arguments.length>=2;return i=>i.pipe(n?gn((r,o)=>n(r,o,i)):kn,nr(1),e?zr(t):Bu(()=>new er))}function Gs(n){return n<=0?()=>Nn:ke((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Xh(n,t){let e=arguments.length>=2;return i=>i.pipe(n?gn((r,o)=>n(r,o,i)):kn,Gs(1),e?zr(t):Bu(()=>new er))}function em(n,t){return ke(q_(n,t,arguments.length>=2,!0))}function tm(...n){let t=Br(n);return ke((e,i)=>{(t?qs(n,e,t):qs(n,e)).subscribe(i)})}function yn(n,t){return ke((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(Se(i,l=>{r?.unsubscribe();let c=0,d=o++;wt(n(l,d)).subscribe(r=Se(i,f=>i.next(t?t(l,f,d,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ml(n){return ke((t,e)=>{wt(n).subscribe(Se(e,()=>e.complete(),fl)),!e.closed&&t.subscribe(e)})}function ot(n,t,e){let i=de(n)||t||e?{next:n,error:t,complete:e}:n;return i?ke((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Se(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):kn}var R1="https://g.co/ng/security#xss",L=class extends Error{constructor(t,e){super(Md(t,e)),this.code=t}};function Md(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}function Sl(n){return{toString:n}.toString()}var ju="__parameters__";function aO(n){return function(...e){if(n){let i=n(...e);for(let r in i)this[r]=i[r]}}}function F1(n,t,e){return Sl(()=>{let i=aO(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let f=l.hasOwnProperty(ju)?l[ju]:Object.defineProperty(l,ju,{value:[]})[ju];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Ft=globalThis;function Ye(n){for(let t in n)if(n[t]===Ye)return t;throw Error("Could not find renamed property on target object.")}function lO(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function en(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(en).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function gm(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var cO=Ye({__forward_ref__:Ye});function Ht(n){return n.__forward_ref__=Ht,n.toString=function(){return en(this())},n}function Xt(n){return L1(n)?n():n}function L1(n){return typeof n=="function"&&n.hasOwnProperty(cO)&&n.__forward_ref__===Ht}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function at(n){return{providers:n.providers||[],imports:n.imports||[]}}function Id(n){return G_(n,B1)||G_(n,j1)}function V1(n){return Id(n)!==null}function G_(n,t){return n.hasOwnProperty(t)?n[t]:null}function uO(n){let t=n&&(n[B1]||n[j1]);return t||null}function K_(n){return n&&(n.hasOwnProperty(Q_)||n.hasOwnProperty(dO))?n[Q_]:null}var B1=Ye({\u0275prov:Ye}),Q_=Ye({\u0275inj:Ye}),j1=Ye({ngInjectableDef:Ye}),dO=Ye({ngInjectorDef:Ye}),W=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=V({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $1(n){return n&&!!n.\u0275providers}var fO=Ye({\u0275cmp:Ye}),pO=Ye({\u0275dir:Ye}),hO=Ye({\u0275pipe:Ye}),mO=Ye({\u0275mod:Ye}),Xu=Ye({\u0275fac:Ye}),yl=Ye({__NG_ELEMENT_ID__:Ye}),Y_=Ye({__NG_ENV_ID__:Ye});function Lo(n){return typeof n=="string"?n:n==null?"":String(n)}function gO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Lo(n)}function yO(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new L(-200,n)}function xg(n,t){throw new L(-201,!1)}var Ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ce||{}),ym;function z1(){return ym}function vn(n){let t=ym;return ym=n,t}function U1(n,t,e){let i=Id(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&Ce.Optional)return null;if(t!==void 0)return t;xg(n,"Injector")}var vO={},bl=vO,vm="__NG_DI_FLAG__",ed="ngTempTokenPath",bO="ngTokenPath",wO=/\n/gm,_O="\u0275",Z_="__source",Js;function CO(){return Js}function Hr(n){let t=Js;return Js=n,t}function xO(n,t=Ce.Default){if(Js===void 0)throw new L(-203,!1);return Js===null?U1(n,void 0,t):Js.get(n,t&Ce.Optional?null:void 0,t)}function j(n,t=Ce.Default){return(z1()||xO)(Xt(n),t)}function B(n,t=Ce.Default){return j(n,Td(t))}function Td(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bm(n){let t=[];for(let e=0;e<n.length;e++){let i=Xt(n[e]);if(Array.isArray(i)){if(i.length===0)throw new L(900,!1);let r,o=Ce.Default;for(let s=0;s<i.length;s++){let a=i[s],l=DO(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(j(r,o))}else t.push(j(i))}return t}function H1(n,t){return n[vm]=t,n.prototype[vm]=t,n}function DO(n){return n[vm]}function EO(n,t,e,i){let r=n[ed];throw t[Z_]&&r.unshift(t[Z_]),n.message=SO(`
`+n.message,r,e,i),n[bO]=r,n[ed]=null,n}function SO(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==_O?n.slice(2):n;let r=en(t);if(Array.isArray(t))r=t.map(en).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):en(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(wO,`
  `)}`}var Ml=H1(F1("Optional"),8);var Ad=H1(F1("SkipSelf"),4);function Vo(n,t){let e=n.hasOwnProperty(Xu);return e?n[Xu]:null}function MO(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function IO(n){return n.flat(Number.POSITIVE_INFINITY)}function Dg(n,t){n.forEach(e=>Array.isArray(e)?Dg(e,t):t(e))}function W1(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function td(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function TO(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function AO(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function kd(n,t,e){let i=Il(n,t);return i>=0?n[i|1]=e:(i=~i,AO(n,i,t,e)),i}function nm(n,t){let e=Il(n,t);if(e>=0)return n[e|1]}function Il(n,t){return kO(n,t,1)}function kO(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}var ea={},bn=[],ta=new W(""),q1=new W("",-1),G1=new W(""),nd=class{get(t,e=bl){if(e===bl){let i=new Error(`NullInjectorError: No provider for ${en(t)}!`);throw i.name="NullInjectorError",i}return e}},K1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(K1||{}),Ai=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ai||{}),Gr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gr||{});function NO(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function wm(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{let o=r,s=e[++i];OO(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Q1(n){return n===3||n===4||n===6}function OO(n){return n.charCodeAt(0)===64}function wl(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?J_(n,e,r,null,t[++i]):J_(n,e,r,null,null))}}return n}function J_(n,t,e,i,r){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var Y1="ng-template";function PO(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&NO(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Eg(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Eg(n){return n.type===4&&n.value!==Y1}function RO(n,t,e){let i=n.type===4&&!e?Y1:n.value;return t===i}function FO(n,t,e){let i=4,r=n.attrs,o=r!==null?BO(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!fi(i)&&!fi(l))return!1;if(s&&fi(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!RO(n,l,e)||l===""&&t.length===1){if(fi(i))return!1;s=!0}}else if(i&8){if(r===null||!PO(n,r,l,e)){if(fi(i))return!1;s=!0}}else{let c=t[++a],d=LO(l,r,Eg(n),e);if(d===-1){if(fi(i))return!1;s=!0;continue}if(c!==""){let f;if(d>o?f="":f=r[d+1].toLowerCase(),i&2&&c!==f){if(fi(i))return!1;s=!0}}}}return fi(i)||s}function fi(n){return(n&1)===0}function LO(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let s=t[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return jO(t,n)}function Z1(n,t,e=!1){for(let i=0;i<t.length;i++)if(FO(n,t[i],e))return!0;return!1}function VO(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function BO(n){for(let t=0;t<n.length;t++){let e=n[t];if(Q1(e))return t}return n.length}function jO(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function $O(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function X_(n,t){return n?":not("+t.trim()+")":t}function zO(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fi(s)&&(t+=X_(o,r),r=""),i=s,o=o||!fi(i);e++}return r!==""&&(t+=X_(o,r)),t}function UO(n){return n.map(zO).join(",")}function HO(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!fi(r))break;r=o}i++}return{attrs:t,classes:e}}function ie(n){return Sl(()=>{let t=nC(n),e=ae(F({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===K1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ai.Emulated,styles:n.styles||bn,_:null,schemas:n.schemas||null,tView:null,id:""});iC(e);let i=n.dependencies;return e.directiveDefs=t1(i,!1),e.pipeDefs=t1(i,!0),e.id=GO(e),e})}function WO(n){return ir(n)||J1(n)}function qO(n){return n!==null}function lt(n){return Sl(()=>({type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function e1(n,t){if(n==null)return ea;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=Gr.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(e[o]=a!==Gr.None?[i,a]:i,t[o]=s):e[o]=i}return e}function ze(n){return Sl(()=>{let t=nC(n);return iC(t),t})}function Jr(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ir(n){return n[fO]||null}function J1(n){return n[pO]||null}function X1(n){return n[hO]||null}function eC(n){let t=ir(n)||J1(n)||X1(n);return t!==null?t.standalone:!1}function tC(n,t){let e=n[mO]||null;if(!e&&t===!0)throw new Error(`Type ${en(n)} does not have '\u0275mod' property.`);return e}function nC(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ea,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:e1(n.inputs,t),outputs:e1(n.outputs),debugInfo:null}}function iC(n){n.features?.forEach(t=>t(n))}function t1(n,t){if(!n)return null;let e=t?X1:WO;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(qO)}function GO(n){let t=0,e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Nd(n){return{\u0275providers:n}}function KO(...n){return{\u0275providers:rC(!0,n),\u0275fromNgModule:!0}}function rC(n,...t){let e=[],i=new Set,r,o=s=>{e.push(s)};return Dg(t,s=>{let a=s;_m(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&oC(r,o),e}function oC(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];Sg(r,o=>{t(o,i)})}}function _m(n,t,e,i){if(n=Xt(n),!n)return!1;let r=null,o=K_(n),s=!o&&ir(n);if(!o&&!s){let l=n.ngModule;if(o=K_(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)_m(c,t,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Dg(o.imports,d=>{_m(d,t,e,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&oC(c,t)}if(!a){let c=Vo(r)||(()=>new r);t({provide:r,useFactory:c,deps:bn},r),t({provide:G1,useValue:r,multi:!0},r),t({provide:ta,useValue:()=>j(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;Sg(l,d=>{t(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function Sg(n,t){for(let e of n)$1(e)&&(e=e.\u0275providers),Array.isArray(e)?Sg(e,t):t(e)}var QO=Ye({provide:String,useValue:Ye});function sC(n){return n!==null&&typeof n=="object"&&QO in n}function YO(n){return!!(n&&n.useExisting)}function ZO(n){return!!(n&&n.useFactory)}function na(n){return typeof n=="function"}function JO(n){return!!n.useClass}var Od=new W(""),Ku={},XO={},im;function Pd(){return im===void 0&&(im=new nd),im}var tn=class{},_l=class extends tn{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xm(t,s=>this.processProvider(s)),this.records.set(q1,Ks(void 0,this)),r.has("environment")&&this.records.set(tn,Ks(void 0,this));let o=this.records.get(Od);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(G1,bn,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ne(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=Hr(this),i=vn(void 0),r;try{return t()}finally{Hr(e),vn(i)}}get(t,e=bl,i=Ce.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Y_))return t[Y_](this);i=Td(i);let r,o=Hr(this),s=vn(void 0);try{if(!(i&Ce.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=rP(t)&&Id(t);c&&this.injectableDefInScope(c)?l=Ks(Cm(t),Ku):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Ce.Self?Pd():this.parent;return e=i&Ce.Optional&&e===bl?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ed]=a[ed]||[]).unshift(en(t)),o)throw a;return EO(a,t,"R3InjectorError",this.source)}else throw a}finally{vn(s),Hr(o)}}resolveInjectorInitializers(){let t=Ne(null),e=Hr(this),i=vn(void 0),r;try{let o=this.get(ta,bn,Ce.Self);for(let s of o)s()}finally{Hr(e),vn(i),Ne(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(en(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(t){t=Xt(t);let e=na(t)?t:Xt(t&&t.provide),i=tP(t);if(!na(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Ks(void 0,Ku,!0),r.factory=()=>bm(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){let i=Ne(null);try{return e.value===Ku&&(e.value=XO,e.value=e.factory()),typeof e.value=="object"&&e.value&&iP(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Ne(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Xt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Cm(n){let t=Id(n),e=t!==null?t.factory:Vo(n);if(e!==null)return e;if(n instanceof W)throw new L(204,!1);if(n instanceof Function)return eP(n);throw new L(204,!1)}function eP(n){if(n.length>0)throw new L(204,!1);let e=uO(n);return e!==null?()=>e.factory(n):()=>new n}function tP(n){if(sC(n))return Ks(void 0,n.useValue);{let t=aC(n);return Ks(t,Ku)}}function aC(n,t,e){let i;if(na(n)){let r=Xt(n);return Vo(r)||Cm(r)}else if(sC(n))i=()=>Xt(n.useValue);else if(ZO(n))i=()=>n.useFactory(...bm(n.deps||[]));else if(YO(n))i=()=>j(Xt(n.useExisting));else{let r=Xt(n&&(n.useClass||n.provide));if(nP(n))i=()=>new r(...bm(n.deps));else return Vo(r)||Cm(r)}return i}function Ks(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function nP(n){return!!n.deps}function iP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rP(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function xm(n,t){for(let e of n)Array.isArray(e)?xm(e,t):e&&$1(e)?xm(e.\u0275providers,t):t(e)}function Gn(n,t){n instanceof _l&&n.assertNotDestroyed();let e,i=Hr(n),r=vn(void 0);try{return t()}finally{Hr(i),vn(r)}}function lC(){return z1()!==void 0||CO()!=null}function oP(n){if(!lC())throw new L(-203,!1)}function sP(n){let t=Ft.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function aP(n){return typeof n=="function"}var ar=0,me=1,le=2,Ut=3,hi=4,wn=5,Cl=6,id=7,mi=8,ia=9,ki=10,st=11,xl=12,n1=13,ca=14,qn=15,Bo=16,Qs=17,rr=18,Rd=19,cC=20,Wr=21,rm=22,Wn=23,nn=25,uC=1;var jo=7,rd=8,ra=9,On=10,od=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(od||{});function qr(n){return Array.isArray(n)&&typeof n[uC]=="object"}function lr(n){return Array.isArray(n)&&n[uC]===!0}function Mg(n){return(n.flags&4)!==0}function Fd(n){return n.componentOffset>-1}function Ld(n){return(n.flags&1)===1}function Kr(n){return!!n.template}function Dm(n){return(n[le]&512)!==0}var Em=class{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function dC(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}function _n(){return fC}function fC(n){return n.type.prototype.ngOnChanges&&(n.setInput=cP),lP}_n.ngInherit=!0;function lP(){let n=hC(this),t=n?.current;if(t){let e=n.previous;if(e===ea)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function cP(n,t,e,i,r){let o=this.declaredInputs[i],s=hC(n)||uP(n,{previous:ea,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Em(c&&c.currentValue,e,l===ea),dC(n,t,r,e)}var pC="__ngSimpleChanges__";function hC(n){return n[pC]||null}function uP(n,t){return n[pC]=t}var i1=null;var Ii=function(n,t,e){i1?.(n,t,e)},dP="svg",fP="math";function Ni(n){for(;Array.isArray(n);)n=n[ar];return n}function mC(n,t){return Ni(t[n])}function Kn(n,t){return Ni(t[n.index])}function gC(n,t){return n.data[t]}function Ig(n,t){return n[t]}function Xr(n,t){let e=t[n];return qr(e)?e:e[ar]}function pP(n){return(n[le]&4)===4}function Tg(n){return(n[le]&128)===128}function hP(n){return lr(n[Ut])}function oa(n,t){return t==null?null:n[t]}function yC(n){n[Qs]=0}function vC(n){n[le]&1024||(n[le]|=1024,Tg(n)&&Bd(n))}function mP(n,t){for(;n>0;)t=t[ca],n--;return t}function Vd(n){return!!(n[le]&9216||n[Wn]?.dirty)}function Sm(n){n[ki].changeDetectionScheduler?.notify(8),n[le]&64&&(n[le]|=1024),Vd(n)&&Bd(n)}function Bd(n){n[ki].changeDetectionScheduler?.notify(0);let t=$o(n);for(;t!==null&&!(t[le]&8192||(t[le]|=8192,!Tg(t)));)t=$o(t)}function bC(n,t){if((n[le]&256)===256)throw new L(911,!1);n[Wr]===null&&(n[Wr]=[]),n[Wr].push(t)}function gP(n,t){if(n[Wr]===null)return;let e=n[Wr].indexOf(t);e!==-1&&n[Wr].splice(e,1)}function $o(n){let t=n[Ut];return lr(t)?t[Ut]:t}var xe={lFrame:IC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wC=!1;function yP(){return xe.lFrame.elementDepthCount}function vP(){xe.lFrame.elementDepthCount++}function bP(){xe.lFrame.elementDepthCount--}function _C(){return xe.bindingsEnabled}function CC(){return xe.skipHydrationRootTNode!==null}function wP(n){return xe.skipHydrationRootTNode===n}function _P(){xe.skipHydrationRootTNode=null}function fe(){return xe.lFrame.lView}function mt(){return xe.lFrame.tView}function P(n){return xe.lFrame.contextLView=n,n[mi]}function R(n){return xe.lFrame.contextLView=null,n}function Lt(){let n=xC();for(;n!==null&&n.type===64;)n=n.parent;return n}function xC(){return xe.lFrame.currentTNode}function CP(){let n=xe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Qo(n,t){let e=xe.lFrame;e.currentTNode=n,e.isParent=t}function Ag(){return xe.lFrame.isParent}function kg(){xe.lFrame.isParent=!1}function DC(){return wC}function r1(n){wC=n}function ua(){let n=xe.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function xP(){return xe.lFrame.bindingIndex}function DP(n){return xe.lFrame.bindingIndex=n}function jd(){return xe.lFrame.bindingIndex++}function Ng(n){let t=xe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function EP(){return xe.lFrame.inI18n}function SP(n,t){let e=xe.lFrame;e.bindingIndex=e.bindingRootIndex=n,Mm(t)}function MP(){return xe.lFrame.currentDirectiveIndex}function Mm(n){xe.lFrame.currentDirectiveIndex=n}function IP(n){let t=xe.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function EC(){return xe.lFrame.currentQueryIndex}function Og(n){xe.lFrame.currentQueryIndex=n}function TP(n){let t=n[me];return t.type===2?t.declTNode:t.type===1?n[wn]:null}function SC(n,t,e){if(e&Ce.SkipSelf){let r=t,o=n;for(;r=r.parent,r===null&&!(e&Ce.Host);)if(r=TP(o),r===null||(o=o[ca],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=xe.lFrame=MC();return i.currentTNode=t,i.lView=n,!0}function Pg(n){let t=MC(),e=n[me];xe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function MC(){let n=xe.lFrame,t=n===null?null:n.child;return t===null?IC(n):t}function IC(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function TC(){let n=xe.lFrame;return xe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var AC=TC;function Rg(){let n=TC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function AP(n){return(xe.lFrame.contextLView=mP(n,xe.lFrame.contextLView))[mi]}function eo(){return xe.lFrame.selectedIndex}function zo(n){xe.lFrame.selectedIndex=n}function Fg(){let n=xe.lFrame;return gC(n.tView,n.selectedIndex)}function kP(){return xe.lFrame.currentNamespace}var kC=!0;function $d(){return kC}function zd(n){kC=n}function NP(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=fC(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function Ud(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),d!=null&&(n.destroyHooks??=[]).push(e,d)}}function Qu(n,t,e){NC(n,t,3,e)}function Yu(n,t,e,i){(n[le]&3)===e&&NC(n,t,e,i)}function om(n,t){let e=n[le];(e&3)===t&&(e&=16383,e+=1,n[le]=e)}function NC(n,t,e,i){let r=i!==void 0?n[Qs]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(n[Qs]+=65536),(a<o||o==-1)&&(OP(n,e,t,l),n[Qs]=(n[Qs]&4294901760)+l+2),l++}function o1(n,t){Ii(4,n,t);let e=Ne(null);try{t.call(n)}finally{Ne(e),Ii(5,n,t)}}function OP(n,t,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=n[s];r?n[le]>>14<n[Qs]>>16&&(n[le]&3)===t&&(n[le]+=16384,o1(a,o)):o1(a,o)}var Xs=-1,Uo=class{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function PP(n){return n instanceof Uo}function RP(n){return(n.flags&8)!==0}function FP(n){return(n.flags&16)!==0}var sm={},Im=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Td(i);let r=this.injector.get(t,sm,i);return r!==sm||e===sm?r:this.parentInjector.get(t,e,i)}};function OC(n){return n!==Xs}function sd(n){return n&32767}function LP(n){return n>>16}function ad(n,t){let e=LP(n),i=t;for(;e>0;)i=i[ca],e--;return i}var Tm=!0;function ld(n){let t=Tm;return Tm=n,t}var VP=256,PC=VP-1,RC=5,BP=0,Ti={};function jP(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(yl)&&(i=e[yl]),i==null&&(i=e[yl]=BP++);let r=i&PC,o=1<<r;t.data[n+(r>>RC)]|=o}function cd(n,t){let e=FC(n,t);if(e!==-1)return e;let i=t[me];i.firstCreatePass&&(n.injectorIndex=t.length,am(i.data,n),am(t,null),am(i.blueprint,null));let r=Lg(n,t),o=n.injectorIndex;if(OC(r)){let s=sd(r),a=ad(r,t),l=a[me].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function am(n,t){n.push(0,0,0,0,0,0,0,0,t)}function FC(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lg(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=$C(r),i===null)return Xs;if(e++,r=r[ca],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Xs}function Am(n,t,e){jP(n,t,e)}function $P(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(Q1(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function LC(n,t,e){if(e&Ce.Optional||n!==void 0)return n;xg(t,"NodeInjector")}function VC(n,t,e,i){if(e&Ce.Optional&&i===void 0&&(i=null),!(e&(Ce.Self|Ce.Host))){let r=n[ia],o=vn(void 0);try{return r?r.get(t,i,e&Ce.Optional):U1(t,i,e&Ce.Optional)}finally{vn(o)}}return LC(i,t,e)}function BC(n,t,e,i=Ce.Default,r){if(n!==null){if(t[le]&2048&&!(i&Ce.Self)){let s=WP(n,t,e,i,Ti);if(s!==Ti)return s}let o=jC(n,t,e,i,Ti);if(o!==Ti)return o}return VC(t,e,i,r)}function jC(n,t,e,i,r){let o=UP(e);if(typeof o=="function"){if(!SC(t,n,i))return i&Ce.Host?LC(r,e,i):VC(t,e,i,r);try{let s;if(s=o(i),s==null&&!(i&Ce.Optional))xg(e);else return s}finally{AC()}}else if(typeof o=="number"){let s=null,a=FC(n,t),l=Xs,c=i&Ce.Host?t[qn][wn]:null;for((a===-1||i&Ce.SkipSelf)&&(l=a===-1?Lg(n,t):t[a+8],l===Xs||!a1(i,!1)?a=-1:(s=t[me],a=sd(l),t=ad(l,t)));a!==-1;){let d=t[me];if(s1(o,a,d.data)){let f=zP(a,t,e,s,i,c);if(f!==Ti)return f}l=t[a+8],l!==Xs&&a1(i,t[me].data[a+8]===c)&&s1(o,a,t)?(s=d,a=sd(l),t=ad(l,t)):a=-1}}return r}function zP(n,t,e,i,r,o){let s=t[me],a=s.data[n+8],l=i==null?Fd(a)&&Tm:i!=s&&(a.type&3)!==0,c=r&Ce.Host&&o===a,d=Zu(a,s,e,l,c);return d!==null?Ho(t,s,d,a):Ti}function Zu(n,t,e,i,r){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,f=i?a:a+d,w=r?a+d:c;for(let b=f;b<w;b++){let _=s[b];if(b<l&&e===_||b>=l&&_.type===e)return b}if(r){let b=s[l];if(b&&Kr(b)&&b.type===e)return l}return null}function Ho(n,t,e,i){let r=n[e],o=t.data;if(PP(r)){let s=r;s.resolving&&yO(gO(o[e]));let a=ld(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?vn(s.injectImpl):null,d=SC(n,i,Ce.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&NP(e,o[e],t)}finally{c!==null&&vn(c),ld(a),s.resolving=!1,AC()}}return r}function UP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(yl)?n[yl]:void 0;return typeof t=="number"?t>=0?t&PC:HP:t}function s1(n,t,e){let i=1<<n;return!!(e[t+(n>>RC)]&i)}function a1(n,t){return!(n&Ce.Self)&&!(n&Ce.Host&&t)}var Fo=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return BC(this._tNode,this._lView,t,Td(i),e)}};function HP(){return new Fo(Lt(),fe())}function gi(n){return Sl(()=>{let t=n.prototype.constructor,e=t[Xu]||km(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Xu]||km(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function km(n){return L1(n)?()=>{let t=km(Xt(n));return t&&t()}:Vo(n)}function WP(n,t,e,i,r){let o=n,s=t;for(;o!==null&&s!==null&&s[le]&2048&&!(s[le]&512);){let a=jC(o,s,e,i|Ce.Self,Ti);if(a!==Ti)return a;let l=o.parent;if(!l){let c=s[cC];if(c){let d=c.get(e,Ti,i);if(d!==Ti)return d}l=$C(s),s=s[ca]}o=l}return r}function $C(n){let t=n[me],e=t.type;return e===2?t.declTNode:e===1?n[wn]:null}function Vg(n){return $P(Lt(),n)}function l1(n,t=null,e=null,i){let r=zC(n,t,e,i);return r.resolveInjectorInitializers(),r}function zC(n,t=null,e=null,i,r=new Set){let o=[e||bn,KO(n)];return i=i||(typeof n=="object"?void 0:en(n)),new _l(o,t||Pd(),i||null,r)}var rn=class n{static{this.THROW_IF_NOT_FOUND=bl}static{this.NULL=new nd}static create(t,e){if(Array.isArray(t))return l1({name:""},e,t,"");{let i=t.name??"";return l1({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=V({token:n,providedIn:"any",factory:()=>j(q1)})}static{this.__NG_ELEMENT_ID__=-1}};var qP=new W("");qP.__NG_ELEMENT_ID__=n=>{let t=Lt();if(t===null)throw new L(204,!1);if(t.type&2)return t.value;if(n&Ce.Optional)return null;throw new L(204,!1)};var GP="ngOriginalError";function lm(n){return n[GP]}var UC=!0,Bg=(()=>{class n{static{this.__NG_ELEMENT_ID__=KP}static{this.__NG_ENV_ID__=e=>e}}return n})(),Nm=class extends Bg{constructor(t){super(),this._lView=t}onDestroy(t){return bC(this._lView,t),()=>gP(this._lView,t)}};function KP(){return new Nm(fe())}var cr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Om=class extends tt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,lC()&&(this.destroyRef=B(Bg,{optional:!0})??void 0,this.pendingTasks=B(cr,{optional:!0})??void 0)}emit(t){let e=Ne(null);try{super.next(t)}finally{Ne(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof bt&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},Ke=Om;function ud(...n){}function HC(n){let t,e;function i(){n=ud;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function c1(n){return queueMicrotask(()=>n()),()=>{n=ud}}var jg="isAngularZone",dd=jg+"_ID",QP=0,$e=class n{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=UC}=t;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,JP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,YP,ud,ud);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},YP={};function $g(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ZP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){HC(()=>{n.callbackScheduled=!1,Pm(n),n.isCheckStableRunning=!0,$g(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Pm(n)}function JP(n){let t=()=>{ZP(n)},e=QP++;n._inner=n._inner.fork({name:"angular",properties:{[jg]:!0,[dd]:e,[dd+e]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(XP(l))return i.invokeTask(o,s,a,l);try{return u1(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),d1(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return u1(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eR(l)&&t(),d1(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pm(n),$g(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function u1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function d1(n){n._nesting--,$g(n)}var fd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function XP(n){return WC(n,"__ignore_ng_zone__")}function eR(n){return WC(n,"__scheduler_tick__")}function WC(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}function tR(n="zone.js",t){return n==="noop"?new fd:n==="zone.js"?new $e(t):n}var or=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&lm(t);for(;e&&lm(e);)e=lm(e);return e||null}},nR=new W("",{providedIn:"root",factory:()=>{let n=B($e),t=B(or);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function iR(){return da(Lt(),fe())}function da(n,t){return new ct(Kn(n,t))}var ct=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=iR}}return n})();function rR(n){return n instanceof ct?n.nativeElement:n}function oR(){return this._results[Symbol.iterator]()}var Rm=class n{get changes(){return this._changes??=new Ke}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=n.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=oR)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=IO(t);(this._changesDetected=!MO(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function qC(n){return(n.flags&128)===128}var GC=new Map,sR=0;function aR(){return sR++}function lR(n){GC.set(n[Rd],n)}function Fm(n){GC.delete(n[Rd])}var f1="__ngContext__";function Qr(n,t){qr(t)?(n[f1]=t[Rd],lR(t)):n[f1]=t}function KC(n){return YC(n[xl])}function QC(n){return YC(n[hi])}function YC(n){for(;n!==null&&!lr(n);)n=n[hi];return n}var Lm;function ZC(n){Lm=n}function JC(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new L(210,!1)}var Hd=new W("",{providedIn:"root",factory:()=>cR}),cR="ng",zg=new W(""),Ri=new W("",{providedIn:"platform",factory:()=>"unknown"});var Ug=new W(""),Hg=new W("",{providedIn:"root",factory:()=>JC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uR="h",dR="b";var fR=()=>null;function Wg(n,t,e=!1){return fR(n,t,e)}var XC=!1,pR=new W("",{providedIn:"root",factory:()=>XC});var $u;function hR(){if($u===void 0&&($u=null,Ft.trustedTypes))try{$u=Ft.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $u}function Wd(n){return hR()?.createHTML(n)||n}var zu;function ex(){if(zu===void 0&&(zu=null,Ft.trustedTypes))try{zu=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zu}function p1(n){return ex()?.createHTML(n)||n}function h1(n){return ex()?.createScriptURL(n)||n}var sr=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${R1})`}},Vm=class extends sr{getTypeName(){return"HTML"}},Bm=class extends sr{getTypeName(){return"Style"}},jm=class extends sr{getTypeName(){return"Script"}},$m=class extends sr{getTypeName(){return"URL"}},zm=class extends sr{getTypeName(){return"ResourceURL"}};function Qn(n){return n instanceof sr?n.changingThisBreaksApplicationSecurity:n}function ur(n,t){let e=mR(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${R1})`)}return e===t}function mR(n){return n instanceof sr&&n.getTypeName()||null}function tx(n){return new Vm(n)}function nx(n){return new Bm(n)}function ix(n){return new jm(n)}function rx(n){return new $m(n)}function ox(n){return new zm(n)}function gR(n){let t=new Hm(n);return yR()?new Um(t):t}var Um=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Wd(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},Hm=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Wd(t),e}};function yR(){try{return!!new window.DOMParser().parseFromString(Wd(""),"text/html")}catch{return!1}}var vR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qd(n){return n=String(n),n.match(vR)?n:"unsafe:"+n}function dr(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Tl(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var sx=dr("area,br,col,hr,img,wbr"),ax=dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lx=dr("rp,rt"),bR=Tl(lx,ax),wR=Tl(ax,dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_R=Tl(lx,dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),m1=Tl(sx,wR,_R,bR),cx=dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CR=dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xR=dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DR=Tl(cx,CR,xR),ER=dr("script,style,template"),Wm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=IR(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=MR(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=g1(t).toLowerCase();if(!m1.hasOwnProperty(e))return this.sanitizedSomething=!0,!ER.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!DR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;cx[a]&&(l=qd(l)),this.buf.push(" ",s,'="',y1(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=g1(t).toLowerCase();m1.hasOwnProperty(e)&&!sx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(y1(t))}};function SR(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function MR(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw ux(t);return t}function IR(n){let t=n.firstChild;if(t&&SR(n,t))throw ux(t);return t}function g1(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function ux(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var TR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AR=/([^\#-~ |!])/g;function y1(n){return n.replace(/&/g,"&amp;").replace(TR,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(AR,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Uu;function qg(n,t){let e=null;try{Uu=Uu||gR(n);let i=t?String(t):"";e=Uu.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Uu.getInertBodyElement(i)}while(i!==o);let a=new Wm().sanitizeChildren(v1(e)||e);return Wd(a)}finally{if(e){let i=v1(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function v1(n){return"content"in n&&kR(n)?n.content:null}function kR(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var yi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(yi||{});function Fi(n){let t=Kg();return t?p1(t.sanitize(yi.HTML,n)||""):ur(n,"HTML")?p1(Qn(n)):qg(JC(),Lo(n))}function Gg(n){let t=Kg();return t?t.sanitize(yi.URL,n)||"":ur(n,"URL")?Qn(n):qd(Lo(n))}function NR(n){let t=Kg();if(t)return h1(t.sanitize(yi.RESOURCE_URL,n)||"");if(ur(n,"ResourceURL"))return h1(Qn(n));throw new L(904,!1)}function OR(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?NR:Gg}function dx(n,t,e){return OR(t,e)(n)}function Kg(){let n=fe();return n&&n[ki].sanitizer}var PR=/^>|^->|<!--|-->|--!>|<!-$/g,RR=/(<|>)/g,FR="\u200B$1\u200B";function LR(n){return n.replace(PR,t=>t.replace(RR,FR))}function Al(n){return n.ownerDocument}function fx(n){return n instanceof Function?n():n}function VR(n){return(n??B(rn)).get(Ri)==="browser"}var Oi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oi||{}),BR;function Qg(n,t){return BR(n,t)}function Ys(n,t,e,i,r){if(i!=null){let o,s=!1;lr(i)?o=i:qr(i)&&(s=!0,i=i[ar]);let a=Ni(i);n===0&&e!==null?r==null?vx(t,e,a):pd(t,e,a,r||null,!0):n===1&&e!==null?pd(t,e,a,r||null,!0):n===2?XR(t,a,s):n===3&&t.destroyNode(a),o!=null&&tF(t,n,o,e,r)}}function jR(n,t){return n.createText(t)}function $R(n,t,e){n.setValue(t,e)}function zR(n,t){return n.createComment(LR(t))}function px(n,t,e){return n.createElement(t,e)}function UR(n,t){hx(n,t),t[ar]=null,t[wn]=null}function HR(n,t,e,i,r,o){i[ar]=r,i[wn]=t,Kd(n,i,e,1,r,o)}function hx(n,t){t[ki].changeDetectionScheduler?.notify(9),Kd(n,t,t[st],2,null,null)}function WR(n){let t=n[xl];if(!t)return cm(n[me],n);for(;t;){let e=null;if(qr(t))e=t[xl];else{let i=t[On];i&&(e=i)}if(!e){for(;t&&!t[hi]&&t!==n;)qr(t)&&cm(t[me],t),t=t[Ut];t===null&&(t=n),qr(t)&&cm(t[me],t),e=t&&t[hi]}t=e}}function qR(n,t,e,i){let r=On+i,o=e.length;i>0&&(e[r-1][hi]=t),i<o-On?(t[hi]=e[r],W1(e,On+i,t)):(e.push(t),t[hi]=null),t[Ut]=e;let s=t[Bo];s!==null&&e!==s&&mx(s,t);let a=t[rr];a!==null&&a.insertView(n),Sm(t),t[le]|=128}function mx(n,t){let e=n[ra],i=t[Ut];if(qr(i))n[le]|=od.HasTransplantedViews;else{let r=i[Ut][qn];t[qn]!==r&&(n[le]|=od.HasTransplantedViews)}e===null?n[ra]=[t]:e.push(t)}function Yg(n,t){let e=n[ra],i=e.indexOf(t);e.splice(i,1)}function qm(n,t){if(n.length<=On)return;let e=On+t,i=n[e];if(i){let r=i[Bo];r!==null&&r!==n&&Yg(r,i),t>0&&(n[e-1][hi]=i[hi]);let o=td(n,On+t);UR(i[me],i);let s=o[rr];s!==null&&s.detachView(o[me]),i[Ut]=null,i[hi]=null,i[le]&=-129}return i}function gx(n,t){if(!(t[le]&256)){let e=t[st];e.destroyNode&&Kd(n,t,e,3,null,null),WR(t)}}function cm(n,t){if(t[le]&256)return;let e=Ne(null);try{t[le]&=-129,t[le]|=256,t[Wn]&&jh(t[Wn]),KR(n,t),GR(n,t),t[me].type===1&&t[st].destroy();let i=t[Bo];if(i!==null&&lr(t[Ut])){i!==t[Ut]&&Yg(i,t);let r=t[rr];r!==null&&r.detachView(n)}Fm(t)}finally{Ne(e)}}function GR(n,t){let e=n.cleanup,i=t[id];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(t[id]=null);let r=t[Wr];if(r!==null){t[Wr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function KR(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof Uo)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ii(4,a,l);try{l.call(a)}finally{Ii(5,a,l)}}else{Ii(4,r,o);try{o.call(r)}finally{Ii(5,r,o)}}}}}function yx(n,t,e){return QR(n,t.parent,e)}function QR(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[ar];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Ai.None||o===Ai.Emulated)return null}return Kn(i,e)}}function pd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function vx(n,t,e){n.appendChild(t,e)}function b1(n,t,e,i,r){i!==null?pd(n,t,e,i,r):vx(n,t,e)}function bx(n,t){return n.parentNode(t)}function YR(n,t){return n.nextSibling(t)}function wx(n,t,e){return JR(n,t,e)}function ZR(n,t,e){return n.type&40?Kn(n,e):null}var JR=ZR,w1;function Gd(n,t,e,i){let r=yx(n,i,t),o=t[st],s=i.parent||t[wn],a=wx(s,i,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)b1(o,r,e[l],a,!1);else b1(o,r,e,a,!1);w1!==void 0&&w1(o,i,t,e,r)}function gl(n,t){if(t!==null){let e=t.type;if(e&3)return Kn(t,n);if(e&4)return Gm(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return gl(n,i);{let r=n[t.index];return lr(r)?Gm(-1,r):Ni(r)}}else{if(e&128)return gl(n,t.next);if(e&32)return Qg(t,n)()||Ni(n[t.index]);{let i=_x(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=$o(n[qn]);return gl(r,i)}else return gl(n,t.next)}}}return null}function _x(n,t){if(t!==null){let i=n[qn][wn],r=t.projection;return i.projection[r]}return null}function Gm(n,t){let e=On+n+1;if(e<t.length){let i=t[e],r=i[me].firstChild;if(r!==null)return gl(i,r)}return t[jo]}function XR(n,t,e){n.removeChild(null,t,e)}function Zg(n,t,e,i,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],l=e.type;if(s&&t===0&&(a&&Qr(Ni(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)Zg(n,t,e.child,i,r,o,!1),Ys(t,n,r,a,o);else if(l&32){let c=Qg(e,i),d;for(;d=c();)Ys(t,n,r,d,o);Ys(t,n,r,a,o)}else l&16?Cx(n,t,i,e,r,o):Ys(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Kd(n,t,e,i,r,o){Zg(e,i,n.firstChild,t,r,o,!1)}function eF(n,t,e){let i=t[st],r=yx(n,e,t),o=e.parent||t[wn],s=wx(o,e,t);Cx(i,0,t,e,r,s)}function Cx(n,t,e,i,r,o){let s=e[qn],l=s[wn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ys(t,n,r,d,o)}else{let c=l,d=s[Ut];qC(i)&&(c.flags|=128),Zg(n,t,c,d,r,o,!0)}}function tF(n,t,e,i,r){let o=e[jo],s=Ni(e);o!==s&&Ys(t,n,i,o,r);for(let a=On;a<e.length;a++){let l=e[a];Kd(l[me],l,n,t,i,o)}}function nF(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Oi.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Oi.Important),n.setStyle(e,i,r,o))}}function iF(n,t,e){n.setAttribute(t,"style",e)}function xx(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Dx(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&wm(n,t,i),r!==null&&xx(n,t,r),o!==null&&iF(n,t,o)}var Yn={};function y(n=1){Ex(mt(),fe(),eo()+n,!1)}function Ex(n,t,e,i){if(!i)if((t[le]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Qu(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Yu(t,o,0,e)}zo(e)}function I(n,t=Ce.Default){let e=fe();if(e===null)return j(n,t);let i=Lt();return BC(i,e,Xt(n),t)}function Sx(){let n="invalid";throw new Error(n)}function Mx(n,t,e,i,r,o){let s=Ne(null);try{let a=null;r&Gr.SignalBased&&(a=t[i][Xi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Gr.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,i):dC(t,a,i,o)}finally{Ne(s)}}function rF(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)zo(~r);else{let o=r,s=e[++i],a=e[++i];SP(s,o);let l=t[o];a(2,l)}}}finally{zo(-1)}}function Qd(n,t,e,i,r,o,s,a,l,c,d){let f=t.blueprint.slice();return f[ar]=r,f[le]=i|4|128|8|64,(c!==null||n&&n[le]&2048)&&(f[le]|=2048),yC(f),f[Ut]=f[ca]=n,f[mi]=e,f[ki]=s||n&&n[ki],f[st]=a||n&&n[st],f[ia]=l||n&&n[ia]||null,f[wn]=o,f[Rd]=aR(),f[Cl]=d,f[cC]=c,f[qn]=t.type==2?n[qn]:f,f}function fa(n,t,e,i,r){let o=n.data[t];if(o===null)o=oF(n,t,e,i,r),EP()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=CP();o.injectorIndex=s===null?-1:s.injectorIndex}return Qo(o,!0),o}function oF(n,t,e,i,r){let o=xC(),s=Ag(),a=s?o:o&&o.parent,l=n.data[t]=dF(n,a,e,t,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Ix(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Tx(n,t,e,i,r){let o=eo(),s=i&2;try{zo(-1),s&&t.length>nn&&Ex(n,t,nn,!1),Ii(s?2:0,r),e(i,r)}finally{zo(o),Ii(s?3:1,r)}}function Jg(n,t,e){if(Mg(t)){let i=Ne(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Ne(i)}}}function Xg(n,t,e){_C()&&(yF(n,t,e,Kn(e,t)),(e.flags&64)===64&&Ox(n,t,e))}function e0(n,t,e=Kn){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(t,n):n[s];n[r++]=a}}}function Ax(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=t0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function t0(n,t,e,i,r,o,s,a,l,c,d){let f=nn+i,w=f+r,b=sF(f,w),_=typeof c=="function"?c():c;return b[me]={type:n,blueprint:b,template:e,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:d}}function sF(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:Yn);return e}function aF(n,t,e,i){let o=i.get(pR,XC)||e===Ai.ShadowDom,s=n.selectRootElement(t,o);return lF(s),s}function lF(n){cF(n)}var cF=()=>null;function uF(n,t,e,i){let r=Fx(t);r.push(e),n.firstCreatePass&&Lx(n).push(i,r.length-1)}function dF(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return CC()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _1(n,t,e,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Gr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}n===0?C1(i,e,c,a,l):C1(i,e,c,a)}return i}function C1(n,t,e,i,r){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,i):o=n[e]=[t,i],r!==void 0&&o.push(r)}function fF(n,t,e){let i=t.directiveStart,r=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let f=o[d],w=e?e.get(f):null,b=w?w.inputs:null,_=w?w.outputs:null;l=_1(0,f.inputs,d,l,b),c=_1(1,f.outputs,d,c,_);let D=l!==null&&s!==null&&!Eg(t)?IF(l,d,s):null;a.push(D)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function pF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function kx(n,t,e,i,r,o,s,a){let l=Kn(t,e),c=t.inputs,d;!a&&c!=null&&(d=c[i])?(i0(n,e,d,i,r),Fd(t)&&hF(e,t.index)):t.type&3?(i=pF(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function hF(n,t){let e=Xr(t,n);e[le]&16||(e[le]|=64)}function n0(n,t,e,i){if(_C()){let r=i===null?null:{"":-1},o=bF(n,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Nx(n,t,e,s,r,a),r&&wF(e,i,r)}e.mergedAttrs=wl(e.mergedAttrs,e.attrs)}function Nx(n,t,e,i,r,o){for(let c=0;c<i.length;c++)Am(cd(e,t),n,i[c].type);CF(e,n.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=Ix(n,t,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];e.mergedAttrs=wl(e.mergedAttrs,d.hostAttrs),xF(n,e,t,l,d),_F(l,d,r),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}fF(n,e,o)}function mF(n,t,e,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;gF(s)!=a&&s.push(a),s.push(e,i,o)}}function gF(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function yF(n,t,e,i){let r=e.directiveStart,o=e.directiveEnd;Fd(e)&&DF(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||cd(e,t),Qr(i,t);let s=e.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],c=Ho(t,n,a,e);if(Qr(c,t),s!==null&&MF(t,a-r,c,l,e,s),Kr(l)){let d=Xr(e.index,t);d[mi]=Ho(t,n,a,e)}}}function Ox(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=MP();try{zo(o);for(let a=i;a<r;a++){let l=n.data[a],c=t[a];Mm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&vF(l,c)}}finally{zo(-1),Mm(s)}}function vF(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function bF(n,t){let e=n.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(Z1(t,s.selectors,!1))if(i||(i=[]),Kr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Km(n,t,l)}else i.unshift(s),Km(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Km(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function wF(n,t,e){if(t){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new L(-301,!1);i.push(t[r],o)}}}function _F(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Kr(t)&&(e[""]=n)}}function CF(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function xF(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=Vo(r.type,!0)),s=new Uo(o,Kr(r),I);n.blueprint[i]=s,e[i]=s,mF(n,t,i,Ix(n,e,r.hostVars,Yn),r)}function DF(n,t,e){let i=Kn(t,n),r=Ax(e),o=n[ki].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=Yd(n,Qd(n,r,null,s,i,t,null,o.createRenderer(i,e),null,null,null));n[t.index]=a}function EF(n,t,e,i,r,o){let s=Kn(n,t);SF(t[st],s,o,n.value,e,i,r)}function SF(n,t,e,i,r,o,s){if(o==null)n.removeAttribute(t,r,e);else{let a=s==null?Lo(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}function MF(n,t,e,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],d=s[a++],f=s[a++];Mx(i,e,l,c,d,f)}}function IF(n,t,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function Px(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Rx(n,t){let e=n.contentQueries;if(e!==null){let i=Ne(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=n.data[s];Og(o),a.contentQueries(2,t[s],s)}}}finally{Ne(i)}}}function Yd(n,t){return n[xl]?n[n1][hi]=t:n[xl]=t,n[n1]=t,t}function Qm(n,t,e){Og(0);let i=Ne(null);try{t(n,e)}finally{Ne(i)}}function Fx(n){return n[id]??=[]}function Lx(n){return n.cleanup??=[]}function Vx(n,t){let e=n[ia],i=e?e.get(or,null):null;i&&i.handleError(t)}function i0(n,t,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=t[s],d=n.data[s];Mx(d,c,i,a,l,r)}}function Bx(n,t,e){let i=mC(t,n);$R(n[st],i,e)}function TF(n,t){let e=Xr(t,n),i=e[me];AF(i,e);let r=e[ar];r!==null&&e[Cl]===null&&(e[Cl]=Wg(r,e[ia])),r0(i,e,e[mi])}function AF(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function r0(n,t,e){Pg(t);try{let i=n.viewQuery;i!==null&&Qm(1,i,e);let r=n.template;r!==null&&Tx(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[rr]?.finishViewCreation(n),n.staticContentQueries&&Rx(n,t),n.staticViewQueries&&Qm(2,n.viewQuery,e);let o=n.components;o!==null&&kF(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[le]&=-5,Rg()}}function kF(n,t){for(let e=0;e<t.length;e++)TF(n,t[e])}function jx(n,t,e,i){let r=Ne(null);try{let o=t.tView,a=n[le]&4096?4096:16,l=Qd(n,o,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[t.index];l[Bo]=c;let d=n[rr];return d!==null&&(l[rr]=d.createEmbeddedView(o)),r0(o,l,e),l}finally{Ne(r)}}function Ym(n,t){return!t||t.firstChild===null||qC(n)}function $x(n,t,e,i=!0){let r=t[me];if(qR(r,t,n,e),i){let s=Gm(e,n),a=t[st],l=bx(a,n[jo]);l!==null&&HR(r,n[wn],a,t,l,s)}let o=t[Cl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hd(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(Ni(o)),lr(o)&&NF(o,i);let s=e.type;if(s&8)hd(n,t,e.child,i);else if(s&32){let a=Qg(e,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=_x(t,e);if(Array.isArray(a))i.push(...a);else{let l=$o(t[qn]);hd(l[me],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function NF(n,t){for(let e=On;e<n.length;e++){let i=n[e],r=i[me].firstChild;r!==null&&hd(i[me],i,r,t)}n[jo]!==n[ar]&&t.push(n[jo])}var zx=[];function OF(n){return n[Wn]??PF(n)}function PF(n){let t=zx.pop()??Object.create(FF);return t.lView=n,t}function RF(n){n.lView[Wn]!==n&&(n.lView=null,zx.push(n))}var FF=ae(F({},ul),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bd(n.lView)},consumerOnSignalRead(){this.lView[Wn]=this}});function LF(n){let t=n[Wn]??Object.create(VF);return t.lView=n,t}var VF=ae(F({},ul),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=$o(n.lView);for(;t&&!Ux(t[me]);)t=$o(t);t&&vC(t)},consumerOnSignalRead(){this.lView[Wn]=this}});function Ux(n){return n.type!==2}var BF=100;function Hx(n,t=!0,e=0){let i=n[ki],r=i.rendererFactory,o=!1;o||r.begin?.();try{jF(n,e)}catch(s){throw t&&Vx(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function jF(n,t){let e=DC();try{r1(!0),Zm(n,t);let i=0;for(;Vd(n);){if(i===BF)throw new L(103,!1);i++,Zm(n,1)}}finally{r1(e)}}function $F(n,t,e,i){let r=t[le];if((r&256)===256)return;let o=!1,s=!1;!o&&t[ki].inlineEffectRunner?.flush(),Pg(t);let a=!0,l=null,c=null;o||(Ux(n)?(c=OF(t),l=hu(c)):c_()===null?(a=!1,c=LF(t),l=hu(c)):t[Wn]&&(jh(t[Wn]),t[Wn]=null));try{yC(t),DP(n.bindingStartIndex),e!==null&&Tx(n,t,e,2,i);let d=(r&3)===3;if(!o)if(d){let b=n.preOrderCheckHooks;b!==null&&Qu(t,b,null)}else{let b=n.preOrderHooks;b!==null&&Yu(t,b,0,null),om(t,0)}if(s||zF(t),Wx(t,0),n.contentQueries!==null&&Rx(n,t),!o)if(d){let b=n.contentCheckHooks;b!==null&&Qu(t,b)}else{let b=n.contentHooks;b!==null&&Yu(t,b,1),om(t,1)}rF(n,t);let f=n.components;f!==null&&Gx(t,f,0);let w=n.viewQuery;if(w!==null&&Qm(2,w,i),!o)if(d){let b=n.viewCheckHooks;b!==null&&Qu(t,b)}else{let b=n.viewHooks;b!==null&&Yu(t,b,2),om(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[rm]){for(let b of t[rm])b();t[rm]=null}o||(t[le]&=-73)}catch(d){throw o||Bd(t),d}finally{c!==null&&(Vh(c,l),a&&RF(c)),Rg()}}function Wx(n,t){for(let e=KC(n);e!==null;e=QC(e))for(let i=On;i<e.length;i++){let r=e[i];qx(r,t)}}function zF(n){for(let t=KC(n);t!==null;t=QC(t)){if(!(t[le]&od.HasTransplantedViews))continue;let e=t[ra];for(let i=0;i<e.length;i++){let r=e[i];vC(r)}}}function UF(n,t,e){let i=Xr(t,n);qx(i,e)}function qx(n,t){Tg(n)&&Zm(n,t)}function Zm(n,t){let i=n[me],r=n[le],o=n[Wn],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&Bh(o)),s||=!1,o&&(o.dirty=!1),n[le]&=-9217,s)$F(i,n,i.template,n[mi]);else if(r&8192){Wx(n,1);let a=i.components;a!==null&&Gx(n,a,1)}}function Gx(n,t,e){for(let i=0;i<t.length;i++)UF(n,t[i],e)}function o0(n,t){let e=DC()?64:1088;for(n[ki].changeDetectionScheduler?.notify(t);n;){n[le]|=e;let i=$o(n);if(Dm(n)&&!i)return n;n=i}return null}var Wo=class{get rootNodes(){let t=this._lView,e=t[me];return hd(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mi]}set context(t){this._lView[mi]=t}get destroyed(){return(this._lView[le]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ut];if(lr(t)){let e=t[rd],i=e?e.indexOf(this):-1;i>-1&&(qm(t,i),td(e,i))}this._attachedToViewContainer=!1}gx(this._lView[me],this._lView)}onDestroy(t){bC(this._lView,t)}markForCheck(){o0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){Sm(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,Hx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Dm(this._lView),e=this._lView[Bo];e!==null&&!t&&Yg(e,this._lView),hx(this._lView[me],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=t;let e=Dm(this._lView),i=this._lView[Bo];i!==null&&!e&&mx(i,this._lView),Sm(this._lView)}},qo=(()=>{class n{static{this.__NG_ELEMENT_ID__=qF}}return n})(),HF=qo,WF=class extends HF{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){let r=jx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new Wo(r)}};function qF(){return s0(Lt(),fe())}function s0(n,t){return n.type&4?new WF(t,n,da(n,t)):null}var zJ=new RegExp(`^(\\d+)*(${dR}|${uR})*(.*)`);var GF=()=>null;function Jm(n,t){return GF(n,t)}var sa=class{},a0=new W("",{providedIn:"root",factory:()=>!1});var Kx=new W(""),Qx=new W(""),Xm=class{},md=class{};function KF(n){let t=Error(`No component factory found for ${en(n)}.`);return t[QF]=n,t}var QF="ngComponent";var eg=class{resolveComponentFactory(t){throw KF(t)}},aa=class{static{this.NULL=new eg}},Yr=class{},Cn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>YF()}}return n})();function YF(){let n=fe(),t=Lt(),e=Xr(t.index,n);return(qr(e)?e:n)[st]}var ZF=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>null})}}return n})();function gd(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=gm(r,a);else if(o==2){let l=a,c=t[++s];i=gm(i,l+": "+c+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}var yd=class extends aa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=ir(t);return new Go(e,this.ngModule)}};function x1(n,t){let e=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Gr.None;t?e.push({propName:s,templateName:i,isSignal:(a&Gr.SignalBased)!==0}):e.push({propName:s,templateName:i})}return e}function JF(n){let t=n.toLowerCase();return t==="svg"?dP:t==="math"?fP:null}var Go=class extends md{get inputs(){let t=this.componentDef,e=t.inputTransforms,i=x1(t.inputs,!0);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return x1(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=UO(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=Ne(null);try{r=r||this.ngModule;let s=r instanceof tn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Im(t,s):t,l=a.get(Yr,null);if(l===null)throw new L(407,!1);let c=a.get(ZF,null),d=a.get(sa,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},w=l.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",_=i?aF(w,i,this.componentDef.encapsulation,a):px(w,b,JF(b)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let S=null;_!==null&&(S=Wg(_,a,!0));let A=t0(0,null,null,1,0,null,null,null,null,null,null),G=Qd(null,A,null,D,null,null,f,w,a,null,S);Pg(G);let z,oe,Te=null;try{let _e=this.componentDef,K,he=null;_e.findHostDirectiveDefs?(K=[],he=new Map,_e.findHostDirectiveDefs(_e,K,he),K.push(_e)):K=[_e];let be=XF(G,_);Te=eL(be,_,_e,K,G,f,w),oe=gC(A,nn),_&&iL(w,_e,_,i),e!==void 0&&rL(oe,this.ngContentSelectors,e),z=nL(Te,_e,K,he,G,[oL]),r0(A,G,null)}catch(_e){throw Te!==null&&Fm(Te),Fm(G),_e}finally{Rg()}return new tg(this.componentType,z,da(oe,G),G,oe)}finally{Ne(o)}}},tg=class extends Xm{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Wo(r,void 0,!1),this.componentType=t}setInput(t,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;i0(o[me],o,r,t,e),this.previousInputValues.set(t,e);let s=Xr(this._tNode.index,o);o0(s,1)}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function XF(n,t){let e=n[me],i=nn;return n[i]=t,fa(e,i,2,"#host",null)}function eL(n,t,e,i,r,o,s){let a=r[me];tL(i,n,t,s);let l=null;t!==null&&(l=Wg(t,r[ia]));let c=o.rendererFactory.createRenderer(t,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let f=Qd(r,Ax(e),null,d,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Km(a,n,i.length-1),Yd(r,f),r[n.index]=f}function tL(n,t,e,i){for(let r of n)t.mergedAttrs=wl(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(gd(t,t.mergedAttrs,!0),e!==null&&Dx(i,e,t))}function nL(n,t,e,i,r,o){let s=Lt(),a=r[me],l=Kn(s,r);Nx(a,r,s,e,null,i);for(let d=0;d<e.length;d++){let f=s.directiveStart+d,w=Ho(r,a,f,s);Qr(w,r)}Ox(a,r,s),l&&Qr(l,r);let c=Ho(r,a,s.directiveStart+s.componentOffset,s);if(n[mi]=r[mi]=c,o!==null)for(let d of o)d(c,t);return Jg(a,s,r),c}function iL(n,t,e,i){if(i)wm(n,e,["ng-version","18.2.14"]);else{let{attrs:r,classes:o}=HO(t.selectors[0]);r&&wm(n,e,r),o&&o.length>0&&xx(n,e,o.join(" "))}}function rL(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function oL(){let n=Lt();Ud(fe()[me],n)}var fr=(()=>{class n{static{this.__NG_ELEMENT_ID__=sL}}return n})();function sL(){let n=Lt();return Zx(n,fe())}var aL=fr,Yx=class extends aL{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return da(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){let t=Lg(this._hostTNode,this._hostLView);if(OC(t)){let e=ad(t,this._hostLView),i=sd(t),r=e[me].data[i+8];return new Fo(r,e)}else return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=D1(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-On}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Jm(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Ym(this._hostTNode,s)),a}createComponent(t,e,i,r,o){let s=t&&!aP(t),a;if(s)a=e;else{let _=e||{};a=_.index,i=_.injector,r=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?t:new Go(ir(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let D=(s?c:this.parentInjector).get(tn,null);D&&(o=D)}let d=ir(l.componentType??{}),f=Jm(this._lContainer,d?.id??null),w=f?.firstChild??null,b=l.create(c,r,w,o);return this.insertImpl(b.hostView,a,Ym(this._hostTNode,f)),b}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(hP(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Ut],c=new Yx(l,l[wn],l[Ut]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return $x(s,r,o,i),t.attachToViewContainerRef(),W1(um(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=D1(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=qm(this._lContainer,e);i&&(td(um(this._lContainer),e),gx(i[me],i))}detach(t){let e=this._adjustIndex(t,-1),i=qm(this._lContainer,e);return i&&td(um(this._lContainer),e)!=null?new Wo(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function D1(n){return n[rd]}function um(n){return n[rd]||(n[rd]=[])}function Zx(n,t){let e,i=t[n.index];return lr(i)?e=i:(e=Px(i,t,null,n),t[n.index]=e,Yd(t,e)),cL(e,t,n,i),new Yx(e,n,t)}function lL(n,t){let e=n[st],i=e.createComment(""),r=Kn(t,n),o=bx(e,r);return pd(e,o,i,YR(e,r),!1),i}var cL=fL,uL=()=>!1;function dL(n,t,e){return uL(n,t,e)}function fL(n,t,e,i){if(n[jo])return;let r;e.type&8?r=Ni(i):r=lL(t,e),n[jo]=r}var ng=class n{constructor(t){this.queryList=t,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ig=class n{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)l0(t,e).matches!==null&&this.queries[e].setDirty()}},vd=class{constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=wL(t):this.predicate=t}},rg=class n{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},og=class n{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,pL(e,o)),this.matchTNodeWithReadOption(t,e,Zu(e,t,o,!1,!1))}else i===qo?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Zu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ct||r===fr||r===qo&&e.type&4)this.addMatch(e.index,-2);else{let o=Zu(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function pL(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function hL(n,t){return n.type&11?da(n,t):n.type&4?s0(n,t):null}function mL(n,t,e,i){return e===-1?hL(t,n):e===-2?gL(n,t,i):Ho(n,n[me],e,t)}function gL(n,t,e){if(e===ct)return da(t,n);if(e===qo)return s0(t,n);if(e===fr)return Zx(t,n)}function Jx(n,t,e,i){let r=t[rr].queries[i];if(r.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(mL(t,d,s[l+1],e.metadata.read))}}r.matches=a}return r.matches}function sg(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let s=Jx(n,t,r,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=t[-l];for(let f=On;f<d.length;f++){let w=d[f];w[Bo]===w[Ut]&&sg(w[me],w,c,i)}if(d[ra]!==null){let f=d[ra];for(let w=0;w<f.length;w++){let b=f[w];sg(b[me],b,c,i)}}}}}return i}function yL(n,t){return n[rr].queries[t].queryList}function Xx(n,t,e){let i=new Rm((e&4)===4);return uF(n,t,i,i.destroy),(t[rr]??=new ig).queries.push(new ng(i))-1}function vL(n,t,e){let i=mt();return i.firstCreatePass&&(eD(i,new vd(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),Xx(i,fe(),t)}function bL(n,t,e,i){let r=mt();if(r.firstCreatePass){let o=Lt();eD(r,new vd(t,e,i),o.index),_L(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return Xx(r,fe(),e)}function wL(n){return n.split(",").map(t=>t.trim())}function eD(n,t,e){n.queries===null&&(n.queries=new rg),n.queries.track(new og(t,e))}function _L(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function l0(n,t){return n.queries.getByIndex(t)}function CL(n,t){let e=n[me],i=l0(e,t);return i.crossesNgTemplate?sg(e,n,t,[]):Jx(e,n,i,t)}var E1=new Set;function Yo(n){E1.has(n)||(E1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function xL(n){return typeof n=="function"&&n[Xi]!==void 0}function pa(n,t){Yo("NgSignals");let e=w_(n),i=e[Xi];return t?.equal&&(i.equal=t.equal),e.set=r=>$h(i,r),e.update=r=>__(i,r),e.asReadonly=DL.bind(e),e}function DL(){let n=this[Xi];if(n.readonlyFn===void 0){let t=()=>this();t[Xi]=n,n.readonlyFn=t}return n.readonlyFn}function tD(n){return xL(n)&&typeof n.set=="function"}function EL(n){let t=[],e=new Map;function i(r){let o=e.get(r);if(!o){let s=n(r);e.set(r,o=s.then(TL))}return o}return bd.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((f,w)=>{a.push(""),s.push(i(f).then(b=>{a[c+w]=b,d.splice(d.indexOf(f),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>AL(o));t.push(l)}),ML(),Promise.all(t).then(()=>{})}var bd=new Map,SL=new Set;function ML(){let n=bd;return bd=new Map,n}function IL(){return bd.size===0}function TL(n){return typeof n=="string"?n:n.text()}function AL(n){SL.delete(n)}function kL(n){return Object.getPrototypeOf(n.prototype).constructor}function Wt(n){let t=kL(n.type),e=!0,i=[n];for(;t;){let r;if(Kr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new L(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let s=n;s.inputs=Hu(n.inputs),s.inputTransforms=Hu(n.inputTransforms),s.declaredInputs=Hu(n.declaredInputs),s.outputs=Hu(n.outputs);let a=r.hostBindings;a&&FL(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&PL(n,l),c&&RL(n,c),NL(n,r),lO(n.outputs,r.outputs),Kr(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Wt&&(e=!1)}}t=Object.getPrototypeOf(t)}OL(i)}function NL(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];if(i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function OL(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=wl(r.hostAttrs,e=wl(e,r.hostAttrs))}}function Hu(n){return n===ea?{}:n===bn?[]:n}function PL(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function RL(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function FL(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function kl(n){let t=n.inputConfig,e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}n.inputTransforms=e}var Zr=class{},Dl=class{};var wd=class extends Zr{constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yd(this);let o=tC(t);this._bootstrapComponents=fx(o.bootstrap),this._r3Injector=zC(t,e,[{provide:Zr,useValue:this},{provide:aa,useValue:this.componentFactoryResolver},...i],en(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},_d=class extends Dl{constructor(t){super(),this.moduleType=t}create(t){return new wd(this.moduleType,t,[])}};function LL(n,t,e){return new wd(n,t,e,!1)}var ag=class extends Zr{constructor(t){super(),this.componentFactoryResolver=new yd(this),this.instance=null;let e=new _l([...t.providers,{provide:Zr,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],t.parent||Pd(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Zd(n,t,e=null){return new ag({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function nD(n){return c0(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function VL(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function c0(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Jd(n,t,e){return n[t]=e}function BL(n,t){return n[t]}function Pi(n,t,e){let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function u0(n,t,e,i){let r=Pi(n,t,e);return Pi(n,t+1,i)||r}function jL(n,t,e,i,r){let o=u0(n,t,e,i);return Pi(n,t+2,r)||o}function $L(n){return(n.flags&32)===32}function zL(n,t,e,i,r,o,s,a,l){let c=t.consts,d=fa(t,n,4,s||null,a||null);n0(t,e,d,oa(c,l)),Ud(t,d);let f=d.tView=t0(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}function iD(n,t,e,i,r,o,s,a,l,c){let d=e+nn,f=t.firstCreatePass?zL(d,t,n,i,r,o,s,a,l):t.data[d];Qo(f,!1);let w=UL(t,n,f,e);$d()&&Gd(t,n,w,f),Qr(w,n);let b=Px(w,n,w,f);return n[d]=b,Yd(n,b),dL(b,f,n),Ld(f)&&Xg(t,n,f),l!=null&&e0(n,f,c),f}function k(n,t,e,i,r,o,s,a){let l=fe(),c=mt(),d=oa(c.consts,o);return iD(l,c,n,t,e,i,r,d,s,a),k}var UL=HL;function HL(n,t,e,i){return zd(!0),t[st].createComment("")}var Zs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Zs||{}),rD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}}return n})(),lg=class n{constructor(){this.ngZone=B($e),this.scheduler=B(sa),this.errorHandler=B(or,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zs.EarlyRead,Zs.Write,Zs.MixedReadWrite,Zs.Read]}execute(){this.executing=!0;for(let t of n.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[t]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}},cg=class{constructor(t,e,i,r){this.impl=t,this.hooks=e,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function d0(n,t){!t?.injector&&oP(d0);let e=t?.injector??B(rn);return VR(e)?(Yo("NgAfterNextRender"),qL(n,e,t,!0)):GL}function WL(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function qL(n,t,e,i){let r=t.get(rD);r.impl??=t.get(lg);let o=e?.phase??Zs.MixedReadWrite,s=e?.manualCleanup!==!0?t.get(Bg):null,a=new cg(r.impl,WL(n,o),i,s);return r.impl.register(a),a}var GL={destroy(){}};function to(n,t,e,i){let r=fe(),o=jd();if(Pi(r,o,t)){let s=mt(),a=Fg();EF(a,r,n,t,e,i)}return to}function oD(n,t,e,i){return Pi(n,jd(),e)?t+Lo(e)+i:Yn}function KL(n,t,e,i,r,o){let s=xP(),a=u0(n,s,e,r);return Ng(2),a?t+Lo(e)+i+Lo(r)+o:Yn}function Wu(n,t){return n<<17|t<<2}function Ko(n){return n>>17&32767}function QL(n){return(n&2)==2}function YL(n,t){return n&131071|t<<17}function ug(n){return n|2}function la(n){return(n&131068)>>2}function dm(n,t){return n&-131069|t<<2}function ZL(n){return(n&1)===1}function dg(n){return n|1}function JL(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ko(s),l=la(s);n[i]=e;let c=!1,d;if(Array.isArray(e)){let f=e;d=f[1],(d===null||Il(f,d)>0)&&(c=!0)}else d=e;if(r)if(l!==0){let w=Ko(n[a+1]);n[i+1]=Wu(w,a),w!==0&&(n[w+1]=dm(n[w+1],i)),n[a+1]=YL(n[a+1],i)}else n[i+1]=Wu(a,0),a!==0&&(n[a+1]=dm(n[a+1],i)),a=i;else n[i+1]=Wu(l,0),a===0?a=i:n[l+1]=dm(n[l+1],i),l=i;c&&(n[i+1]=ug(n[i+1])),S1(n,d,i,!0),S1(n,d,i,!1),XL(t,d,n,i,o),s=Wu(a,l),o?t.classBindings=s:t.styleBindings=s}function XL(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Il(o,t)>=0&&(e[i+1]=dg(e[i+1]))}function S1(n,t,e,i){let r=n[e+1],o=t===null,s=i?Ko(r):la(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];e3(l,t)&&(a=!0,n[s+1]=i?dg(c):ug(c)),s=i?Ko(c):la(c)}a&&(n[e+1]=i?ug(r):dg(r))}function e3(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Il(n,t)>=0:!1}var pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t3(n){return n.substring(pi.key,pi.keyEnd)}function n3(n){return i3(n),sD(n,aD(n,0,pi.textEnd))}function sD(n,t){let e=pi.textEnd;return e===t?-1:(t=pi.keyEnd=r3(n,pi.key=t,e),aD(n,t,e))}function i3(n){pi.key=0,pi.keyEnd=0,pi.value=0,pi.valueEnd=0,pi.textEnd=n.length}function aD(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function r3(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function C(n,t,e){let i=fe(),r=jd();if(Pi(i,r,t)){let o=mt(),s=Fg();kx(o,s,i,n,t,i[st],e,!1)}return C}function fg(n,t,e,i,r){let o=t.inputs,s=r?"class":"style";i0(n,e,o[s],s,i)}function At(n,t,e){return cD(n,t,e,!1),At}function re(n,t){return cD(n,t,null,!0),re}function Qe(n){uD(u3,lD,n,!0)}function lD(n,t){for(let e=n3(t);e>=0;e=sD(t,e))kd(n,t3(t),!0)}function cD(n,t,e,i){let r=fe(),o=mt(),s=Ng(2);if(o.firstUpdatePass&&fD(o,n,s,i),t!==Yn&&Pi(r,s,t)){let a=o.data[eo()];pD(o,a,r,r[st],n,r[s+1]=f3(t,e),i,s)}}function uD(n,t,e,i){let r=mt(),o=Ng(2);r.firstUpdatePass&&fD(r,null,o,i);let s=fe();if(e!==Yn&&Pi(s,o,e)){let a=r.data[eo()];if(hD(a,i)&&!dD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=gm(l,e||"")),fg(r,a,s,e,i)}else d3(r,a,s,s[st],s[o+1],s[o+1]=c3(n,t,e),i,o)}}function dD(n,t){return t>=n.expandoStartIndex}function fD(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[eo()],s=dD(n,e);hD(o,i)&&t===null&&!s&&(t=!1),t=o3(r,o,t,i),JL(r,o,t,e,s,i)}}function o3(n,t,e,i){let r=IP(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=fm(null,n,t,e,i),e=El(e,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==r)if(e=fm(r,n,t,e,i),o===null){let l=s3(n,t,i);l!==void 0&&Array.isArray(l)&&(l=fm(null,n,t,l[1],i),l=El(l,t.attrs,i),a3(n,t,i,l))}else o=l3(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function s3(n,t,e){let i=e?t.classBindings:t.styleBindings;if(la(i)!==0)return n[Ko(i)]}function a3(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[Ko(r)]=i}function l3(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=El(i,s,e)}return El(i,t.attrs,e)}function fm(n,t,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],i=El(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function El(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kd(n,s,e?!0:t[++o]))}return n===void 0?null:n}function c3(n,t,e){if(e==null||e==="")return bn;let i=[],r=Qn(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function u3(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&kd(n,i,e)}function d3(n,t,e,i,r,o,s,a){r===Yn&&(r=bn);let l=0,c=0,d=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let w=l<r.length?r[l+1]:void 0,b=c<o.length?o[c+1]:void 0,_=null,D;d===f?(l+=2,c+=2,w!==b&&(_=f,D=b)):f===null||d!==null&&d<f?(l+=2,_=d):(c+=2,_=f,D=b),_!==null&&pD(n,t,e,i,_,D,s,a),d=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}function pD(n,t,e,i,r,o,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],d=ZL(c)?M1(l,t,e,r,la(c),s):void 0;if(!Cd(d)){Cd(o)||QL(c)&&(o=M1(l,null,e,r,a,s));let f=mC(eo(),e);nF(i,s,f,r,o)}}function M1(n,t,e,i,r,o){let s=t===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,f=d===null,w=e[r+1];w===Yn&&(w=f?bn:void 0);let b=f?nm(w,i):d===i?w:void 0;if(c&&!Cd(b)&&(b=nm(l,i)),Cd(b)&&(a=b,s))return a;let _=n[r+1];r=s?Ko(_):la(_)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=nm(l,i))}return a}function Cd(n){return n!==void 0}function f3(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=en(Qn(n)))),n}function hD(n,t){return(n.flags&(t?8:16))!==0}function mD(n,t,e){let i=fe(),r=oD(i,n,t,e);uD(kd,lD,r,!0)}function p3(n,t,e,i,r,o){let s=t.consts,a=oa(s,r),l=fa(t,n,2,i,a);return n0(t,e,l,oa(s,o)),l.attrs!==null&&gd(l,l.attrs,!1),l.mergedAttrs!==null&&gd(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function h(n,t,e,i){let r=fe(),o=mt(),s=nn+n,a=r[st],l=o.firstCreatePass?p3(s,o,r,t,e,i):o.data[s],c=h3(o,r,l,a,t,n);r[s]=c;let d=Ld(l);return Qo(l,!0),Dx(a,c,l),!$L(l)&&$d()&&Gd(o,r,c,l),yP()===0&&Qr(c,r),vP(),d&&(Xg(o,r,l),Jg(o,l,r)),i!==null&&e0(r,l),h}function p(){let n=Lt();Ag()?kg():(n=n.parent,Qo(n,!1));let t=n;wP(t)&&_P(),bP();let e=mt();return e.firstCreatePass&&(Ud(e,n),Mg(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&RP(t)&&fg(e,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&FP(t)&&fg(e,t,fe(),t.stylesWithoutHost,!1),p}function M(n,t,e,i){return h(n,t,e,i),p(),M}var h3=(n,t,e,i,r,o)=>(zd(!0),px(i,r,kP()));function m3(n,t,e,i,r){let o=t.consts,s=oa(o,i),a=fa(t,n,8,"ng-container",s);s!==null&&gd(a,s,!0);let l=oa(o,r);return n0(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function no(n,t,e){let i=fe(),r=mt(),o=n+nn,s=r.firstCreatePass?m3(o,r,i,t,e):r.data[o];Qo(s,!0);let a=g3(r,i,s,n);return i[o]=a,$d()&&Gd(r,i,a,s),Qr(a,i),Ld(s)&&(Xg(r,i,s),Jg(r,s,i)),e!=null&&e0(i,s),no}function io(){let n=Lt(),t=mt();return Ag()?kg():(n=n.parent,Qo(n,!1)),t.firstCreatePass&&(Ud(t,n),Mg(n)&&t.queries.elementEnd(n)),io}function f0(n,t,e){return no(n,t,e),io(),f0}var g3=(n,t,e,i)=>(zd(!0),zR(t[st],""));function J(){return fe()}var Ro=void 0;function y3(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var v3=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",y3],pm={};function Zn(n){let t=b3(n),e=I1(t);if(e)return e;let i=t.split("-")[0];if(e=I1(i),e)return e;if(i==="en")return v3;throw new L(701,!1)}function I1(n){return n in pm||(pm[n]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[n]),pm[n]}var gt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(gt||{});function b3(n){return n.toLowerCase().replace(/_/g,"-")}var xd="en-US";var w3=xd;function _3(n){typeof n=="string"&&(w3=n.toLowerCase().replace(/_/g,"-"))}var C3=(n,t,e)=>{};function N(n,t,e,i){let r=fe(),o=mt(),s=Lt();return gD(o,r,r[st],s,n,t,i),N}function x3(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=t[id],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function gD(n,t,e,i,r,o,s){let a=Ld(i),c=n.firstCreatePass&&Lx(n),d=t[mi],f=Fx(t),w=!0;if(i.type&3||s){let D=Kn(i,t),S=s?s(D):D,A=f.length,G=s?oe=>s(Ni(oe[i.index])):i.index,z=null;if(!s&&a&&(z=x3(n,t,r,i.index)),z!==null){let oe=z.__ngLastListenerFn__||z;oe.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,w=!1}else{o=A1(i,t,d,o),C3(D,r,o);let oe=e.listen(S,r,o);f.push(o,oe),c&&c.push(r,G,A,A+1)}}else o=A1(i,t,d,o);let b=i.outputs,_;if(w&&b!==null&&(_=b[r])){let D=_.length;if(D)for(let S=0;S<D;S+=2){let A=_[S],G=_[S+1],Te=t[A][G].subscribe(o),_e=f.length;f.push(o,Te),c&&c.push(r,i.index,_e,-(_e+1))}}}function T1(n,t,e,i){let r=Ne(null);try{return Ii(6,t,e),e(i)!==!1}catch(o){return Vx(n,o),!1}finally{Ii(7,t,e),Ne(r)}}function A1(n,t,e,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?Xr(n.index,t):t;o0(s,5);let a=T1(t,e,i,o),l=r.__ngNextListenerFn__;for(;l;)a=T1(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function E(n=1){return AP(n)}function D3(n,t){let e=null,i=VO(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?Z1(n,o,!0):$O(i,o))return r}return e}function yD(n){let t=fe()[qn][wn];if(!t.projection){let e=n?n.length:1,i=t.projection=TO(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?D3(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function vD(n,t=0,e,i,r,o){let s=fe(),a=mt(),l=i?n+1:null;l!==null&&iD(s,a,l,i,r,o,null,e);let c=fa(a,nn+n,16,null,e||null);c.projection===null&&(c.projection=t),kg();let f=!s[Cl]||CC();s[qn][wn].projection[c.projection]===null&&l!==null?E3(s,a,l):f&&(c.flags&32)!==32&&eF(a,s,c)}function E3(n,t,e){let i=nn+e,r=t.data[i],o=n[i],s=Jm(o,r.tView.ssrId),a=jx(n,r,void 0,{dehydratedView:s});$x(o,a,0,Ym(r,s))}function bD(n,t,e,i){bL(n,t,e,i)}function p0(n,t,e){vL(n,t,e)}function Nl(n){let t=fe(),e=mt(),i=EC();Og(i+1);let r=l0(e,i);if(n.dirty&&pP(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=CL(t,i);n.reset(o,rR),n.notifyOnChanges()}return!0}return!1}function Ol(){return yL(fe(),EC())}function S3(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function g(n,t=""){let e=fe(),i=mt(),r=n+nn,o=i.firstCreatePass?fa(i,r,1,t,null):i.data[r],s=M3(i,e,o,t,n);e[r]=s,$d()&&Gd(i,e,s,o),Qo(o,!1)}var M3=(n,t,e,i,r)=>(zd(!0),jR(t[st],i));function O(n){return X("",n,""),O}function X(n,t,e){let i=fe(),r=oD(i,n,t,e);return r!==Yn&&Bx(i,eo(),r),X}function Li(n,t,e,i,r){let o=fe(),s=KL(o,n,t,e,i,r);return s!==Yn&&Bx(o,eo(),s),Li}function Q(n,t,e){tD(t)&&(t=t());let i=fe(),r=jd();if(Pi(i,r,t)){let o=mt(),s=Fg();kx(o,s,i,n,t,i[st],e,!1)}return Q}function Z(n,t){let e=tD(n);return e&&n.set(t),e}function Y(n,t){let e=fe(),i=mt(),r=Lt();return gD(i,e,e[st],r,n,t),Y}function I3(n,t,e){let i=mt();if(i.firstCreatePass){let r=Kr(n);pg(e,i.data,i.blueprint,r,!0),pg(t,i.data,i.blueprint,r,!1)}}function pg(n,t,e,i,r){if(n=Xt(n),Array.isArray(n))for(let o=0;o<n.length;o++)pg(n[o],t,e,i,r);else{let o=mt(),s=fe(),a=Lt(),l=na(n)?n:Xt(n.provide),c=aC(n),d=a.providerIndexes&1048575,f=a.directiveStart,w=a.providerIndexes>>20;if(na(n)||!n.multi){let b=new Uo(c,r,I),_=mm(l,t,r?d:d+w,f);_===-1?(Am(cd(a,s),o,l),hm(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(b),s.push(b)):(e[_]=b,s[_]=b)}else{let b=mm(l,t,d+w,f),_=mm(l,t,d,d+w),D=b>=0&&e[b],S=_>=0&&e[_];if(r&&!S||!r&&!D){Am(cd(a,s),o,l);let A=k3(r?A3:T3,e.length,r,i,c);!r&&S&&(e[_].providerFactory=A),hm(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(A),s.push(A)}else{let A=wD(e[r?_:b],c,!r&&i);hm(o,n,b>-1?b:_,A)}!r&&i&&S&&e[_].componentProviders++}}}function hm(n,t,e,i){let r=na(t),o=JO(t);if(r||o){let l=(o?Xt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let d=c.indexOf(e);d===-1?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function wD(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function mm(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function T3(n,t,e,i){return hg(this.multi,[])}function A3(n,t,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ho(e,e[me],this.providerFactory.index,i);o=a.slice(0,s),hg(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],hg(r,o);return o}function hg(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function k3(n,t,e,i,r){let o=new Uo(n,e,I);return o.multi=[],o.index=t,o.componentProviders=0,wD(o,r,i&&!e),o}function on(n,t=[]){return e=>{e.providersResolver=(i,r)=>I3(i,r?r(n):n,t)}}var N3=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=rC(!1,e.type),r=i.length>0?Zd([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(j(tn))})}}return n})();function _D(n){Yo("NgStandalone"),n.getStandaloneInjector=t=>t.get(N3).getOrCreateStandaloneInjector(n)}function Xd(n,t,e){let i=ua()+n,r=fe();return r[i]===Yn?Jd(r,i,e?t.call(e):t()):BL(r,i)}function ro(n,t,e,i){return CD(fe(),ua(),n,t,e,i)}function ef(n,t,e,i,r){return xD(fe(),ua(),n,t,e,i,r)}function h0(n,t){let e=n[t];return e===Yn?void 0:e}function CD(n,t,e,i,r,o){let s=t+e;return Pi(n,s,r)?Jd(n,s+1,o?i.call(o,r):i(r)):h0(n,s+1)}function xD(n,t,e,i,r,o,s){let a=t+e;return u0(n,a,r,o)?Jd(n,a+2,s?i.call(s,r,o):i(r,o)):h0(n,a+2)}function O3(n,t,e,i,r,o,s,a){let l=t+e;return jL(n,l,r,o,s)?Jd(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):h0(n,l+3)}function ce(n,t){let e=mt(),i,r=n+nn;e.firstCreatePass?(i=P3(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Vo(i.type,!0)),s,a=vn(I);try{let l=ld(!1),c=o();return ld(l),S3(e,fe(),r,c),c}finally{vn(a)}}function P3(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function Pe(n,t,e){let i=n+nn,r=fe(),o=Ig(r,i);return g0(r,i)?CD(r,ua(),t,o.transform,e,o):o.transform(e)}function vi(n,t,e,i){let r=n+nn,o=fe(),s=Ig(o,r);return g0(o,r)?xD(o,ua(),t,s.transform,e,i,s):s.transform(e,i)}function m0(n,t,e,i,r){let o=n+nn,s=fe(),a=Ig(s,o);return g0(s,o)?O3(s,ua(),t,a.transform,e,i,r,a):a.transform(e,i,r)}function g0(n,t){return n[me].data[t].pure}var qu=null;function R3(n){qu!==null&&(n.defaultEncapsulation!==qu.defaultEncapsulation||n.preserveWhitespaces!==qu.preserveWhitespaces)||(qu=n)}var tf=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var y0=new W(""),Pl=new W(""),nf=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,v0||(F3(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(j($e),j(rf),j(Pl))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),rf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return v0?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function F3(n){v0=n}var v0;function oo(n){return!!n&&typeof n.then=="function"}function b0(n){return!!n&&typeof n.subscribe=="function"}var of=new W(""),DD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=B(of,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(oo(o))e.push(o);else if(b0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sf=new W("");function L3(){b_(()=>{throw new L(600,!1)})}function V3(n){return n.isBoundToModule}var B3=10;function j3(n,t,e){try{let i=e();return oo(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}function ED(n,t){return Array.isArray(t)?t.reduce(ED,n):F(F({},n),t)}var bi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(nR),this.afterRenderManager=B(rD),this.zonelessEnabled=B(a0),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=B(cr).hasPendingTasks.pipe(ue(e=>!e)),this._injector=B(tn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof md;if(!this._injector.get(DD).done){let w=!r&&eC(e),b=!1;throw new L(405,b)}let s;r?s=e:s=this._injector.get(aa).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=V3(s)?void 0:this._injector.get(Zr),l=i||s.selector,c=s.create(rn.NULL,[],l,a),d=c.location.nativeElement,f=c.injector.get(y0,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Ju(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new L(101,!1);let e=Ne(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ne(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Yr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<B3;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)$3(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Vd(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Ju(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(sf,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ju(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new L(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ju(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function $3(n,t,e,i){if(!e&&!Vd(n))return;Hx(n,t,e&&!i?0:1)}var mg=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},af=(()=>{class n{compileModuleSync(e){return new _d(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=tC(e),o=fx(r.declarations).reduce((s,a)=>{let l=ir(a);return l&&s.push(new Go(l)),s},[]);return new mg(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),z3=new W("");function U3(n,t,e){let i=new _d(e);return Promise.resolve(i)}function k1(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==void 0)return n[t]}var H3=(()=>{class n{constructor(){this.zone=B($e),this.changeDetectionScheduler=B(sa),this.applicationRef=B(bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function W3({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new $e(ae(F({},SD()),{scheduleInRootZone:e})),[{provide:$e,useFactory:n},{provide:ta,multi:!0,useFactory:()=>{let i=B(H3,{optional:!0});return()=>i.initialize()}},{provide:ta,multi:!0,useFactory:()=>{let i=B(q3);return()=>{i.initialize()}}},t===!0?{provide:Kx,useValue:!0}:[],{provide:Qx,useValue:e??UC}]}function SD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var q3=(()=>{class n{constructor(){this.subscription=new bt,this.initialized=!1,this.zone=B($e),this.pendingTasks=B(cr)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var G3=(()=>{class n{constructor(){this.appRef=B(bi),this.taskService=B(cr),this.ngZone=B($e),this.zonelessEnabled=B(a0),this.disableScheduling=B(Kx,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new bt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(dd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(Qx,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fd||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?c1:HC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,c1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function K3(){return typeof $localize<"u"&&$localize.locale||xd}var lf=new W("",{providedIn:"root",factory:()=>B(lf,Ce.Optional|Ce.SkipSelf)||K3()});var Dd=new W("");function Gu(n){return!n.moduleRef}function Q3(n){let t=Gu(n)?n.r3Injector:n.moduleRef.injector,e=t.get($e);return e.run(()=>{Gu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(or,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{i.handleError(o)}})}),Gu(n)){let o=()=>t.destroy(),s=n.platformInjector.get(Dd);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Dd);s.add(o),n.moduleRef.onDestroy(()=>{Ju(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return j3(i,e,()=>{let o=t.get(DD);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(lf,xd);if(_3(s||xd),Gu(n)){let a=t.get(bi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Y3(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Y3(n,t){let e=n.injector.get(bi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new L(-403,!1);t.push(n)}var MD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){let r=i?.scheduleInRootZone,o=()=>tR(i?.ngZone,ae(F({},SD({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[W3({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:sa,useExisting:G3}],l=LL(e.moduleType,this.injector,a);return Q3({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,i=[]){let r=ED({},i);return U3(this.injector,r,e).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let e=this._injector.get(Dd,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(j(rn))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),vl=null,Ed=new W("");function Z3(n){if(_0())throw new L(400,!1);L3(),vl=n.get(Ed,!1)?null:n;let e=n.get(MD);return eV(n),e}function w0(n,t,e=[]){let i=`Platform: ${t}`,r=new W(i);return(o=[])=>{let s=_0();if(!s||s.injector.get(Ed,!1)){let l=[...e,...o,{provide:r,useValue:!0}];s=n?.(l)??Z3(J3(l,i))}return s.injector.get(Ed,!1)?s:X3(r)}}function J3(n=[],t){return rn.create({name:t,providers:[{provide:Od,useValue:"platform"},{provide:Dd,useValue:new Set([()=>vl=null])},...n]})}function X3(n){let t=_0();if(!t)throw new L(401,!1);return t}function _0(){return vl&&vl.get(Ed,!1)?null:vl?.get(MD)??null}function eV(n){n.get(zg,null)?.forEach(e=>e())}var pr=(()=>{class n{static{this.__NG_ELEMENT_ID__=tV}}return n})();function tV(n){return nV(Lt(),fe(),(n&16)===16)}function nV(n,t,e){if(Fd(n)&&!e){let i=Xr(n.index,t);return new Wo(i,i)}else if(n.type&175){let i=t[qn];return new Wo(i,t)}return null}var gg=class{constructor(){}supports(t){return nD(t)}create(t){return new yg(t)}},iV=(n,t)=>t,yg=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||iV}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<N1(i,r,o)?e:i,a=N1(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let w=0;w<c;w++){let b=w<o.length?o[w]:o[w]=0,_=b+w;d<=_&&_<c&&(o[w]=b+1)}let f=s.previousIndex;o[f]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!nD(t))throw new L(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,VL(t,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new vg(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Sd),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},vg=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},bg=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Sd=class{constructor(){this.map=new Map}put(t){let e=t.trackById,i=this.map.get(e);i||(i=new bg,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function N1(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var wg=class{constructor(){}supports(t){return t instanceof Map||c0(t)}create(){return new _g}},_g=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||c0(t)))throw new L(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new Cg(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},Cg=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function O1(){return new C0([new gg])}var C0=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:O1})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||O1()),deps:[[n,new Ad,new Ml]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new L(901,!1)}}return n})();function P1(){return new cf([new wg])}var cf=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:P1})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||P1()),deps:[[n,new Ad,new Ml]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new L(901,!1)}}return n})();var ID=w0(null,"core",[]),TD=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(j(bi))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})();function so(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ha(n,t){Yo("NgSignals");let e=g_(n);return t?.equal&&(e[Xi].equal=t.equal),e}function Jn(n){let t=Ne(null);try{return n()}finally{Ne(t)}}function AD(n,t){let e=ir(n),i=t.elementInjector||Pd();return new Go(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function kD(n){let t=ir(n);if(!t)return null;let e=new Go(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var BD=null;function Vi(){return BD}function jD(n){BD??=n}var vf=class{};var Mt=new W(""),P0=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>B(oV),providedIn:"platform"})}}return n})(),$D=new W(""),oV=(()=>{class n extends P0{constructor(){super(),this._doc=B(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vi().getBaseHref(this._doc)}onPopState(e){let i=Vi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Vi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function R0(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function ND(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,i=e-(n[e-1]==="/"?1:0);return n.slice(0,i)+n.slice(e)}function mr(n){return n&&n[0]!=="?"?"?"+n:n}var yr=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>B(F0),providedIn:"root"})}}return n})(),zD=new W(""),F0=(()=>{class n extends yr{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return R0(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+mr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+mr(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+mr(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(j(P0),j(zD,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UD=(()=>{class n extends yr{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=R0(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+mr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+mr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(j(P0),j(zD,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),ga=(()=>{class n{constructor(e){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=lV(ND(OD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+mr(i))}normalize(e){return n.stripTrailingSlash(aV(this._basePath,OD(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=mr}static{this.joinWithSlash=R0}static{this.stripTrailingSlash=ND}static{this.\u0275fac=function(i){return new(i||n)(j(yr))}}static{this.\u0275prov=V({token:n,factory:()=>sV(),providedIn:"root"})}}return n})();function sV(){return new ga(j(yr))}function aV(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function OD(n){return n.replace(/\/index.html$/,"")}function lV(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var sn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(sn||{}),Ze=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ze||{}),Pn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Pn||{}),ao={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function cV(n){return Zn(n)[gt.LocaleId]}function uV(n,t,e){let i=Zn(n),r=[i[gt.DayPeriodsFormat],i[gt.DayPeriodsStandalone]],o=Xn(r,t);return Xn(o,e)}function dV(n,t,e){let i=Zn(n),r=[i[gt.DaysFormat],i[gt.DaysStandalone]],o=Xn(r,t);return Xn(o,e)}function fV(n,t,e){let i=Zn(n),r=[i[gt.MonthsFormat],i[gt.MonthsStandalone]],o=Xn(r,t);return Xn(o,e)}function pV(n,t){let i=Zn(n)[gt.Eras];return Xn(i,t)}function uf(n,t){let e=Zn(n);return Xn(e[gt.DateFormat],t)}function df(n,t){let e=Zn(n);return Xn(e[gt.TimeFormat],t)}function ff(n,t){let i=Zn(n)[gt.DateTimeFormat];return Xn(i,t)}function wf(n,t){let e=Zn(n),i=e[gt.NumberSymbols][t];if(typeof i>"u"){if(t===ao.CurrencyDecimal)return e[gt.NumberSymbols][ao.Decimal];if(t===ao.CurrencyGroup)return e[gt.NumberSymbols][ao.Group]}return i}function HD(n){if(!n[gt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[gt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hV(n){let t=Zn(n);return HD(t),(t[gt.ExtraData][2]||[]).map(i=>typeof i=="string"?x0(i):[x0(i[0]),x0(i[1])])}function mV(n,t,e){let i=Zn(n);HD(i);let r=[i[gt.ExtraData][0],i[gt.ExtraData][1]],o=Xn(r,t)||[];return Xn(o,e)||[]}function Xn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function x0(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var gV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pf={},yV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,gr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(gr||{}),Be=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Be||{}),Ve=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ve||{});function vV(n,t,e,i){let r=MV(n);t=hr(e,t)||t;let s=[],a;for(;t;)if(a=yV.exec(t),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;t=d}else{s.push(t);break}let l=r.getTimezoneOffset();i&&(l=qD(i,l),r=SV(r,i,!0));let c="";return s.forEach(d=>{let f=DV(d);c+=f?f(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function bf(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function hr(n,t){let e=cV(n);if(pf[e]??={},pf[e][t])return pf[e][t];let i="";switch(t){case"shortDate":i=uf(n,Pn.Short);break;case"mediumDate":i=uf(n,Pn.Medium);break;case"longDate":i=uf(n,Pn.Long);break;case"fullDate":i=uf(n,Pn.Full);break;case"shortTime":i=df(n,Pn.Short);break;case"mediumTime":i=df(n,Pn.Medium);break;case"longTime":i=df(n,Pn.Long);break;case"fullTime":i=df(n,Pn.Full);break;case"short":let r=hr(n,"shortTime"),o=hr(n,"shortDate");i=hf(ff(n,Pn.Short),[r,o]);break;case"medium":let s=hr(n,"mediumTime"),a=hr(n,"mediumDate");i=hf(ff(n,Pn.Medium),[s,a]);break;case"long":let l=hr(n,"longTime"),c=hr(n,"longDate");i=hf(ff(n,Pn.Long),[l,c]);break;case"full":let d=hr(n,"fullTime"),f=hr(n,"fullDate");i=hf(ff(n,Pn.Full),[d,f]);break}return i&&(pf[e][t]=i),i}function hf(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function wi(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function bV(n,t){return wi(n,3).substring(0,t)}function Ct(n,t,e=0,i=!1,r=!1){return function(o,s){let a=wV(n,o);if((e>0||a>-e)&&(a+=e),n===Be.Hours)a===0&&e===-12&&(a=12);else if(n===Be.FractionalSeconds)return bV(a,t);let l=wf(s,ao.MinusSign);return wi(a,t,l,i,r)}}function wV(n,t){switch(n){case Be.FullYear:return t.getFullYear();case Be.Month:return t.getMonth();case Be.Date:return t.getDate();case Be.Hours:return t.getHours();case Be.Minutes:return t.getMinutes();case Be.Seconds:return t.getSeconds();case Be.FractionalSeconds:return t.getMilliseconds();case Be.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function et(n,t,e=sn.Format,i=!1){return function(r,o){return _V(r,o,n,t,e,i)}}function _V(n,t,e,i,r,o){switch(e){case Ve.Months:return fV(t,r,i)[n.getMonth()];case Ve.Days:return dV(t,r,i)[n.getDay()];case Ve.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let c=hV(t),d=mV(t,r,i),f=c.findIndex(w=>{if(Array.isArray(w)){let[b,_]=w,D=s>=b.hours&&a>=b.minutes,S=s<_.hours||s===_.hours&&a<_.minutes;if(b.hours<_.hours){if(D&&S)return!0}else if(D||S)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return uV(t,r,i)[s<12?0:1];case Ve.Eras:return pV(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function mf(n){return function(t,e,i){let r=-1*i,o=wf(e,ao.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case gr.Short:return(r>=0?"+":"")+wi(s,2,o)+wi(Math.abs(r%60),2,o);case gr.ShortGMT:return"GMT"+(r>=0?"+":"")+wi(s,1,o);case gr.Long:return"GMT"+(r>=0?"+":"")+wi(s,2,o)+":"+wi(Math.abs(r%60),2,o);case gr.Extended:return i===0?"Z":(r>=0?"+":"")+wi(s,2,o)+":"+wi(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var CV=0,yf=4;function xV(n){let t=bf(n,CV,1).getDay();return bf(n,0,1+(t<=yf?yf:yf+7)-t)}function WD(n){let t=n.getDay(),e=t===0?-3:yf-t;return bf(n.getFullYear(),n.getMonth(),n.getDate()+e)}function D0(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=WD(e),s=xV(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return wi(r,n,wf(i,ao.MinusSign))}}function gf(n,t=!1){return function(e,i){let o=WD(e).getFullYear();return wi(o,n,wf(i,ao.MinusSign),t)}}var E0={};function DV(n){if(E0[n])return E0[n];let t;switch(n){case"G":case"GG":case"GGG":t=et(Ve.Eras,Ze.Abbreviated);break;case"GGGG":t=et(Ve.Eras,Ze.Wide);break;case"GGGGG":t=et(Ve.Eras,Ze.Narrow);break;case"y":t=Ct(Be.FullYear,1,0,!1,!0);break;case"yy":t=Ct(Be.FullYear,2,0,!0,!0);break;case"yyy":t=Ct(Be.FullYear,3,0,!1,!0);break;case"yyyy":t=Ct(Be.FullYear,4,0,!1,!0);break;case"Y":t=gf(1);break;case"YY":t=gf(2,!0);break;case"YYY":t=gf(3);break;case"YYYY":t=gf(4);break;case"M":case"L":t=Ct(Be.Month,1,1);break;case"MM":case"LL":t=Ct(Be.Month,2,1);break;case"MMM":t=et(Ve.Months,Ze.Abbreviated);break;case"MMMM":t=et(Ve.Months,Ze.Wide);break;case"MMMMM":t=et(Ve.Months,Ze.Narrow);break;case"LLL":t=et(Ve.Months,Ze.Abbreviated,sn.Standalone);break;case"LLLL":t=et(Ve.Months,Ze.Wide,sn.Standalone);break;case"LLLLL":t=et(Ve.Months,Ze.Narrow,sn.Standalone);break;case"w":t=D0(1);break;case"ww":t=D0(2);break;case"W":t=D0(1,!0);break;case"d":t=Ct(Be.Date,1);break;case"dd":t=Ct(Be.Date,2);break;case"c":case"cc":t=Ct(Be.Day,1);break;case"ccc":t=et(Ve.Days,Ze.Abbreviated,sn.Standalone);break;case"cccc":t=et(Ve.Days,Ze.Wide,sn.Standalone);break;case"ccccc":t=et(Ve.Days,Ze.Narrow,sn.Standalone);break;case"cccccc":t=et(Ve.Days,Ze.Short,sn.Standalone);break;case"E":case"EE":case"EEE":t=et(Ve.Days,Ze.Abbreviated);break;case"EEEE":t=et(Ve.Days,Ze.Wide);break;case"EEEEE":t=et(Ve.Days,Ze.Narrow);break;case"EEEEEE":t=et(Ve.Days,Ze.Short);break;case"a":case"aa":case"aaa":t=et(Ve.DayPeriods,Ze.Abbreviated);break;case"aaaa":t=et(Ve.DayPeriods,Ze.Wide);break;case"aaaaa":t=et(Ve.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":t=et(Ve.DayPeriods,Ze.Abbreviated,sn.Standalone,!0);break;case"bbbb":t=et(Ve.DayPeriods,Ze.Wide,sn.Standalone,!0);break;case"bbbbb":t=et(Ve.DayPeriods,Ze.Narrow,sn.Standalone,!0);break;case"B":case"BB":case"BBB":t=et(Ve.DayPeriods,Ze.Abbreviated,sn.Format,!0);break;case"BBBB":t=et(Ve.DayPeriods,Ze.Wide,sn.Format,!0);break;case"BBBBB":t=et(Ve.DayPeriods,Ze.Narrow,sn.Format,!0);break;case"h":t=Ct(Be.Hours,1,-12);break;case"hh":t=Ct(Be.Hours,2,-12);break;case"H":t=Ct(Be.Hours,1);break;case"HH":t=Ct(Be.Hours,2);break;case"m":t=Ct(Be.Minutes,1);break;case"mm":t=Ct(Be.Minutes,2);break;case"s":t=Ct(Be.Seconds,1);break;case"ss":t=Ct(Be.Seconds,2);break;case"S":t=Ct(Be.FractionalSeconds,1);break;case"SS":t=Ct(Be.FractionalSeconds,2);break;case"SSS":t=Ct(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=mf(gr.Short);break;case"ZZZZZ":t=mf(gr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=mf(gr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=mf(gr.Long);break;default:return null}return E0[n]=t,t}function qD(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function EV(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function SV(n,t,e){let i=e?-1:1,r=n.getTimezoneOffset(),o=qD(t,r);return EV(n,i*(o-r))}function MV(n){if(PD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return bf(r,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(gV))return IV(i)}let t=new Date(n);if(!PD(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function IV(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,c),t}function PD(n){return n instanceof Date&&!isNaN(n.valueOf())}function _f(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var S0=/\s+/,RD=[],Zo=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=RD,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(S0):RD}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(S0):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(S0).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(Cn))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var M0=class{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Re=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new M0(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),FD(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);FD(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(I(fr),I(qo),I(C0))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function FD(n,t){n.context.$implicit=t.item}var ge=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new I0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(I(fr),I(qo))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),I0=class{constructor(){this.$implicit=null,this.ngIf=null}};function LD(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${en(t)}'.`)}var GD=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Oi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(cf),I(Cn))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),KD=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(I(fr))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_n]})}}return n})();function QD(n,t){return new L(2100,!1)}var T0=class{createSubscription(t,e){return Jn(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){Jn(()=>t.unsubscribe())}},A0=class{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}},TV=new A0,AV=new T0,Jo=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(oo(e))return TV;if(b0(e))return AV;throw QD(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(I(pr,16))}}static{this.\u0275pipe=Jr({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var kV="mediumDate",NV=new W(""),OV=new W(""),lo=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??kV,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return vV(e,s,o||this.locale,a)}catch(s){throw QD(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(I(lf,16),I(NV,24),I(OV,24))}}static{this.\u0275pipe=Jr({name:"date",type:n,pure:!0,standalone:!0})}}return n})();function PV(n,t){return{key:n,value:t}}var YD=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=VD}transform(e,i=VD){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(PV(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}static{this.\u0275fac=function(i){return new(i||n)(I(cf,16))}}static{this.\u0275pipe=Jr({name:"keyvalue",type:n,pure:!1,standalone:!0})}}return n})();function VD(n,t){let e=n.key,i=t.key;if(e===i)return 0;if(e===void 0)return 1;if(i===void 0)return-1;if(e===null)return 1;if(i===null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let r=String(e),o=String(i);return r==o?0:r<o?-1:1}var Rl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})(),L0="browser",RV="server";function FV(n){return n===L0}function Cf(n){return n===RV}var ZD=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>FV(B(Ri))?new k0(B(Mt),window):new N0})}}return n})(),k0=class{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=LV(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function LV(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var N0=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},ma=class{};var Ll=class{},Df=class{},vr=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var B0=class{encodeKey(t){return JD(t)}encodeValue(t){return JD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function VV(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var BV=/%(\d[a-f0-9])/gi,jV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JD(n){return encodeURIComponent(n).replace(BV,(t,e)=>jV[e]??t)}function xf(n){return`${n}`}var ei=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new B0,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=VV(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(xf):[xf(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(xf(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(xf(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var j0=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function $V(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function XD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eE(n){return typeof Blob<"u"&&n instanceof Blob}function tE(n){return typeof FormData<"u"&&n instanceof FormData}function zV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Fl=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if($V(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new vr,this.context??=new j0,!this.params)this.params=new ei,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||XD(this.body)||eE(this.body)||tE(this.body)||zV(this.body)?this.body:this.body instanceof ei?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tE(this.body)?null:eE(this.body)?this.body.type||null:XD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ei?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((w,b)=>w.set(b,t.setHeaders[b]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((w,b)=>w.set(b,t.setParams[b]),d)),new n(e,i,s,{params:d,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},uo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(uo||{}),Vl=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new vr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ef=class n extends Vl{constructor(t={}){super(t),this.type=uo.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Bl=class n extends Vl{constructor(t={}){super(t),this.type=uo.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},co=class extends Vl{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},sE=200,UV=204;function V0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var It=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Fl)o=e;else{let l;r.headers instanceof vr?l=r.headers:l=new vr(r.headers);let c;r.params&&(r.params instanceof ei?c=r.params:c=new ei({fromObject:r.params})),o=new Fl(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=te(o).pipe(tr(l=>this.handler.handle(l)));if(e instanceof Fl||r.observe==="events")return s;let a=s.pipe(gn(l=>l instanceof Bl));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ue(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ue(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ue(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(ue(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new ei().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,V0(r,i))}post(e,i,r={}){return this.request("POST",e,V0(r,i))}put(e,i,r={}){return this.request("PUT",e,V0(r,i))}static{this.\u0275fac=function(i){return new(i||n)(j(Ll))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),HV=/^\)\]\}',?\n/,WV="X-Request-URL";function nE(n){if(n.url)return n.url;let t=WV.toLocaleLowerCase();return n.headers.get(t)}var qV=(()=>{class n{constructor(){this.fetchImpl=B($0,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=B($e)}handle(e){return new Ae(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(z0,o=>i.error(new co({error:o}))),()=>r.abort()})}doRequest(e,i,r){return ll(this,null,function*(){let o=this.createRequestInit(e),s;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,F({signal:i},o)));GV(b),r.next({type:uo.Sent}),s=yield b}catch(b){r.error(new co({error:b,status:b.status??0,statusText:b.statusText,url:e.urlWithParams,headers:b.headers}));return}let a=new vr(s.headers),l=s.statusText,c=nE(s)??e.urlWithParams,d=s.status,f=null;if(e.reportProgress&&r.next(new Ef({headers:a,status:d,statusText:l,url:c})),s.body){let b=s.headers.get("content-length"),_=[],D=s.body.getReader(),S=0,A,G,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ll(this,null,function*(){for(;;){let{done:Te,value:_e}=yield D.read();if(Te)break;if(_.push(_e),S+=_e.length,e.reportProgress){G=e.responseType==="text"?(G??"")+(A??=new TextDecoder).decode(_e,{stream:!0}):void 0;let K=()=>r.next({type:uo.DownloadProgress,total:b?+b:void 0,loaded:S,partialText:G});z?z.run(K):K()}}}));let oe=this.concatChunks(_,S);try{let Te=s.headers.get("Content-Type")??"";f=this.parseBody(e,oe,Te)}catch(Te){r.error(new co({error:Te,headers:new vr(s.headers),status:s.status,statusText:s.statusText,url:nE(s)??e.urlWithParams}));return}}d===0&&(d=f?sE:0),d>=200&&d<300?(r.next(new Bl({body:f,headers:a,status:d,statusText:l,url:c})),r.complete()):r.error(new co({error:f,headers:a,status:d,statusText:l,url:c}))})}parseBody(e,i,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(HV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),$0=class{};function z0(){}function GV(n){n.then(z0,z0)}function aE(n,t){return t(n)}function KV(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function QV(n,t,e){return(i,r)=>Gn(e,()=>t(i,o=>n(o,r)))}var U0=new W(""),H0=new W(""),YV=new W(""),lE=new W("",{providedIn:"root",factory:()=>!0});function ZV(){let n=null;return(t,e)=>{n===null&&(n=(B(U0,{optional:!0})??[]).reduceRight(KV,aE));let i=B(cr);if(B(lE)){let o=i.add();return n(t,e).pipe(Ur(()=>i.remove(o)))}else return n(t,e)}}var iE=(()=>{class n extends Ll{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=B(cr),this.contributeToStability=B(lE)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(H0),...this.injector.get(YV,[])]));this.chain=i.reduceRight((r,o)=>QV(r,o,this.injector),aE)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Ur(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(j(Df),j(tn))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();var JV=/^\)\]\}',?\n/;function XV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var rE=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new L(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Xe(i.\u0275loadImpl()):te(null)).pipe(yn(()=>new Ae(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((D,S)=>s.setRequestHeader(D,S.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let D=e.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(e.responseType){let D=e.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let D=s.statusText||"OK",S=new vr(s.getAllResponseHeaders()),A=XV(s)||e.url;return l=new Ef({headers:S,status:s.status,statusText:D,url:A}),l},d=()=>{let{headers:D,status:S,statusText:A,url:G}=c(),z=null;S!==UV&&(z=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=z?sE:0);let oe=S>=200&&S<300;if(e.responseType==="json"&&typeof z=="string"){let Te=z;z=z.replace(JV,"");try{z=z!==""?JSON.parse(z):null}catch(_e){z=Te,oe&&(oe=!1,z={error:_e,text:z})}}oe?(o.next(new Bl({body:z,headers:D,status:S,statusText:A,url:G||void 0})),o.complete()):o.error(new co({error:z,headers:D,status:S,statusText:A,url:G||void 0}))},f=D=>{let{url:S}=c(),A=new co({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(A)},w=!1,b=D=>{w||(o.next(c()),w=!0);let S={type:uo.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(S.total=D.total),e.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},_=D=>{let S={type:uo.UploadProgress,loaded:D.loaded};D.lengthComputable&&(S.total=D.total),o.next(S)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",b),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:uo.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",b),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(j(ma))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),cE=new W(""),e5="XSRF-TOKEN",t5=new W("",{providedIn:"root",factory:()=>e5}),n5="X-XSRF-TOKEN",i5=new W("",{providedIn:"root",factory:()=>n5}),Sf=class{},r5=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_f(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(j(Mt),j(Ri),j(t5))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function o5(n,t){let e=n.url.toLowerCase();if(!B(cE)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=B(Sf).getToken(),r=B(i5);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var uE=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(uE||{});function s5(n,t){return{\u0275kind:n,\u0275providers:t}}function a5(...n){let t=[It,rE,iE,{provide:Ll,useExisting:iE},{provide:Df,useFactory:()=>B(qV,{optional:!0})??B(rE)},{provide:H0,useValue:o5,multi:!0},{provide:cE,useValue:!0},{provide:Sf,useClass:r5}];for(let e of n)t.push(...e.\u0275providers);return Nd(t)}var oE=new W("");function l5(){return s5(uE.LegacyInterceptors,[{provide:oE,useFactory:ZV},{provide:H0,useExisting:oE,multi:!0}])}var dE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({providers:[a5(l5())]})}}return n})();var G0=class extends vf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},K0=class n extends G0{static makeCurrent(){jD(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=c5();return e==null?null:u5(e)}resetBaseElement(){jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _f(document.cookie,t)}},jl=null;function c5(){return jl=jl||document.querySelector("base"),jl?jl.getAttribute("href"):null}function u5(n){return new URL(n,document.baseURI).pathname}var Q0=class{addToWindow(t){Ft.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new L(5103,!1);return o},Ft.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ft.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=Ft.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?Vi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},d5=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Y0=new W(""),hE=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(j(Y0),j($e))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Mf=class{constructor(t){this._doc=t}},W0="ng-app-id",mE=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cf(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${W0}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(W0),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(W0,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(j(Mt),j(Hd),j(Hg,8),j(Ri))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),q0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},J0=/%COMP%/g,gE="%COMP%",f5=`_nghost-${gE}`,p5=`_ngcontent-${gE}`,h5=!0,m5=new W("",{providedIn:"root",factory:()=>h5});function g5(n){return p5.replace(J0,n)}function y5(n){return f5.replace(J0,n)}function yE(n,t){return t.map(e=>e.replace(J0,n))}var If=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Cf(a),this.defaultRenderer=new $l(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ai.ShadowDom&&(i=ae(F({},i),{encapsulation:Ai.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Tf?r.applyToHost(e):r instanceof zl&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ai.Emulated:o=new Tf(l,c,i,this.appId,d,s,a,f);break;case Ai.ShadowDom:return new Z0(l,c,e,i,s,a,this.nonce,f);default:o=new zl(l,c,i,d,s,a,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(j(hE),j(mE),j(Hd),j(m5),j(Mt),j(Ri),j($e),j(Hg))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),$l=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(q0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(fE(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(fE(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new L(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=q0[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=q0[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Oi.DashCase|Oi.Important)?t.style.setProperty(e,i,r&Oi.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Oi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=Vi().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function fE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Z0=class extends $l{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=yE(r.id,r.styles);for(let d of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zl=class extends $l{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?yE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tf=class extends zl{constructor(t,e,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=g5(c),this.hostAttr=y5(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},v5=(()=>{class n extends Mf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(j(Mt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),pE=["alt","control","meta","shift"],b5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},w5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},_5=(()=>{class n extends Mf{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vi().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),pE.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=b5[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),pE.forEach(s=>{if(s!==r){let a=w5[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(j(Mt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function C5(){K0.makeCurrent()}function x5(){return new or}function D5(){return ZC(document),document}var E5=[{provide:Ri,useValue:L0},{provide:zg,useValue:C5,multi:!0},{provide:Mt,useFactory:D5,deps:[]}],vE=w0(ID,"browser",E5),S5=new W(""),M5=[{provide:Pl,useClass:Q0,deps:[]},{provide:y0,useClass:nf,deps:[$e,rf,Pl]},{provide:nf,useClass:nf,deps:[$e,rf,Pl]}],I5=[{provide:Od,useValue:"root"},{provide:or,useFactory:x5,deps:[]},{provide:Y0,useClass:v5,multi:!0,deps:[Mt,$e,Ri]},{provide:Y0,useClass:_5,multi:!0,deps:[Mt]},If,mE,hE,{provide:Yr,useExisting:If},{provide:ma,useClass:d5,deps:[]},[]],Af=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Hd,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(j(S5,12))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({providers:[...I5,...M5],imports:[Rl,TD]})}}return n})();var bE=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(j(Mt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var X0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=j(T5),r},providedIn:"root"})}}return n})(),T5=(()=>{class n extends X0{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case yi.NONE:return i;case yi.HTML:return ur(i,"HTML")?Qn(i):qg(this._doc,String(i)).toString();case yi.STYLE:return ur(i,"Style")?Qn(i):i;case yi.SCRIPT:if(ur(i,"Script"))return Qn(i);throw new L(5200,!1);case yi.URL:return ur(i,"URL")?Qn(i):qd(String(i));case yi.RESOURCE_URL:if(ur(i,"ResourceURL"))return Qn(i);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(e){return tx(e)}bypassSecurityTrustStyle(e){return nx(e)}bypassSecurityTrustScript(e){return ix(e)}bypassSecurityTrustUrl(e){return rx(e)}bypassSecurityTrustResourceUrl(e){return ox(e)}static{this.\u0275fac=function(i){return new(i||n)(j(Mt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ye||{}),Bi="*";function wE(n,t){return{type:ye.Trigger,name:n,definitions:t,options:{}}}function ty(n,t=null){return{type:ye.Animate,styles:t,timings:n}}function _E(n,t=null){return{type:ye.Sequence,steps:n,options:t}}function Xo(n){return{type:ye.Style,styles:n,offset:null}}function ny(n,t,e=null){return{type:ye.Transition,expr:n,animation:t,options:e}}var fo=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Ul=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},kf="!";function CE(n){return new L(3e3,!1)}function A5(){return new L(3100,!1)}function k5(){return new L(3101,!1)}function N5(n){return new L(3001,!1)}function O5(n){return new L(3003,!1)}function P5(n){return new L(3004,!1)}function R5(n,t){return new L(3005,!1)}function F5(){return new L(3006,!1)}function L5(){return new L(3007,!1)}function V5(n,t){return new L(3008,!1)}function B5(n){return new L(3002,!1)}function j5(n,t,e,i,r){return new L(3010,!1)}function $5(){return new L(3011,!1)}function z5(){return new L(3012,!1)}function U5(){return new L(3200,!1)}function H5(){return new L(3202,!1)}function W5(){return new L(3013,!1)}function q5(n){return new L(3014,!1)}function G5(n){return new L(3015,!1)}function K5(n){return new L(3016,!1)}function Q5(n,t){return new L(3404,!1)}function Y5(n){return new L(3502,!1)}function Z5(n){return new L(3503,!1)}function J5(){return new L(3300,!1)}function X5(n){return new L(3504,!1)}function e4(n){return new L(3301,!1)}function t4(n,t){return new L(3302,!1)}function n4(n){return new L(3303,!1)}function i4(n,t){return new L(3400,!1)}function r4(n){return new L(3401,!1)}function o4(n){return new L(3402,!1)}function s4(n,t){return new L(3505,!1)}function po(n){switch(n.length){case 0:return new fo;case 1:return n[0];default:return new Ul(n)}}function FE(n,t,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),d=c==s,f=d&&a||new Map;l.forEach((w,b)=>{let _=b,D=w;if(b!=="offset")switch(_=n.normalizePropertyName(_,r),D){case kf:D=e.get(b);break;case Bi:D=i.get(b);break;default:D=n.normalizeStyleValue(b,_,D,r);break}f.set(_,D)}),d||o.push(f),a=f,s=c}),r.length)throw Y5(r);return o}function Ey(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&iy(e,"start",n)));break;case"done":n.onDone(()=>i(e&&iy(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&iy(e,"destroy",n)));break}}function iy(n,t,e){let i=e.totalTime,r=!!e.disabled,o=Sy(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function Sy(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Fn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function xE(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var a4=typeof document>"u"?null:document.documentElement;function My(n){let t=n.parentNode||n.host||null;return t===a4?null:t}function l4(n){return n.substring(1,6)=="ebkit"}var es=null,DE=!1;function c4(n){es||(es=u4()||{},DE=es.style?"WebkitAppearance"in es.style:!1);let t=!0;return es.style&&!l4(n)&&(t=n in es.style,!t&&DE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in es.style)),t}function u4(){return typeof document<"u"?document.body:null}function LE(n,t){for(;t;){if(t===n)return!0;t=My(t)}return!1}function VE(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Iy=(()=>{class n{validateStyleProperty(e){return c4(e)}containsElement(e,i){return LE(e,i)}getParentElement(e){return My(e)}query(e,i,r){return VE(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new fo(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),is=class{static{this.NOOP=new Iy}},rs=class{};var d4=1e3,BE="{{",f4="}}",jE="ng-enter",cy="ng-leave",Nf="ng-trigger",Lf=".ng-trigger",EE="ng-animating",uy=".ng-animating";function wr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dy(parseFloat(t[1]),t[2])}function dy(n,t){switch(t){case"s":return n*d4;default:return n}}function Vf(n,t,e){return n.hasOwnProperty("duration")?n:p4(n,t,e)}function p4(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(CE(n)),{duration:0,delay:0,easing:""};r=dy(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=dy(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(A5()),a=!0),o<0&&(t.push(k5()),a=!0),a&&t.splice(l,0,CE(n))}return{duration:r,delay:o,easing:s}}function h4(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function ji(n,t,e){t.forEach((i,r)=>{let o=Ty(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function ns(n,t){t.forEach((e,i)=>{let r=Ty(i);n.style[r]=""})}function Hl(n){return Array.isArray(n)?n.length==1?n[0]:_E(n):n}function m4(n,t,e){let i=t.params||{},r=$E(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(N5(o))})}var fy=new RegExp(`${BE}\\s*(.+?)\\s*${f4}`,"g");function $E(n){let t=[];if(typeof n=="string"){let e;for(;e=fy.exec(n);)t.push(e[1]);fy.lastIndex=0}return t}function ql(n,t,e){let i=`${n}`,r=i.replace(fy,(o,s)=>{let a=t[s];return a==null&&(e.push(O5(s)),a=""),a.toString()});return r==i?n:r}var g4=/-+([a-z0-9])/g;function Ty(n){return n.replace(g4,(...t)=>t[1].toUpperCase())}function y4(n,t){return n===0||t===0}function v4(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Ay(n,a)))}}return t}function Rn(n,t,e){switch(t.type){case ye.Trigger:return n.visitTrigger(t,e);case ye.State:return n.visitState(t,e);case ye.Transition:return n.visitTransition(t,e);case ye.Sequence:return n.visitSequence(t,e);case ye.Group:return n.visitGroup(t,e);case ye.Animate:return n.visitAnimate(t,e);case ye.Keyframes:return n.visitKeyframes(t,e);case ye.Style:return n.visitStyle(t,e);case ye.Reference:return n.visitReference(t,e);case ye.AnimateChild:return n.visitAnimateChild(t,e);case ye.AnimateRef:return n.visitAnimateRef(t,e);case ye.Query:return n.visitQuery(t,e);case ye.Stagger:return n.visitStagger(t,e);default:throw P5(t.type)}}function Ay(n,t){return window.getComputedStyle(n)[t]}var b4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Bf=class extends rs{normalizePropertyName(t,e){return Ty(t)}normalizeStyleValue(t,e,i,r){let o="",s=i.toString().trim();if(b4.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(R5(t,i))}return s+o}};var jf="*";function w4(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>_4(i,e,t)):e.push(n),e}function _4(n,t,e){if(n[0]==":"){let l=C4(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(G5(n)),t;let r=i[1],o=i[2],s=i[3];t.push(SE(r,s));let a=r==jf&&s==jf;o[0]=="<"&&!a&&t.push(SE(s,r))}function C4(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(K5(n)),"* => *"}}var Of=new Set(["true","1"]),Pf=new Set(["false","0"]);function SE(n,t){let e=Of.has(n)||Pf.has(n),i=Of.has(t)||Pf.has(t);return(r,o)=>{let s=n==jf||n==r,a=t==jf||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Of.has(n):Pf.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?Of.has(t):Pf.has(t)),s&&a}}var zE=":self",x4=new RegExp(`s*${zE}s*,?`,"g");function UE(n,t,e,i){return new py(n).build(t,e,i)}var ME="",py=class{constructor(t){this._driver=t}build(t,e,i){let r=new hy(e);return this._resetContextStyleTimingState(r),Rn(this,Hl(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=ME,t.collectedStyles=new Map,t.collectedStyles.set(ME,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(F5()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==ye.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==ye.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(L5())}),{type:ye.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{$E(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(V5(t.name,[...o.values()]))}return{type:ye.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Rn(this,Hl(t.animation),e),r=w4(t.expr,e.errors);return{type:ye.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ts(t.options)}}visitSequence(t,e){return{type:ye.Sequence,steps:t.steps.map(i=>Rn(this,i,e)),options:ts(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=i;let a=Rn(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:ye.Group,steps:o,options:ts(t.options)}}visitAnimate(t,e){let i=M4(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Xo({});if(o.type==ye.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=Xo(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:ye.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===Bi?i.push(a):e.errors.push(B5(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(BE)>=0){o=!0;break}}}),{type:ye.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),f=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(j5(l,d.startTime,d.endTime,o,r)),f=!1),o=d.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&m4(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:ye.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push($5()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,d=t.steps.map(A=>{let G=this._makeStyleAst(A,e),z=G.offset!=null?G.offset:S4(G.styles),oe=0;return z!=null&&(o++,oe=G.offset=z),l=l||oe<0||oe>1,a=a||oe<c,c=oe,s.push(oe),G});l&&e.errors.push(z5()),a&&e.errors.push(U5());let f=t.steps.length,w=0;o>0&&o<f?e.errors.push(H5()):o==0&&(w=r/(f-1));let b=f-1,_=e.currentTime,D=e.currentAnimateTimings,S=D.duration;return d.forEach((A,G)=>{let z=w>0?G==b?1:w*G:s[G],oe=z*S;e.currentTime=_+D.delay+oe,D.duration=oe,this._validateStyleAst(A,e),A.offset=z,i.styles.push(A)}),i}visitReference(t,e){return{type:ye.Reference,animation:Rn(this,Hl(t.animation),e),options:ts(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:ye.AnimateChild,options:ts(t.options)}}visitAnimateRef(t,e){return{type:ye.AnimateRef,animation:this.visitReference(t.animation,e),options:ts(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=D4(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Fn(e.collectedStyles,e.currentQuerySelector,new Map);let a=Rn(this,Hl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:ye.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:ts(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(W5());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Vf(t.timings,e.errors,!0);return{type:ye.Stagger,animation:Rn(this,Hl(t.animation),e),timings:i,options:null}}};function D4(n){let t=!!n.split(/\s*,\s*/).find(e=>e==zE);return t&&(n=n.replace(x4,"")),n=n.replace(/@\*/g,Lf).replace(/@\w+/g,e=>Lf+"-"+e.slice(1)).replace(/:animating/g,uy),[n,t]}function E4(n){return n?F({},n):null}var hy=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function S4(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function M4(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Vf(n,t).duration;return ry(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ry(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Vf(e,t);return ry(r.duration,r.delay,r.easing)}function ts(n){return n?(n=F({},n),n.params&&(n.params=E4(n.params))):n={},n}function ry(n,t,e){return{duration:n,delay:t,easing:e}}function ky(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Gl=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},I4=1,T4=":enter",A4=new RegExp(T4,"g"),k4=":leave",N4=new RegExp(k4,"g");function HE(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return new my().buildKeyframes(n,t,e,i,r,o,s,a,l,c)}var my=class{buildKeyframes(t,e,i,r,o,s,a,l,c,d=[]){c=c||new Gl;let f=new gy(t,e,c,r,o,d,[]);f.options=l;let w=l.delay?wr(l.delay):0;f.currentTimeline.delayNextStep(w),f.currentTimeline.setStyles([s],null,f.errors,l),Rn(this,i,f);let b=f.timelines.filter(_=>_.containsAnimation());if(b.length&&a.size){let _;for(let D=b.length-1;D>=0;D--){let S=b[D];if(S.element===e){_=S;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,f.errors,l)}return b.length?b.map(_=>_.buildKeyframes()):[ky(e,[],[],[],0,w,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:wr(ql(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?wr(i.duration):null,a=i.delay!=null?wr(i.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Rn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ye.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$f);let s=wr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Rn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?wr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),Rn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?ql(i,e.params,e.errors):i;return Vf(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==ye.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?wr(r.delay):0;o&&(e.previousNode.type===ye.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$f);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;let f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),Rn(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe();let w=f.currentTimeline.currentTime;s=Math.max(s,w)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;Rn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},$f={},gy=class n{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$f,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new zf(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=wr(i.duration)),i.delay!=null&&(r.delay=wr(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=ql(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=$f,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new yy(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(A4,"."+this._enterClassName),t=t.replace(N4,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(q5(e)),a}},zf=class n{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=I4,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Bi),this._currentKeyframe.set(e,Bi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=O4(t,this._globalTimelineStyles);for(let[a,l]of s){let c=ql(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Bi),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,f)=>{d===kf?t.add(f):d===Bi&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...t.values()],s=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return ky(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},yy=class extends zf{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",IE(a)),o.push(c);let d=t.length-1;for(let f=1;f<=d;f++){let w=new Map(t[f]),b=w.get("offset"),_=e+b*i;w.set("offset",IE(_/s)),o.push(w)}i=s,e=0,r="",t=o}return ky(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function IE(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function O4(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,Bi)}else for(let[o,s]of r)e.set(o,s)}),e}function TE(n,t,e,i,r,o,s,a,l,c,d,f,w){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:w}}var oy={},Uf=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return P4(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,d){let f=[],w=this.ast.options&&this.ast.options.params||oy,b=a&&a.params||oy,_=this.buildStyles(i,b,f),D=l&&l.params||oy,S=this.buildStyles(r,D,f),A=new Set,G=new Map,z=new Map,oe=r==="void",Te={params:WE(D,w),delay:this.ast.options?.delay},_e=d?[]:HE(t,e,this.ast.animation,o,s,_,S,Te,c,f),K=0;return _e.forEach(he=>{K=Math.max(he.duration+he.delay,K)}),f.length?TE(e,this._triggerName,i,r,oe,_,S,[],[],G,z,K,f):(_e.forEach(he=>{let be=he.element,fn=Fn(G,be,new Set);he.preStyleProps.forEach(we=>fn.add(we));let $t=Fn(z,be,new Set);he.postStyleProps.forEach(we=>$t.add(we)),be!==e&&A.add(be)}),TE(e,this._triggerName,i,r,oe,_,S,_e,[...A.values()],G,z,K))}};function P4(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function WE(n,t){let e=F({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var vy=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=WE(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ql(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}};function R4(n,t,e){return new by(n,t,e)}var by=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new vy(r.style,o,i))}),AE(this.states,"true","1"),AE(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Uf(t,r,this.states))}),this.fallbackTransition=F4(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function F4(n,t,e){let i=[(s,a)=>!0],r={type:ye.Sequence,steps:[],options:null},o={type:ye.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Uf(n,o,t)}function AE(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var L4=new Gl,wy=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],r=[],o=UE(this._driver,e,i,r);if(i.length)throw Z5(i);r.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=FE(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=HE(this._driver,e,o,jE,cy,new Map,new Map,i,L4,r),s.forEach(d=>{let f=Fn(a,d.element,new Map);d.postStyleProps.forEach(w=>f.set(w,null))})):(r.push(J5()),s=[]),r.length)throw X5(r);a.forEach((d,f)=>{d.forEach((w,b)=>{d.set(b,this._driver.computeStyle(f,b,Bi))})});let l=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),c=po(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw e4(t);return e}listen(t,e,i,r){let o=Sy(e,"","","");return Ey(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},kE="ng-animate-queued",V4=".ng-animate-queued",sy="ng-animate-disabled",B4=".ng-animate-disabled",j4="ng-star-inserted",$4=".ng-star-inserted",z4=[],qE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_i="__ng_removed",Kl=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=W4(r),i){let o=t,{value:s}=o,a=Ph(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Wl="void",ay=new Kl(Wl),_y=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ti(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw t4(i,e);if(i==null||i.length==0)throw n4(e);if(!q4(i))throw i4(i,e);let o=Fn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);let a=Fn(this._engine.statesByElement,t,new Map);return a.has(e)||(ti(t,Nf),ti(t,Nf+"-"+e),a.set(e,ay)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw r4(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),s=new Ql(this.id,e,t),a=this._engine.statesByElement.get(t);a||(ti(t,Nf),ti(t,Nf+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Kl(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=ay),!(c.value===Wl)&&l.value===c.value){if(!Q4(l.params,c.params)){let D=[],S=o.matchStyles(l.value,l.params,D),A=o.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{ns(t,S),ji(t,A)})}return}let w=Fn(this._engine.playersByElement,t,[]);w.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let b=o.matchTransition(l.value,c.value,t,c.params),_=!1;if(!b){if(!r)return;b=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:l,toState:c,player:s,isFallbackTransition:_}),_||(ti(t,kE),s.onStart(()=>{ya(t,kE)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let S=this._engine.playersByElement.get(t);if(S){let A=S.indexOf(s);A>=0&&S.splice(A,1)}}),this.players.push(s),w.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Lf,!0);i.forEach(r=>{if(r[_i])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(t,c,Wl,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&po(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||ay,d=new Kl(Wl),f=new Ql(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[_i];(!o||o===qE)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ti(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=Sy(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Ey(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Cy=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new _y(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(Rf(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Rf(e))return;let o=e[_i];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ti(t,sy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ya(t,sy))}removeNode(t,e,i){if(Rf(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[_i]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Rf(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Lf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,uy,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return po(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[_i];if(e&&e.setForRemoval){if(t[_i]=qE,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,B4,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ti(r,j4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?po(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw o4(t)}_flushAnimations(t,e){let i=new Gl,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(q=>{d.add(q);let ee=this.driver.query(q,V4,!0);for(let ne=0;ne<ee.length;ne++)d.add(ee[ne])});let f=this.bodyNode,w=Array.from(this.statesByElement.keys()),b=PE(w,this.collectedEnterElements),_=new Map,D=0;b.forEach((q,ee)=>{let ne=jE+D++;_.set(ee,ne),q.forEach(De=>ti(De,ne))});let S=[],A=new Set,G=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){let ee=this.collectedLeaveElements[q],ne=ee[_i];ne&&ne.setForRemoval&&(S.push(ee),A.add(ee),ne.hasAnimation?this.driver.query(ee,$4,!0).forEach(De=>A.add(De)):G.add(ee))}let z=new Map,oe=PE(w,Array.from(A));oe.forEach((q,ee)=>{let ne=cy+D++;z.set(ee,ne),q.forEach(De=>ti(De,ne))}),t.push(()=>{b.forEach((q,ee)=>{let ne=_.get(ee);q.forEach(De=>ya(De,ne))}),oe.forEach((q,ee)=>{let ne=z.get(ee);q.forEach(De=>ya(De,ne))}),S.forEach(q=>{this.processLeaveNode(q)})});let Te=[],_e=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(e).forEach(ne=>{let De=ne.player,We=ne.element;if(Te.push(De),this.collectedEnterElements.length){let dt=We[_i];if(dt&&dt.setForMove){if(dt.previousTriggersValues&&dt.previousTriggersValues.has(ne.triggerName)){let ui=dt.previousTriggersValues.get(ne.triggerName),pn=this.statesByElement.get(ne.element);if(pn&&pn.has(ne.triggerName)){let Fr=pn.get(ne.triggerName);Fr.value=ui,pn.set(ne.triggerName,Fr)}}De.destroy();return}}let Rt=!f||!this.driver.containsElement(f,We),ut=z.get(We),Ei=_.get(We),je=this._buildInstruction(ne,i,Ei,ut,Rt);if(je.errors&&je.errors.length){_e.push(je);return}if(Rt){De.onStart(()=>ns(We,je.fromStyles)),De.onDestroy(()=>ji(We,je.toStyles)),r.push(De);return}if(ne.isFallbackTransition){De.onStart(()=>ns(We,je.fromStyles)),De.onDestroy(()=>ji(We,je.toStyles)),r.push(De);return}let Rr=[];je.timelines.forEach(dt=>{dt.stretchStartingKeyframe=!0,this.disabledNodes.has(dt.element)||Rr.push(dt)}),je.timelines=Rr,i.append(We,je.timelines);let Zc={instruction:je,player:De,element:We};s.push(Zc),je.queriedElements.forEach(dt=>Fn(a,dt,[]).push(De)),je.preStyleProps.forEach((dt,ui)=>{if(dt.size){let pn=l.get(ui);pn||l.set(ui,pn=new Set),dt.forEach((Fr,Io)=>pn.add(Io))}}),je.postStyleProps.forEach((dt,ui)=>{let pn=c.get(ui);pn||c.set(ui,pn=new Set),dt.forEach((Fr,Io)=>pn.add(Io))})});if(_e.length){let q=[];_e.forEach(ee=>{q.push(s4(ee.triggerName,ee.errors))}),Te.forEach(ee=>ee.destroy()),this.reportError(q)}let K=new Map,he=new Map;s.forEach(q=>{let ee=q.element;i.has(ee)&&(he.set(ee,ee),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,K))}),r.forEach(q=>{let ee=q.element;this._getPreviousPlayers(ee,!1,q.namespaceId,q.triggerName,null).forEach(De=>{Fn(K,ee,[]).push(De),De.destroy()})});let be=S.filter(q=>RE(q,l,c)),fn=new Map;OE(fn,this.driver,G,c,Bi).forEach(q=>{RE(q,l,c)&&be.push(q)});let we=new Map;b.forEach((q,ee)=>{OE(we,this.driver,new Set(q),l,kf)}),be.forEach(q=>{let ee=fn.get(q),ne=we.get(q);fn.set(q,new Map([...ee?.entries()??[],...ne?.entries()??[]]))});let Di=[],Yc=[],rl={};s.forEach(q=>{let{element:ee,player:ne,instruction:De}=q;if(i.has(ee)){if(d.has(ee)){ne.onDestroy(()=>ji(ee,De.toStyles)),ne.disabled=!0,ne.overrideTotalTime(De.totalTime),r.push(ne);return}let We=rl;if(he.size>1){let ut=ee,Ei=[];for(;ut=ut.parentNode;){let je=he.get(ut);if(je){We=je;break}Ei.push(ut)}Ei.forEach(je=>he.set(je,We))}let Rt=this._buildAnimation(ne.namespaceId,De,K,o,we,fn);if(ne.setRealPlayer(Rt),We===rl)Di.push(ne);else{let ut=this.playersByElement.get(We);ut&&ut.length&&(ne.parentPlayer=po(ut)),r.push(ne)}}else ns(ee,De.fromStyles),ne.onDestroy(()=>ji(ee,De.toStyles)),Yc.push(ne),d.has(ee)&&r.push(ne)}),Yc.forEach(q=>{let ee=o.get(q.element);if(ee&&ee.length){let ne=po(ee);q.setRealPlayer(ne)}}),r.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<S.length;q++){let ee=S[q],ne=ee[_i];if(ya(ee,cy),ne&&ne.hasAnimation)continue;let De=[];if(a.size){let Rt=a.get(ee);Rt&&Rt.length&&De.push(...Rt);let ut=this.driver.query(ee,uy,!0);for(let Ei=0;Ei<ut.length;Ei++){let je=a.get(ut[Ei]);je&&je.length&&De.push(...je)}}let We=De.filter(Rt=>!Rt.destroyed);We.length?G4(this,ee,We):this.processLeaveNode(ee)}return S.length=0,Di.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();let ee=this.players.indexOf(q);this.players.splice(ee,1)}),q.play()}),Di}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==Wl;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,d=c!==o,f=Fn(i,c,[]);this._getPreviousPlayers(c,d,s,a,e.toState).forEach(b=>{let _=b.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),b.destroy(),f.push(b)})}ns(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){let a=e.triggerName,l=e.element,c=[],d=new Set,f=new Set,w=e.timelines.map(_=>{let D=_.element;d.add(D);let S=D[_i];if(S&&S.removedBeforeQueried)return new fo(_.duration,_.delay);let A=D!==l,G=K4((i.get(D)||z4).map(K=>K.getRealPlayer())).filter(K=>{let he=K;return he.element?he.element===D:!1}),z=o.get(D),oe=s.get(D),Te=FE(this._normalizer,_.keyframes,z,oe),_e=this._buildPlayer(_,Te,G);if(_.subTimeline&&r&&f.add(D),A){let K=new Ql(t,a,D);K.setRealPlayer(_e),c.push(K)}return _e});c.forEach(_=>{Fn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>H4(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>ti(_,EE));let b=po(w);return b.onDestroy(()=>{d.forEach(_=>ya(_,EE)),ji(l,e.toStyles)}),f.forEach(_=>{Fn(r,_,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new fo(t.duration,t.delay)}},Ql=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new fo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Ey(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function H4(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function W4(n){return n??null}function Rf(n){return n&&n.nodeType===1}function q4(n){return n=="start"||n=="done"}function NE(n,t){let e=n.style.display;return n.style.display=t??"none",e}function OE(n,t,e,i,r){let o=[];e.forEach(l=>o.push(NE(l)));let s=[];i.forEach((l,c)=>{let d=new Map;l.forEach(f=>{let w=t.computeStyle(c,f,r);d.set(f,w),(!w||w.length==0)&&(c[_i]=U4,s.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>NE(l,o[a++])),s}function PE(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==i&&e.get(l).push(a)}),e}function ti(n,t){n.classList?.add(t)}function ya(n,t){n.classList?.remove(t)}function G4(n,t,e){po(e).onDone(()=>n.processLeaveNode(t))}function K4(n){let t=[];return GE(n,t),t}function GE(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof Ul?GE(i.players,t):t.push(i)}}function Q4(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function RE(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var va=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Cy(t.body,e,i),this._timelineEngine=new wy(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],d=UE(this._driver,o,l,c);if(l.length)throw Q5(r,l);c.length&&void 0,a=R4(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,s]=xE(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=xE(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Y4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ly(t[0]),t.length>1&&(i=ly(t[t.length-1]))):t instanceof Map&&(e=ly(t)),e||i?new xy(n,e,i):null}var xy=class n{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ji(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ji(this._element,this._initialStyles),this._endStyles&&(ji(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ns(this._element,this._endStyles),this._endStyles=null),ji(this._element,this._initialStyles),this._state=3)}};function ly(n){let t=null;return n.forEach((e,i)=>{Z4(i)&&(t=t||new Map,t.set(i,e))}),t}function Z4(n){return n==="display"||n==="position"}var Hf=class{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Ay(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Wf=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return LE(t,e)}getParentElement(t){return My(t)}query(t,e,i){return VE(t,e,i)}computeStyle(t,e,i){return Ay(t,e)}animate(t,e,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(b=>b instanceof Hf);y4(i,r)&&d.forEach(b=>{b.currentSnapshot.forEach((_,D)=>c.set(D,_))});let f=h4(e).map(b=>new Map(b));f=v4(t,f,c);let w=Y4(t,f);return new Hf(t,f,l,w)}};var Ff="@",KE="@.disabled",qf=class{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Ff&&e==KE?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Dy=class extends qf{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Ff?e.charAt(1)=="."&&e==KE?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==Ff){let r=J4(t),o=e.slice(1),s="";return o.charAt(0)!=Ff&&([o,s]=X4(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function J4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function X4(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Gf=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let f=()=>c.delete(r);d=new qf(i,r,this.engine,f),c.set(r,d)}return d}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new Dy(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var tB=(()=>{class n extends va{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(j(Mt),j(is),j(rs))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function nB(){return new Bf}function iB(n,t,e){return new Gf(n,t,e)}var YE=[{provide:rs,useFactory:nB},{provide:va,useClass:tB},{provide:Yr,useFactory:iB,deps:[If,va,$e]}],QE=[{provide:is,useFactory:()=>new Wf},{provide:Ug,useValue:"BrowserAnimations"},...YE],rB=[{provide:is,useClass:Iy},{provide:Ug,useValue:"NoopAnimations"},...YE],ZE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rB:QE}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({providers:QE,imports:[Af]})}}return n})();var aS=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(I(Cn),I(ct))}}static{this.\u0275dir=ze({type:n})}}return n})(),tc=(()=>{class n extends aS{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,features:[Wt]})}}return n})(),xr=new W(""),oB={provide:xr,useExisting:Ht(()=>nc),multi:!0},nc=(()=>{class n extends tc{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&N("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[on([oB]),Wt]})}}return n})(),sB={provide:xr,useExisting:Ht(()=>rt),multi:!0};function aB(){let n=Vi()?Vi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lB=new W(""),rt=(()=>{class n extends aS{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!aB())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(I(Cn),I(ct),I(lB,8))}}static{this.\u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&N("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[on([sB]),Wt]})}}return n})();function ho(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function lS(n){return n!=null&&typeof n.length=="number"}var Ca=new W(""),ip=new W(""),cB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Me=class{static min(t){return cS(t)}static max(t){return uB(t)}static required(t){return uS(t)}static requiredTrue(t){return dB(t)}static email(t){return fB(t)}static minLength(t){return pB(t)}static maxLength(t){return hB(t)}static pattern(t){return mB(t)}static nullValidator(t){return Qf(t)}static compose(t){return gS(t)}static composeAsync(t){return yS(t)}};function cS(n){return t=>{if(ho(t.value)||ho(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function uB(n){return t=>{if(ho(t.value)||ho(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function uS(n){return ho(n.value)?{required:!0}:null}function dB(n){return n.value===!0?null:{required:!0}}function fB(n){return ho(n.value)||cB.test(n.value)?null:{email:!0}}function pB(n){return t=>ho(t.value)||!lS(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function hB(n){return t=>lS(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function mB(n){if(!n)return Qf;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ho(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Qf(n){return null}function dS(n){return n!=null}function fS(n){return oo(n)?Xe(n):n}function pS(n){let t={};return n.forEach(e=>{t=e!=null?F(F({},t),e):t}),Object.keys(t).length===0?null:t}function hS(n,t){return t.map(e=>e(n))}function gB(n){return!n.validate}function mS(n){return n.map(t=>gB(t)?t:e=>t.validate(e))}function gS(n){if(!n)return null;let t=n.filter(dS);return t.length==0?null:function(e){return pS(hS(e,t))}}function Ly(n){return n!=null?gS(mS(n)):null}function yS(n){if(!n)return null;let t=n.filter(dS);return t.length==0?null:function(e){let i=hS(e,t).map(fS);return Zh(i).pipe(ue(pS))}}function Vy(n){return n!=null?yS(mS(n)):null}function JE(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vS(n){return n._rawValidators}function bS(n){return n._rawAsyncValidators}function Ny(n){return n?Array.isArray(n)?n:[n]:[]}function Yf(n,t){return Array.isArray(n)?n.includes(t):n===t}function XE(n,t){let e=Ny(t);return Ny(n).forEach(r=>{Yf(e,r)||e.push(r)}),e}function eS(n,t){return Ny(t).filter(e=>!Yf(n,e))}var Zf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},_r=class extends Zf{get formDirective(){return null}get path(){return null}},ss=class extends Zf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Jf=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uee=ae(F({},yB),{"[class.ng-submitted]":"isSubmitted"}),nt=(()=>{class n extends Jf{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(I(ss,2))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&re("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Wt]})}}return n})(),an=(()=>{class n extends Jf{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(I(_r,10))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&re("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Wt]})}}return n})();var Yl="VALID",Kf="INVALID",ba="PENDING",Zl="DISABLED",mo=class{},Xf=class extends mo{constructor(t,e){super(),this.value=t,this.source=e}},Xl=class extends mo{constructor(t,e){super(),this.pristine=t,this.source=e}},ec=class extends mo{constructor(t,e){super(),this.touched=t,this.source=e}},wa=class extends mo{constructor(t,e){super(),this.status=t,this.source=e}},Oy=class extends mo{constructor(t){super(),this.source=t}},Py=class extends mo{constructor(t){super(),this.source=t}};function By(n){return(rp(n)?n.validators:n)||null}function vB(n){return Array.isArray(n)?Ly(n):n||null}function jy(n,t){return(rp(t)?t.asyncValidators:n)||null}function bB(n){return Array.isArray(n)?Vy(n):n||null}function rp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function wS(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new L(1e3,"");if(!i[e])throw new L(1001,"")}function _S(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new L(1002,"")})}var _a=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ha(()=>this.statusReactive()),this.statusReactive=pa(void 0),this._pristine=ha(()=>this.pristineReactive()),this.pristineReactive=pa(!0),this._touched=ha(()=>this.touchedReactive()),this.touchedReactive=pa(!1),this._events=new tt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Jn(this.statusReactive)}set status(t){Jn(()=>this.statusReactive.set(t))}get valid(){return this.status===Yl}get invalid(){return this.status===Kf}get pending(){return this.status==ba}get disabled(){return this.status===Zl}get enabled(){return this.status!==Zl}get pristine(){return Jn(this.pristineReactive)}set pristine(t){Jn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Jn(this.touchedReactive)}set touched(t){Jn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(XE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(XE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(eS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(eS(t,this._rawAsyncValidators))}hasValidator(t){return Yf(this._rawValidators,t)}hasAsyncValidator(t){return Yf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ae(F({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ec(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new ec(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ae(F({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Xl(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Xl(!0,i))}markAsPending(t={}){this.status=ba;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wa(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ae(F({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Zl,this.errors=null,this._forEachChild(r=>{r.disable(ae(F({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xf(this.value,i)),this._events.next(new wa(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(F({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Yl,this._forEachChild(i=>{i.enable(ae(F({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ae(F({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yl||this.status===ba)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xf(this.value,e)),this._events.next(new wa(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ae(F({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zl:Yl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ba,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=fS(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new wa(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Zl:this.errors?Kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ba)?ba:this._anyControlsHaveStatus(Kf)?Kf:Yl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Xl(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ec(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=vB(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=bB(this._rawAsyncValidators)}},Cr=class extends _a{constructor(t,e,i){super(By(e),jy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){_S(this,!0,t),Object.keys(t).forEach(i=>{wS(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ry=class extends Cr{};var ic=new W("CallSetDisabledState",{providedIn:"root",factory:()=>op}),op="always";function CS(n,t){return[...t.path,n]}function ep(n,t,e=op){$y(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),_B(n,t),xB(n,t),CB(n,t),wB(n,t)}function tS(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),np(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wB(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function $y(n,t){let e=vS(n);t.validator!==null?n.setValidators(JE(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=bS(n);t.asyncValidator!==null?n.setAsyncValidators(JE(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();tp(t._rawValidators,r),tp(t._rawAsyncValidators,r)}function np(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=vS(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=bS(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return tp(t._rawValidators,i),tp(t._rawAsyncValidators,i),e}function _B(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&xS(n,t)})}function CB(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&xS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function xS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xB(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function DS(n,t){n==null,$y(n,t)}function DB(n,t){return np(n,t)}function ES(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function EB(n){return Object.getPrototypeOf(n.constructor)===tc}function SS(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function MS(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===rt?e=o:EB(o)?i=o:r=o}),r||i||e||null}function SB(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var MB={provide:_r,useExisting:Ht(()=>zy)},Jl=Promise.resolve(),zy=(()=>{class n extends _r{get submitted(){return Jn(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=ha(()=>this.submittedReactive()),this.submittedReactive=pa(!1),this._directives=new Set,this.ngSubmit=new Ke,this.form=new Cr({},Ly(e),Vy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jl.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ep(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jl.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jl.then(()=>{let i=this._findContainer(e.path),r=new Cr({});DS(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jl.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Jl.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),SS(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(I(Ca,10),I(ip,10),I(ic,8))}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&N("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[on([MB]),Wt]})}}return n})();function nS(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function iS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ni=class extends _a{constructor(t=null,e,i){super(By(e),jy(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(iS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){iS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var IB=n=>n instanceof ni;var TB={provide:ss,useExisting:Ht(()=>Ln)},rS=Promise.resolve(),Ln=(()=>{class n extends ss{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ni,this._registered=!1,this.name="",this.update=new Ke,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=MS(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ES(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ep(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){rS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&so(i);rS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?CS(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(I(_r,9),I(Ca,10),I(ip,10),I(xr,10),I(pr,8),I(ic,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[on([TB]),Wt,_n]})}}return n})(),ln=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),AB={provide:xr,useExisting:Ht(()=>rc),multi:!0},rc=(()=>{class n extends tc{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&N("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[on([AB]),Wt]})}}return n})();var IS=new W("");var kB={provide:_r,useExisting:Ht(()=>xn)},xn=(()=>{class n extends _r{get submitted(){return Jn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=ha(()=>this._submittedReactive()),this._submittedReactive=pa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return ep(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){tS(e.control||null,e,!1),SB(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),SS(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Oy(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Py(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(tS(i||null,e),IB(r)&&(ep(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);DS(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&DB(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$y(this.form,this),this._oldForm&&np(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(I(Ca,10),I(ip,10),I(ic,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&N("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[on([kB]),Wt,_n]})}}return n})();var NB={provide:ss,useExisting:Ht(()=>Dn)},Dn=(()=>{class n extends ss{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=MS(this,o)}ngOnChanges(e){this._added||this._setUpControl(),ES(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return CS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(I(_r,13),I(Ca,10),I(ip,10),I(xr,10),I(IS,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[on([NB]),Wt,_n]})}}return n})(),OB={provide:xr,useExisting:Ht(()=>qt),multi:!0};function TS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function PB(n){return n.split(":")[0]}var qt=(()=>{class n extends tc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=TS(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=PB(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&N("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[on([OB]),Wt]})}}return n})(),En=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(TS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(Cn),I(qt,9))}}static{this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),RB={provide:xr,useExisting:Ht(()=>AS),multi:!0};function oS(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function FB(n){return n.split(":")[0]}var AS=(()=>{class n extends tc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=FB(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&N("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[on([RB]),Wt]})}}return n})(),Sn=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(oS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(oS(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(Cn),I(AS,9))}}static{this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function LB(n){return typeof n=="number"?n:parseFloat(n)}var kS=(()=>{class n{constructor(){this._validator=Qf}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Qf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ze({type:n,features:[_n]})}}return n})();var VB={provide:Ca,useExisting:Ht(()=>Uy),multi:!0},Uy=(()=>{class n extends kS{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>LB(e),this.createValidator=e=>cS(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&to("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[on([VB]),Wt]})}}return n})(),BB={provide:Ca,useExisting:Ht(()=>Hy),multi:!0};var Hy=(()=>{class n extends kS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=so,this.createValidator=e=>uS}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&to("required",r._enabled?"":null)},inputs:{required:"required"},features:[on([BB]),Wt]})}}return n})();var NS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})(),Fy=class extends _a{constructor(t,e,i){super(By(e),jy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){_S(this,!1,t),t.forEach((i,r)=>{wS(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function sS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $i=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return sS(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Cr(r,o)}record(e,i=null){let r=this._reduceControls(e);return new Ry(r,i)}control(e,i,r){let o={};return this.useNonNullable?(sS(i)?o=i:(o.validators=i,o.asyncValidators=r),new ni(e,ae(F({},o),{nonNullable:!0}))):new ni(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new Fy(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof ni)return e;if(e instanceof _a)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var OS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ic,useValue:e.callSetDisabledState??op}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({imports:[NS]})}}return n})(),sp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:IS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ic,useValue:e.callSetDisabledState??op}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({imports:[NS]})}}return n})();var PS=n=>typeof n>"u"||n===null,jB=n=>n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),$B=n=>{let t={};return Object.keys(n).forEach(e=>{n[e]&&(t[e]=n[e])}),t},ap=n=>{let t=$B(n);return Object.entries(t).map(([e,i])=>`${jB(e)}:${i}`).join(";")},xa=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},Wy=()=>{let n=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${n}${t}`},RS=(n,t,e)=>Math.min(Math.max(n,t),e);function Gt(n){this.content=n}Gt.prototype={constructor:Gt,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var i=e&&e!=n?this.remove(e):this,r=i.find(n),o=i.content.slice();return r==-1?o.push(e||n,t):(o[r+1]=t,e&&(o[r]=e)),new Gt(o)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new Gt(e)},addToStart:function(n,t){return new Gt([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new Gt(e)},addBefore:function(n,t,e){var i=this.remove(t),r=i.content.slice(),o=i.find(n);return r.splice(o==-1?r.length:o,0,t,e),new Gt(r)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=Gt.from(n),n.size?new Gt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Gt.from(n),n.size?new Gt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=Gt.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};Gt.from=function(n){if(n instanceof Gt)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new Gt(t)};var qy=Gt;function WS(n,t,e){for(let i=0;;i++){if(i==n.childCount||i==t.childCount)return n.childCount==t.childCount?null:e;let r=n.child(i),o=t.child(i);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)e++;return e}if(r.content.size||o.content.size){let s=WS(r.content,o.content,e+1);if(s!=null)return s}e+=r.nodeSize}}function qS(n,t,e,i){for(let r=n.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:i};let s=n.child(--r),a=t.child(--o),l=s.nodeSize;if(s==a){e-=l,i-=l;continue}if(!s.sameMarkup(a))return{a:e,b:i};if(s.isText&&s.text!=a.text){let c=0,d=Math.min(s.text.length,a.text.length);for(;c<d&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,e--,i--;return{a:e,b:i}}if(s.content.size||a.content.size){let c=qS(s.content,a.content,e-1,i-1);if(c)return c}e-=l,i-=l}}var $=class n{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,e,i,r=0,o){for(let s=0,a=0;a<e;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&i(l,r+a,o||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,e-d),i,r+d)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,i,r){let o="",s=!0;return this.nodesBetween(t,e,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,e-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&i&&(s?s=!1:o+=i),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,i=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(i)&&(r[r.length-1]=e.withText(e.text+i.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new n(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let i=[],r=0;if(e>t)for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>e)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),i.push(a),r+=a.nodeSize),s=l}return new n(i,r)}cutByIndex(t,e){return t==e?n.empty:t==0&&e==this.content.length?this:new n(this.content.slice(t,e))}replaceChild(t,e){let i=this.content[t];if(i==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-i.nodeSize;return r[t]=e,new n(r,o)}addToStart(t){return new n([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new n(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,i=0;e<this.content.length;e++){let r=this.content[e];t(r,i,e),i+=r.nodeSize}}findDiffStart(t,e=0){return WS(this,t,e)}findDiffEnd(t,e=this.size,i=t.size){return qS(this,t,e,i)}findIndex(t){if(t==0)return lp(0,t);if(t==this.size)return lp(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let e=0,i=0;;e++){let r=this.child(e),o=i+r.nodeSize;if(o>=t)return o==t?lp(e+1,o):lp(e,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return n.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new n(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return n.empty;let e,i=0;for(let r=0;r<t.length;r++){let o=t[r];i+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new n(e||t,i)}static from(t){if(!t)return n.empty;if(t instanceof n)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new n([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};$.empty=new $([],0);var Gy={index:0,offset:0};function lp(n,t){return Gy.index=n,Gy.offset=t,Gy}function up(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!up(n[i],t[i]))return!1}else{for(let i in n)if(!(i in t)||!up(n[i],t[i]))return!1;for(let i in t)if(!(i in n))return!1}return!0}var Ge=(()=>{class n{constructor(e,i){this.type=e,this.attrs=i}addToSet(e){let i,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))i||(i=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(i||(i=e.slice(0,o)),i.push(this),r=!0),i&&i.push(s)}}return i||(i=e.slice()),r||i.push(this),i}removeFromSet(e){for(let i=0;i<e.length;i++)if(this.eq(e[i]))return e.slice(0,i).concat(e.slice(i+1));return e}isInSet(e){for(let i=0;i<e.length;i++)if(this.eq(e[i]))return!0;return!1}eq(e){return this==e||this.type==e.type&&up(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let i in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[i.type];if(!r)throw new RangeError(`There is no mark type ${i.type} in this schema`);let o=r.create(i.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,i){if(e==i)return!0;if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(i[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return n.none;if(e instanceof n)return[e];let i=e.slice();return i.sort((r,o)=>r.type.rank-o.type.rank),i}}return n.none=[],n})(),cs=class extends Error{},H=class n{constructor(t,e,i){this.content=t,this.openStart=e,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let i=KS(this.content,t+this.openStart,e);return i&&new n(i,this.openStart,this.openEnd)}removeBetween(t,e){return new n(GS(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return n.empty;let i=e.openStart||0,r=e.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new n($.fromJSON(t,e.content),i,r)}static maxOpen(t,e=!0){let i=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new n(t,i,r)}};H.empty=new H($.empty,0,0);function GS(n,t,e){let{index:i,offset:r}=n.findIndex(t),o=n.maybeChild(i),{index:s,offset:a}=n.findIndex(e);if(r==t||o.isText){if(a!=e&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(i!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(i,o.copy(GS(o.content,t-r-1,e-r-1)))}function KS(n,t,e,i){let{index:r,offset:o}=n.findIndex(t),s=n.maybeChild(r);if(o==t||s.isText)return i&&!i.canReplace(r,r,e)?null:n.cut(0,t).append(e).append(n.cut(t));let a=KS(s.content,t-o-1,e,s);return a&&n.replaceChild(r,s.copy(a))}function zB(n,t,e){if(e.openStart>n.depth)throw new cs("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new cs("Inconsistent open depths");return QS(n,t,e,0)}function QS(n,t,e,i){let r=n.index(i),o=n.node(i);if(r==t.index(i)&&i<n.depth-e.openStart){let s=QS(n,t,e,i+1);return o.copy(o.content.replaceChild(r,s))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&n.depth==i&&t.depth==i){let s=n.parent,a=s.content;return ls(s,a.cut(0,n.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=UB(e,n);return ls(o,ZS(n,s,a,t,i))}else return ls(o,dp(n,t,i))}function YS(n,t){if(!t.type.compatibleContent(n.type))throw new cs("Cannot join "+t.type.name+" onto "+n.type.name)}function Qy(n,t,e){let i=n.node(e);return YS(i,t.node(e)),i}function as(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function oc(n,t,e,i){let r=(t||n).node(e),o=0,s=t?t.index(e):r.childCount;n&&(o=n.index(e),n.depth>e?o++:n.textOffset&&(as(n.nodeAfter,i),o++));for(let a=o;a<s;a++)as(r.child(a),i);t&&t.depth==e&&t.textOffset&&as(t.nodeBefore,i)}function ls(n,t){return n.type.checkContent(t),n.copy(t)}function ZS(n,t,e,i,r){let o=n.depth>r&&Qy(n,t,r+1),s=i.depth>r&&Qy(e,i,r+1),a=[];return oc(null,n,r,a),o&&s&&t.index(r)==e.index(r)?(YS(o,s),as(ls(o,ZS(n,t,e,i,r+1)),a)):(o&&as(ls(o,dp(n,t,r+1)),a),oc(t,e,r,a),s&&as(ls(s,dp(e,i,r+1)),a)),oc(i,null,r,a),new $(a)}function dp(n,t,e){let i=[];if(oc(null,n,e,i),n.depth>e){let r=Qy(n,t,e+1);as(ls(r,dp(n,t,e+1)),i)}return oc(t,null,e,i),new $(i)}function UB(n,t){let e=t.depth-n.openStart,r=t.node(e).copy(n.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy($.from(r));return{start:r.resolveNoCache(n.openStart+e),end:r.resolveNoCache(r.content.size-n.openEnd-e)}}var fp=class n{constructor(t,e,i){this.pos=t,this.path=e,this.parentOffset=i,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=t.child(e);return i?t.child(e).cut(i):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let i=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=i.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return Ge.none;if(this.textOffset)return t.child(e).marks;let i=t.maybeChild(e-1),r=t.maybeChild(e);if(!i){let a=i;i=r,r=a}let o=i.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let i=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!e||e(this.node(i))))return new us(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let i=[],r=0,o=e;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(i.push(s,a,r+l),!c||(s=s.child(a),s.isText))break;o=c-1,r+=l+1}return new n(e,i,o)}static resolveCached(t,e){let i=FS.get(t);if(i)for(let o=0;o<i.elts.length;o++){let s=i.elts[o];if(s.pos==e)return s}else FS.set(t,i=new Yy);let r=i.elts[i.i]=n.resolve(t,e);return i.i=(i.i+1)%HB,r}},Yy=class{constructor(){this.elts=[],this.i=0}},HB=12,FS=new WeakMap,us=class{constructor(t,e,i){this.$from=t,this.$to=e,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},WB=Object.create(null),zi=class n{constructor(t,e,i,r=Ge.none){this.type=t,this.attrs=e,this.marks=r,this.content=i||$.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,i,r=0){this.content.nodesBetween(t,e,i,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,i,r){return this.content.textBetween(t,e,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,i){return this.type==t&&up(this.attrs,e||t.defaultAttrs||WB)&&Ge.sameSet(this.marks,i||Ge.none)}copy(t=null){return t==this.content?this:new n(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new n(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,i=!1){if(t==e)return H.empty;let r=this.resolve(t),o=this.resolve(e),s=i?0:r.sharedDepth(e),a=r.start(s),c=r.node(s).content.cut(r.pos-a,o.pos-a);return new H(c,r.depth-s,o.depth-s)}replace(t,e,i){return zB(this.resolve(t),this.resolve(e),i)}nodeAt(t){for(let e=this;;){let{index:i,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(i),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(e),index:e,offset:i};let r=this.content.child(e-1);return{node:r,index:e-1,offset:i-r.nodeSize}}resolve(t){return fp.resolveCached(this,t)}resolveNoCache(t){return fp.resolve(this,t)}rangeHasMark(t,e,i){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),JS(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,i=$.empty,r=0,o=i.childCount){let s=this.contentMatchAt(t).matchFragment(i,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(t,e,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(i),s=o&&o.matchFragment(this.content,e);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ge.none;for(let e=0;e<this.marks.length;e++){let i=this.marks[e];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!Ge.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let i;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,i)}let r=$.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,i);return o.type.checkAttrs(o.attrs),o}};zi.prototype.text=void 0;var Zy=class n extends zi{constructor(t,e,i,r){if(super(t,e,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):JS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new n(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new n(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function JS(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}var ds=class n{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let i=new Jy(t,e);if(i.next==null)return n.empty;let r=XS(i);i.next&&i.err("Unexpected trailing text");let o=JB(ZB(r));return XB(o,i),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,i=t.childCount){let r=this;for(let o=e;r&&o<i;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let i=0;i<t.next.length;i++)if(this.next[e].type==t.next[i].type)return!0;return!1}fillBefore(t,e=!1,i=0){let r=[this];function o(s,a){let l=s.matchFragment(t,i);if(l&&(!e||l.validEnd))return $.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:d,next:f}=s.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(f)==-1){r.push(f);let w=o(f,a.concat(d));if(w)return w}}return null}return o(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(t)){let s=[];for(let a=r;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!r.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:r}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(i){t.push(i);for(let r=0;r<i.next.length;r++)t.indexOf(i.next[r].next)==-1&&e(i.next[r].next)}return e(this),t.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let s=0;s<i.next.length;s++)o+=(s?", ":"")+i.next[s].type.name+"->"+t.indexOf(i.next[s].next);return o}).join(`
`)}};ds.empty=new ds(!0);var Jy=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function XS(n){let t=[];do t.push(qB(n));while(n.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function qB(n){let t=[];do t.push(GB(n));while(n.next&&n.next!=")"&&n.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function GB(n){let t=YB(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else if(n.eat("{"))t=KB(n,t);else break;return t}function LS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function KB(n,t){let e=LS(n),i=e;return n.eat(",")&&(n.next!="}"?i=LS(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:i,expr:t}}function QB(n,t){let e=n.nodeTypes,i=e[t];if(i)return[i];let r=[];for(let o in e){let s=e[o];s.isInGroup(t)&&r.push(s)}return r.length==0&&n.err("No node type or group '"+t+"' found"),r}function YB(n){if(n.eat("(")){let t=XS(n);return n.eat(")")||n.err("Missing closing paren"),t}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=QB(n,n.next).map(e=>(n.inline==null?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function ZB(n){let t=[[]];return r(o(n,0),e()),t;function e(){return t.push([])-1}function i(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function r(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;r(c,a=e())}else if(s.type=="star"){let l=e();return i(a,l),r(o(s.expr,l),l),[i(l)]}else if(s.type=="plus"){let l=e();return r(o(s.expr,a),l),r(o(s.expr,l),l),[i(l)]}else{if(s.type=="opt")return[i(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let d=e();r(o(s.expr,l),d),l=d}if(s.max==-1)r(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let d=e();i(l,d),r(o(s.expr,l),d),l=d}return[i(l)]}else{if(s.type=="name")return[i(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function eM(n,t){return t-n}function VS(n,t){let e=[];return i(t),e.sort(eM);function i(r){let o=n[r];if(o.length==1&&!o[0].term)return i(o[0].to);e.push(r);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&e.indexOf(l)==-1&&i(l)}}}function JB(n){let t=Object.create(null);return e(VS(n,0));function e(i){let r=[];i.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<r.length;d++)r[d][0]==a&&(c=r[d][1]);VS(n,l).forEach(d=>{c||r.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[i.join(",")]=new ds(i.indexOf(n.length-1)>-1);for(let s=0;s<r.length;s++){let a=r[s][1].sort(eM);o.next.push({type:r[s][0],next:t[a.join(",")]||e(a)})}return o}}function XB(n,t){for(let e=0,i=[n];e<i.length;e++){let r=i[e],o=!r.validEnd,s=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),i.indexOf(c)==-1&&i.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function tM(n){let t=Object.create(null);for(let e in n){let i=n[e];if(!i.hasDefault)return null;t[e]=i.default}return t}function nM(n,t){let e=Object.create(null);for(let i in n){let r=t&&t[i];if(r===void 0){let o=n[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}e[i]=r}return e}function iM(n,t,e,i){for(let r in t)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in n){let o=n[r];o.validate&&o.validate(t[r])}}function rM(n,t){let e=Object.create(null);if(t)for(let i in t)e[i]=new Xy(n,i,t[i]);return e}var pp=class n{constructor(t,e,i){this.name=t,this.schema=e,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=rM(t,i.attrs),this.defaultAttrs=tM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ds.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:nM(this.attrs,t)}create(t=null,e,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zi(this,this.computeAttrs(t),$.from(e),Ge.setFrom(i))}createChecked(t=null,e,i){return e=$.from(e),this.checkContent(e),new zi(this,this.computeAttrs(t),e,Ge.setFrom(i))}createAndFill(t=null,e,i){if(t=this.computeAttrs(t),e=$.from(e),e.size){let s=this.contentMatch.fillBefore(e);if(!s)return null;e=s.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore($.empty,!0);return o?new zi(this,t,e.append(o),Ge.setFrom(i)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){iM(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?e&&e.push(t[i]):e||(e=t.slice(0,i));return e?e.length?e:Ge.none:t}static compile(t,e){let i=Object.create(null);t.forEach((o,s)=>i[o]=new n(o,e,s));let r=e.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function ej(n,t,e){let i=e.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${n}, got ${o}`)}}var Xy=class{constructor(t,e,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?ej(t,e,i.validate):i.validate}get isRequired(){return!this.hasDefault}},ac=class n{constructor(t,e,i,r){this.name=t,this.rank=e,this.schema=i,this.spec=r,this.attrs=rM(t,r.attrs),this.excluded=null;let o=tM(this.attrs);this.instance=o?new Ge(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Ge(this,nM(this.attrs,t))}static compile(t,e){let i=Object.create(null),r=0;return t.forEach((o,s)=>i[o]=new n(o,r++,e,s)),i}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){iM(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},hp=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=qy.from(t.nodes),e.marks=qy.from(t.marks||{}),this.nodes=pp.compile(this.spec.nodes,this),this.marks=ac.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=i[s]||(i[s]=ds.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?BS(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:BS(this,s.split(" "))}this.nodeFromJSON=r=>zi.fromJSON(this,r),this.markFromJSON=r=>Ge.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,i,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof pp){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,i,r)}text(t,e){let i=this.nodes.text;return new Zy(i,i.defaultAttrs,t,Ge.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function BS(n,t){let e=[];for(let i=0;i<t.length;i++){let r=t[i],o=n.marks[r],s=o;if(o)e.push(o);else for(let a in n.marks){let l=n.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return e}function tj(n){return n.tag!=null}function nj(n){return n.style!=null}var go=class n{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let i=this.matchedStyles=[];e.forEach(r=>{if(tj(r))this.tags.push(r);else if(nj(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let i=new mp(this,e,!1);return i.addAll(t,Ge.none,e.from,e.to),i.finish()}parseSlice(t,e={}){let i=new mp(this,e,!0);return i.addAll(t,Ge.none,e.from,e.to),H.maxOpen(i.finish())}matchTag(t,e,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(oj(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,e,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!i.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=e))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let e=[];function i(r){let o=r.priority==null?50:r.priority,s=0;for(;s<e.length;s++){let a=e[s];if((a.priority==null?50:a.priority)<o)break}e.splice(s,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(s=>{i(s=$S(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(s=>{i(s=$S(s)),s.node||s.ignore||s.mark||(s.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new n(t,n.schemaRules(t)))}},oM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ij={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sM={ol:!0,ul:!0},lc=1,ev=2,sc=4;function jS(n,t,e){return t!=null?(t?lc:0)|(t==="full"?ev:0):n&&n.whitespace=="pre"?lc|ev:e&~sc}var Da=class{constructor(t,e,i,r,o,s){this.type=t,this.attrs=e,this.marks=i,this.solid=r,this.options=s,this.content=[],this.activeMarks=Ge.none,this.match=o||(s&sc?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore($.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(t.type))?(this.match=i,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&lc)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=$.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!oM.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},mp=class{constructor(t,e,i){this.parser=t,this.options=e,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,s=jS(null,e.preserveWhitespace,0)|(i?sc:0);r?o=new Da(r.type,r.attrs,Ge.none,!0,e.topMatch||r.type.contentMatch,s):i?o=new Da(null,null,Ge.none,!0,null,s):o=new Da(t.schema.topNodeType,null,Ge.none,!0,null,s),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let i=t.nodeValue,r=this.top,o=r.options&ev?"full":this.localPreserveWS||(r.options&lc)>0,{schema:s}=this.parser;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(o)if(o==="full")i=i.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(s.linebreakReplacement.create())){let a=i.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(s.linebreakReplacement.create(),e,!0),a[l]&&this.insertNode(s.text(a[l]),e,!/\S/.test(a[l]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],l=t.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(i=i.slice(1))}i&&this.insertNode(s.text(i),e,!/\S/.test(i)),this.findInText(t)}else this.findInside(t)}addElement(t,e,i){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;sM.hasOwnProperty(s)&&this.parser.normalizeLists&&rj(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,i));e:if(l?l.ignore:ij.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(oM.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let f=l&&l.skip?e:this.readStyles(t,e);f&&this.addAll(t,f),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let i=t.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],s=i.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return e}addElementByRule(t,e,i,r){let o,s;if(e.node)if(s=this.parser.schema.nodes[e.node],s.isLeaf)this.insertNode(s.create(e.attrs),i,t.nodeName=="BR")||this.leafFallback(t,i);else{let l=this.enter(s,e.attrs||null,i,e.preserveWhitespace);l&&(o=!0,i=l)}else{let l=this.parser.schema.marks[e.mark];i=i.concat(l.create(e.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,i,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,i),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,e,i,r){let o=i||0;for(let s=i?t.childNodes[i]:t.firstChild,a=r==null?null:t.childNodes[r];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,e);this.findAtPoint(t,o)}findPlace(t,e,i){let r,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(t);if(c&&(!r||r.length>c.length+a)&&(r=c,o=l,!c.length))break;if(l.solid){if(i)break;a+=2}}if(!r)return null;this.sync(o);for(let s=0;s<r.length;s++)e=this.enterInner(r[s],null,e,!1);return e}insertNode(t,e,i){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(e=this.enterInner(o,null,e))}let r=this.findPlace(t,e,i);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=Ge.none;for(let a of r.concat(t.marks))(o.type?o.type.allowsMarkType(a.type):zS(a.type,t.type))&&(s=a.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,e,i,r){let o=this.findPlace(t.create(e),i,!1);return o&&(o=this.enterInner(t,e,i,!0,r)),o}enterInner(t,e,i,r=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=jS(t,o,s.options);s.options&sc&&s.content.length==0&&(a|=sc);let l=Ge.none;return i=i.filter(c=>(s.type?s.type.allowsMarkType(c.type):zS(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Da(t,e,l,r,null,a)),this.open++,i}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=lc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let i=this.nodes[e].content;for(let r=i.length-1;r>=0;r--)t+=i[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==e&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,i){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),s=(a,l)=>{for(;a>=0;a--){let c=e[a];if(c==""){if(a==e.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:i&&l>=o?i.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return s(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let i=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let e in this.parser.schema.nodes){let i=this.parser.schema.nodes[e];if(i.isTextblock&&i.defaultAttrs)return i}}};function rj(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&sM.hasOwnProperty(i)&&e?(e.appendChild(t),t=e):i=="li"?e=t:i&&(e=null)}}function oj(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function $S(n){let t={};for(let e in n)t[e]=n[e];return t}function zS(n,t){let e=t.schema.nodes;for(let i in e){let r=e[i];if(!r.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==t||o.indexOf(d)<0&&s(d))return!0}};if(s(r.contentMatch))return!0}}var Dr=class n{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},i){i||(i=Ky(e).createDocumentFragment());let r=i,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)r=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],d=this.serializeMark(c,s.isInline,e);d&&(o.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(s,e))}),i}serializeNodeInner(t,e){let{dom:i,contentDOM:r}=cp(Ky(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return i}serializeNode(t,e={}){let i=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(t,e,i={}){let r=this.marks[t.type.name];return r&&cp(Ky(i),r(t,e),null,t.attrs)}static renderSpec(t,e,i=null,r){return cp(t,e,i,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new n(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=US(t.nodes);return e.text||(e.text=i=>i.text),e}static marksFromSchema(t){return US(t.marks)}};function US(n){let t={};for(let e in n){let i=n[e].spec.toDOM;i&&(t[e]=i)}return t}function Ky(n){return n.document||window.document}var HS=new WeakMap;function sj(n){let t=HS.get(n);return t===void 0&&HS.set(n,t=aj(n)),t}function aj(n){let t=null;function e(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let r=0;r<i.length;r++)e(i[r]);else for(let r in i)e(i[r])}return e(n),t}function cp(n,t,e,i){if(typeof t=="string")return{dom:n.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=sj(i))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(e=r.slice(0,s),r=r.slice(s+1));let a,l=e?n.createElementNS(e,r):n.createElement(r),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let f in c)if(c[f]!=null){let w=f.indexOf(" ");w>0?l.setAttributeNS(f.slice(0,w),f.slice(w+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=d;f<t.length;f++){let w=t[f];if(w===0){if(f<t.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:b,contentDOM:_}=cp(n,w,e,i);if(l.appendChild(b),_){if(a)throw new RangeError("Multiple content holes");a=_}}}return{dom:l,contentDOM:a}}var cM=65535,uM=Math.pow(2,16);function lj(n,t){return n+t*uM}function aM(n){return n&cM}function cj(n){return(n-(n&cM))/uM}var dM=1,fM=2,gp=4,pM=8,dc=class{constructor(t,e,i){this.pos=t,this.delInfo=e,this.recover=i}get deleted(){return(this.delInfo&pM)>0}get deletedBefore(){return(this.delInfo&(dM|gp))>0}get deletedAfter(){return(this.delInfo&(fM|gp))>0}get deletedAcross(){return(this.delInfo&gp)>0}},Er=class n{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&n.empty)return n.empty}recover(t){let e=0,i=aM(t);if(!this.inverted)for(let r=0;r<i;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+e+cj(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,i){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],d=this.ranges[a+s],f=l+c;if(t<=f){let w=c?t==l?-1:t==f?1:e:e,b=l+r+(w<0?0:d);if(i)return b;let _=t==(e<0?l:f)?null:lj(a/3,t-l),D=t==l?fM:t==f?dM:gp;return(e<0?t!=l:t!=f)&&(D|=pM),new dc(b,D,_)}r+=d-c}return i?t+r:new dc(t+r,0,null)}touches(t,e){let i=0,r=aM(e),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+o],d=l+c;if(t<=d&&a==r*3)return!0;i+=this.ranges[a+s]-c}return!1}forEach(t){let e=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[r+e],d=this.ranges[r+i];t(a,a+c,l,l+d),o+=d-c}}invert(){return new n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?n.empty:new n(t<0?[0,-t,0]:[0,0,t])}};Er.empty=new Er([]);var fc=class n{constructor(t,e,i=0,r=t?t.length:0){this.mirror=e,this.from=i,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new n(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,i=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],r!=null&&r<e?i+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,i=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),r!=null&&r>e?i-r-1:void 0)}}invert(){let t=new n;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let i=this.from;i<this.to;i++)t=this._maps[i].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,i){let r=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,e);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return i?t:new dc(t,r,null)}},tv=Object.create(null),kt=class{getMap(){return Er.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=tv[e.stepType];if(!i)throw new RangeError(`No step type ${e.stepType} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in tv)throw new RangeError("Duplicate use of step JSON ID "+t);return tv[t]=e,e.prototype.jsonID=t,e}},Vt=class n{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new n(t,null)}static fail(t){return new n(null,t)}static fromReplace(t,e,i,r){try{return n.ok(t.replace(e,i,r))}catch(o){if(o instanceof cs)return n.fail(o.message);throw o}}};function sv(n,t,e){let i=[];for(let r=0;r<n.childCount;r++){let o=n.child(r);o.content.size&&(o=o.copy(sv(o.content,t,o))),o.isInline&&(o=t(o,e,r)),i.push(o)}return $.fromArray(i)}var pc=class n extends kt{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=t.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new H(sv(e.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),e.openStart,e.openEnd);return Vt.fromReplace(t,this.from,this.to,o)}invert(){return new fs(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new n(e.pos,i.pos,this.mark)}merge(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}};kt.jsonID("addMark",pc);var fs=class n extends kt{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=new H(sv(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return Vt.fromReplace(t,this.from,this.to,i)}invert(){return new pc(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new n(e.pos,i.pos,this.mark)}merge(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}};kt.jsonID("removeMark",fs);var hc=class n extends kt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Vt.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Vt.fromReplace(t,this.pos,this.pos+1,new H($.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let i=this.mark.addToSet(e.marks);if(i.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(i))return new n(this.pos,e.marks[r]);return new n(this.pos,this.mark)}}return new Ea(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(e.pos,t.markFromJSON(e.mark))}};kt.jsonID("addNodeMark",hc);var Ea=class n extends kt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Vt.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Vt.fromReplace(t,this.pos,this.pos+1,new H($.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new hc(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(e.pos,t.markFromJSON(e.mark))}};kt.jsonID("removeNodeMark",Ea);var Vn=class n extends kt{constructor(t,e,i,r=!1){super(),this.from=t,this.to=e,this.slice=i,this.structure=r}apply(t){return this.structure&&rv(t,this.from,this.to)?Vt.fail("Structure replace would overwrite content"):Vt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Er([this.from,this.to-this.from,this.slice.size])}invert(t){return new n(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deletedAcross&&i.deletedAcross?null:new n(e.pos,Math.max(e.pos,i.pos),this.slice,this.structure)}merge(t){if(!(t instanceof n)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?H.empty:new H(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new n(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?H.empty:new H(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new n(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(e.from,e.to,H.fromJSON(t,e.slice),!!e.structure)}};kt.jsonID("replace",Vn);var Nt=class n extends kt{constructor(t,e,i,r,o,s,a=!1){super(),this.from=t,this.to=e,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(rv(t,this.from,this.gapFrom)||rv(t,this.gapTo,this.to)))return Vt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Vt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,e.content);return i?Vt.fromReplace(t,this.from,this.to,i):Vt.fail("Content does not fit in gap")}getMap(){return new Er([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return e.deletedAcross&&i.deletedAcross||r<e.pos||o>i.pos?null:new n(e.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(e.from,e.to,e.gapFrom,e.gapTo,H.fromJSON(t,e.slice),e.insert,!!e.structure)}};kt.jsonID("replaceAround",Nt);function rv(n,t,e){let i=n.resolve(t),r=e-t,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let s=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function uj(n,t,e,i){let r=[],o=[],s,a;n.doc.nodesBetween(t,e,(l,c,d)=>{if(!l.isInline)return;let f=l.marks;if(!i.isInSet(f)&&d.type.allowsMarkType(i.type)){let w=Math.max(c,t),b=Math.min(c+l.nodeSize,e),_=i.addToSet(f);for(let D=0;D<f.length;D++)f[D].isInSet(_)||(s&&s.to==w&&s.mark.eq(f[D])?s.to=b:r.push(s=new fs(w,b,f[D])));a&&a.to==w?a.to=b:o.push(a=new pc(w,b,i))}}),r.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function dj(n,t,e,i){let r=[],o=0;n.doc.nodesBetween(t,e,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(i instanceof ac){let c=s.marks,d;for(;d=i.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else i?i.isInSet(s.marks)&&(l=[i]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,e);for(let d=0;d<l.length;d++){let f=l[d],w;for(let b=0;b<r.length;b++){let _=r[b];_.step==o-1&&f.eq(r[b].style)&&(w=_)}w?(w.to=c,w.step=o):r.push({style:f,from:Math.max(a,t),to:c,step:o})}}}),r.forEach(s=>n.step(new fs(s.from,s.to,s.style)))}function av(n,t,e,i=e.contentMatch,r=!0){let o=n.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=a+c.nodeSize,f=i.matchType(c.type);if(!f)s.push(new Vn(a,d,H.empty));else{i=f;for(let w=0;w<c.marks.length;w++)e.allowsMarkType(c.marks[w].type)||n.step(new fs(a,d,c.marks[w]));if(r&&c.isText&&e.whitespace!="pre"){let w,b=/\r?\n|\r/g,_;for(;w=b.exec(c.text);)_||(_=new H($.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),s.push(new Vn(a+w.index,a+w.index+w[0].length,_))}}a=d}if(!i.validEnd){let l=i.fillBefore($.empty,!0);n.replace(a,a,new H(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function fj(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function ps(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth,r=0,o=0;;--i){let s=n.$from.node(i),a=n.$from.index(i)+r,l=n.$to.indexAfter(i)-o;if(i<n.depth&&s.canReplace(a,l,e))return i;if(i==0||s.type.spec.isolating||!fj(s,a,l))break;a&&(r=1),l<s.childCount&&(o=1)}return null}function pj(n,t,e){let{$from:i,$to:r,depth:o}=t,s=i.before(o+1),a=r.after(o+1),l=s,c=a,d=$.empty,f=0;for(let _=o,D=!1;_>e;_--)D||i.index(_)>0?(D=!0,d=$.from(i.node(_).copy(d)),f++):l--;let w=$.empty,b=0;for(let _=o,D=!1;_>e;_--)D||r.after(_+1)<r.end(_)?(D=!0,w=$.from(r.node(_).copy(w)),b++):c++;n.step(new Nt(l,c,s,a,new H(d.append(w),f,b),d.size-f,!0))}function Ma(n,t,e=null,i=n){let r=hj(n,t),o=r&&mj(i,t);return o?r.map(lM).concat({type:t,attrs:e}).concat(o.map(lM)):null}function lM(n){return{type:n,attrs:null}}function hj(n,t){let{parent:e,startIndex:i,endIndex:r}=n,o=e.contentMatchAt(i).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return e.canReplaceWith(i,r,s)?o:null}function mj(n,t){let{parent:e,startIndex:i,endIndex:r}=n,o=e.child(i),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=i;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:s}function gj(n,t,e){let i=$.empty;for(let s=e.length-1;s>=0;s--){if(i.size){let a=e[s].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=$.from(e[s].type.create(e[s].attrs,i))}let r=t.start,o=t.end;n.step(new Nt(r,o,r,o,new H(i,0,0),e.length,!0))}function yj(n,t,e,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(t,e,(s,a)=>{let l=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(i,l)&&vj(n.doc,n.mapping.slice(o).map(a),i)){let c=null;if(i.schema.linebreakReplacement){let b=i.whitespace=="pre",_=!!i.contentMatch.matchType(i.schema.linebreakReplacement);b&&!_?c=!1:!b&&_&&(c=!0)}c===!1&&mM(n,s,a,o),av(n,n.mapping.slice(o).map(a,1),i,void 0,c===null);let d=n.mapping.slice(o),f=d.map(a,1),w=d.map(a+s.nodeSize,1);return n.step(new Nt(f,w,f+1,w-1,new H($.from(i.create(l,null,s.marks)),0,0),1,!0)),c===!0&&hM(n,s,a,o),!1}})}function hM(n,t,e,i){t.forEach((r,o)=>{if(r.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(r.text);){let l=n.mapping.slice(i).map(e+1+o+s.index);n.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function mM(n,t,e,i){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let s=n.mapping.slice(i).map(e+1+o);n.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function vj(n,t,e){let i=n.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,e)}function bj(n,t,e,i,r){let o=n.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let s=e.create(i,null,r||o.marks);if(o.isLeaf)return n.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new Nt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new H($.from(s),0,0),1,!0))}function yo(n,t,e=1,i){let r=n.resolve(t),o=r.depth-e,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=e-2;c>o;c--,d--){let f=r.node(c),w=r.index(c);if(f.type.spec.isolating)return!1;let b=f.content.cutByIndex(w,f.childCount),_=i&&i[d+1];_&&(b=b.replaceChild(0,_.type.create(_.attrs)));let D=i&&i[d]||f;if(!f.canReplace(w+1,f.childCount)||!D.type.validContent(b))return!1}let a=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}function wj(n,t,e=1,i){let r=n.doc.resolve(t),o=$.empty,s=$.empty;for(let a=r.depth,l=r.depth-e,c=e-1;a>l;a--,c--){o=$.from(r.node(a).copy(o));let d=i&&i[c];s=$.from(d?d.type.create(d.attrs,s):r.node(a).copy(s))}n.step(new Vn(t,t,new H(o.append(s),e,e),!0))}function hs(n,t){let e=n.resolve(t),i=e.index();return Cj(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(i,i+1)}function _j(n,t){t.content.size||n.type.compatibleContent(t.type);let e=n.contentMatchAt(n.childCount),{linebreakReplacement:i}=n.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),s=o.type==i?n.type.schema.nodes.text:o.type;if(e=e.matchType(s),!e||!n.type.allowsMarks(o.marks))return!1}return e.validEnd}function Cj(n,t){return!!(n&&t&&!n.isLeaf&&_j(n,t))}function xj(n,t,e){let i=null,{linebreakReplacement:r}=n.doc.type.schema,o=n.doc.resolve(t-e),s=o.node().type;if(r&&s.inlineContent){let d=s.whitespace=="pre",f=!!s.contentMatch.matchType(r);d&&!f?i=!1:!d&&f&&(i=!0)}let a=n.steps.length;if(i===!1){let d=n.doc.resolve(t+e);mM(n,d.node(),d.before(),a)}s.inlineContent&&av(n,t+e-1,s,o.node().contentMatchAt(o.index()),i==null);let l=n.mapping.slice(a),c=l.map(t-e);if(n.step(new Vn(c,l.map(t+e,-1),H.empty,!0)),i===!0){let d=n.doc.resolve(c);hM(n,d.node(),d.before(),n.steps.length)}return n}function Dj(n,t,e){let i=n.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),e))return t;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,e))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,e))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function gM(n,t,e){let i=n.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let s=i.depth;s>=0;s--){let a=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,l=i.index(s)+(a>0?1:0),c=i.node(s),d=!1;if(o==1)d=c.canReplace(l,l,r);else{let f=c.contentMatchAt(l).findWrapping(r.firstChild.type);d=f&&c.canReplaceWith(l,l,f[0])}if(d)return a==0?i.pos:a<0?i.before(s+1):i.after(s+1)}return null}function wp(n,t,e=t,i=H.empty){if(t==e&&!i.size)return null;let r=n.resolve(t),o=n.resolve(e);return yM(r,o,i)?new Vn(t,e,i):new ov(r,o,i).fit()}function yM(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}var ov=class{constructor(t,e,i){this.$from=t,this.$to=e,this.unplaced=i,this.frontier=[],this.placed=$.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=$.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;let o=this.placed,s=i.depth,a=r.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new H(o,s,a);return t>-1?new Nt(i.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||i.pos!=this.$to.pos?new Vn(i.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<t;i++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){t=i;break}e=o.content}for(let e=1;e<=2;e++)for(let i=e==1?t:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=nv(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,f=null;if(e==1&&(s?c.matchType(s.type)||(f=c.fillBefore($.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:a,parent:o,inject:f};if(e==2&&s&&(d=c.findWrapping(s.type)))return{sliceDepth:i,frontierDepth:a,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:i}=this.unplaced,r=nv(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new H(t,e+1,Math.max(i,r.size+e>=t.size-i?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:i}=this.unplaced,r=nv(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new H(cc(t,e-1,1),e-1,o?e-1:i)}else this.unplaced=new H(cc(t,e,1),e,i)}placeNodes({sliceDepth:t,frontierDepth:e,parent:i,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let D=0;D<o.length;D++)this.openFrontierNode(o[D]);let s=this.unplaced,a=i?i.content:s.content,l=s.openStart-t,c=0,d=[],{match:f,type:w}=this.frontier[e];if(r){for(let D=0;D<r.childCount;D++)d.push(r.child(D));f=f.matchFragment(r)}let b=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let D=a.child(c),S=f.matchType(D.type);if(!S)break;c++,(c>1||l==0||D.content.size)&&(f=S,d.push(vM(D.mark(w.allowedMarks(D.marks)),c==1?l:0,c==a.childCount?b:-1)))}let _=c==a.childCount;_||(b=-1),this.placed=uc(this.placed,e,$.from(d)),this.frontier[e].match=f,_&&b<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let D=0,S=a;D<b;D++){let A=S.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),S=A.content}this.unplaced=_?t==0?H.empty:new H(cc(s.content,t-1,1),t-1,b<0?s.openEnd:t-1):new H(cc(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!iv(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:i,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=iv(t,e,r,i,o);if(s){for(let a=e-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=iv(t,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=uc(this.placed,e.depth,e.fit)),t=e.move;for(let i=e.depth+1;i<=t.depth;i++){let r=t.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(i));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=uc(this.placed,this.depth,$.from(t.create(e,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore($.empty,!0);e.childCount&&(this.placed=uc(this.placed,this.frontier.length,e))}};function cc(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(cc(n.firstChild.content,t-1,e)))}function uc(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(uc(n.lastChild.content,t-1,e)))}function nv(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function vM(n,t,e){if(t<=0)return n;let i=n.content;return t>1&&(i=i.replaceChild(0,vM(i.firstChild,t-1,i.childCount==1?e-1:0))),t>0&&(i=n.type.contentMatch.fillBefore(i).append(i),e<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore($.empty,!0)))),n.copy(i)}function iv(n,t,e,i,r){let o=n.node(t),s=r?n.indexAfter(t):n.index(t);if(s==o.childCount&&!e.compatibleContent(o.type))return null;let a=i.fillBefore(o.content,!0,s);return a&&!Ej(e,o.content,s)?a:null}function Ej(n,t,e){for(let i=e;i<t.childCount;i++)if(!n.allowsMarks(t.child(i).marks))return!0;return!1}function Sj(n){return n.spec.defining||n.spec.definingForContent}function Mj(n,t,e,i){if(!i.size)return n.deleteRange(t,e);let r=n.doc.resolve(t),o=n.doc.resolve(e);if(yM(r,o,i))return n.step(new Vn(t,e,i));let s=wM(r,o);s[s.length-1]==0&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let w=r.depth,b=r.pos-1;w>0;w--,b--){let _=r.node(w).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(w)>-1?a=w:r.before(w)==b&&s.splice(1,0,-w)}let l=s.indexOf(a),c=[],d=i.openStart;for(let w=i.content,b=0;;b++){let _=w.firstChild;if(c.push(_),b==i.openStart)break;w=_.content}for(let w=d-1;w>=0;w--){let b=c[w],_=Sj(b.type);if(_&&!b.sameMarkup(r.node(Math.abs(a)-1)))d=w;else if(_||!b.type.isTextblock)break}for(let w=i.openStart;w>=0;w--){let b=(w+d+1)%(i.openStart+1),_=c[b];if(_)for(let D=0;D<s.length;D++){let S=s[(D+l)%s.length],A=!0;S<0&&(A=!1,S=-S);let G=r.node(S-1),z=r.index(S-1);if(G.canReplaceWith(z,z,_.type,_.marks))return n.replace(r.before(S),A?o.after(S):e,new H(bM(i.content,0,i.openStart,b),b,i.openEnd))}}let f=n.steps.length;for(let w=s.length-1;w>=0&&(n.replace(t,e,i),!(n.steps.length>f));w--){let b=s[w];b<0||(t=r.before(b),e=o.after(b))}}function bM(n,t,e,i,r){if(t<e){let o=n.firstChild;n=n.replaceChild(0,o.copy(bM(o.content,t+1,e,i,o)))}if(t>i){let o=r.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore($.empty,!0))}return n}function Ij(n,t,e,i){if(!i.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let r=Dj(n.doc,t,i.type);r!=null&&(t=e=r)}n.replaceRange(t,e,new H($.from(i),0,0))}function Tj(n,t,e){let i=n.doc.resolve(t),r=n.doc.resolve(e),o=wM(i,r);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return n.delete(i.start(a),r.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),r.indexAfter(a-1))))return n.delete(i.before(a),r.after(a))}for(let s=1;s<=i.depth&&s<=r.depth;s++)if(t-i.start(s)==i.depth-s&&e>i.end(s)&&r.end(s)-e!=r.depth-s&&i.start(s-1)==r.start(s-1)&&i.node(s-1).canReplace(i.index(s-1),r.index(s-1)))return n.delete(i.before(s),e);n.delete(t,e)}function wM(n,t){let e=[],i=Math.min(n.depth,t.depth);for(let r=i;r>=0;r--){let o=n.start(r);if(o<n.pos-(n.depth-r)||t.end(r)>t.pos+(t.depth-r)||n.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==n.depth&&r==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var yp=class n extends kt{constructor(t,e,i){super(),this.pos=t,this.attr=e,this.value=i}apply(t){let e=t.nodeAt(this.pos);if(!e)return Vt.fail("No node at attribute step's position");let i=Object.create(null);for(let o in e.attrs)i[o]=e.attrs[o];i[this.attr]=this.value;let r=e.type.create(i,null,e.marks);return Vt.fromReplace(t,this.pos,this.pos+1,new H($.from(r),0,e.isLeaf?0:1))}getMap(){return Er.empty}invert(t){return new n(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(e.pos,e.attr,e.value)}};kt.jsonID("attr",yp);var vp=class n extends kt{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let i=t.type.create(e,t.content,t.marks);return Vt.ok(i)}getMap(){return Er.empty}invert(t){return new n(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new n(e.attr,e.value)}};kt.jsonID("docAttr",vp);var Sa=class extends Error{};Sa=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};Sa.prototype=Object.create(Error.prototype);Sa.prototype.constructor=Sa;Sa.prototype.name="TransformError";var bp=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new fc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new Sa(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,i=H.empty){let r=wp(this.doc,t,e,i);return r&&this.step(r),this}replaceWith(t,e,i){return this.replace(t,e,new H($.from(i),0,0))}delete(t,e){return this.replace(t,e,H.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,i){return Mj(this,t,e,i),this}replaceRangeWith(t,e,i){return Ij(this,t,e,i),this}deleteRange(t,e){return Tj(this,t,e),this}lift(t,e){return pj(this,t,e),this}join(t,e=1){return xj(this,t,e),this}wrap(t,e){return gj(this,t,e),this}setBlockType(t,e=t,i,r=null){return yj(this,t,e,i,r),this}setNodeMarkup(t,e,i=null,r){return bj(this,t,e,i,r),this}setNodeAttribute(t,e,i){return this.step(new yp(t,e,i)),this}setDocAttribute(t,e){return this.step(new vp(t,e)),this}addNodeMark(t,e){return this.step(new hc(t,e)),this}removeNodeMark(t,e){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(e instanceof Ge)e.isInSet(i.marks)&&this.step(new Ea(t,e));else{let r=i.marks,o,s=[];for(;o=e.isInSet(r);)s.push(new Ea(t,o)),r=o.removeFromSet(r);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,e=1,i){return wj(this,t,e,i),this}addMark(t,e,i){return uj(this,t,e,i),this}removeMark(t,e,i){return dj(this,t,e,i),this}clearIncompatible(t,e,i){return av(this,t,e,i),this}};var lv=Object.create(null),Ee=class{constructor(t,e,i){this.$anchor=t,this.$head=e,this.ranges=i||[new Ta(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=H.empty){let i=e.content.lastChild,r=null;for(let a=0;a<e.openEnd;a++)r=i,i=i.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),a?H.empty:e),a==0&&xM(t,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let i=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:a}=r[o],l=t.mapping.slice(i),c=l.map(s.pos),d=l.map(a.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,e),xM(t,i,e.isInline?-1:1))}}static findFrom(t,e,i=!1){let r=t.parent.inlineContent?new Ue(t):Ia(t.node(0),t.parent,t.pos,t.index(),e,i);if(r)return r;for(let o=t.depth-1;o>=0;o--){let s=e<0?Ia(t.node(0),t.node(o),t.before(o+1),t.index(o),e,i):Ia(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,i);if(s)return s}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Bn(t.node(0))}static atStart(t){return Ia(t,t,0,0,1)||new Bn(t)}static atEnd(t){return Ia(t,t,t.content.size,t.childCount,-1)||new Bn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=lv[e.type];if(!i)throw new RangeError(`No selection type ${e.type} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in lv)throw new RangeError("Duplicate use of selection JSON ID "+t);return lv[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}};Ee.prototype.visible=!0;var Ta=class{constructor(t,e){this.$from=t,this.$to=e}},_M=!1;function CM(n){!_M&&!n.parent.inlineContent&&(_M=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}var Ue=class n extends Ee{constructor(t,e=t){CM(t),CM(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let i=t.resolve(e.map(this.head));if(!i.parent.inlineContent)return Ee.near(i);let r=t.resolve(e.map(this.anchor));return new n(r.parent.inlineContent?r:i,i)}replace(t,e=H.empty){if(super.replace(t,e),e==H.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof n&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Cp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,i=e){let r=t.resolve(e);return new this(r,i==e?r:t.resolve(i))}static between(t,e,i){let r=t.pos-e.pos;if((!i||r)&&(i=r>=0?1:-1),!e.parent.inlineContent){let o=Ee.findFrom(e,i,!0)||Ee.findFrom(e,-i,!0);if(o)e=o.$head;else return Ee.near(e,i)}return t.parent.inlineContent||(r==0?t=e:(t=(Ee.findFrom(t,-i,!0)||Ee.findFrom(t,i,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new n(t,e)}};Ee.jsonID("text",Ue);var Cp=class n{constructor(t,e){this.anchor=t,this.head=e}map(t){return new n(t.map(this.anchor),t.map(this.head))}resolve(t){return Ue.between(t.resolve(this.anchor),t.resolve(this.head))}},se=class n extends Ee{constructor(t){let e=t.nodeAfter,i=t.node(0).resolve(t.pos+e.nodeSize);super(t,i),this.node=e}map(t,e){let{deleted:i,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return i?Ee.near(o):new n(o)}content(){return new H($.from(this.node),0,0)}eq(t){return t instanceof n&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new uv(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(t.resolve(e.anchor))}static create(t,e){return new n(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};se.prototype.visible=!1;Ee.jsonID("node",se);var uv=class n{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:i}=t.mapResult(this.anchor);return e?new Cp(i,i):new n(i)}resolve(t){let e=t.resolve(this.anchor),i=e.nodeAfter;return i&&se.isSelectable(i)?new se(e):Ee.near(e)}},Bn=class n extends Ee{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=H.empty){if(e==H.empty){t.delete(0,t.doc.content.size);let i=Ee.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new n(t)}map(t){return new n(t)}eq(t){return t instanceof n}getBookmark(){return Aj}};Ee.jsonID("all",Bn);var Aj={map(){return this},resolve(n){return new Bn(n)}};function Ia(n,t,e,i,r,o=!1){if(t.inlineContent)return Ue.create(n,e);for(let s=i-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let a=t.child(s);if(a.isAtom){if(!o&&se.isSelectable(a))return se.create(n,e-(r<0?a.nodeSize:0))}else{let l=Ia(n,a,e+r,r<0?a.childCount:0,r,o);if(l)return l}e+=a.nodeSize*r}return null}function xM(n,t,e){let i=n.steps.length-1;if(i<t)return;let r=n.steps[i];if(!(r instanceof Vn||r instanceof Nt))return;let o=n.mapping.maps[i],s;o.forEach((a,l,c,d)=>{s==null&&(s=d)}),n.setSelection(Ee.near(n.doc.resolve(s),e))}var DM=1,_p=2,EM=4,dv=class extends bp{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|DM)&~_p,this.storedMarks=null,this}get selectionSet(){return(this.updated&DM)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=_p,this}ensureMarks(t){return Ge.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_p)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~_p,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let i=this.selection;return e&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Ge.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,i){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(i==null&&(i=e),!t)return this.deleteRange(e,i);let o=this.storedMarks;if(!o){let s=this.doc.resolve(e);o=i==e?s.marks():s.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(e,i,r.text(t,o)),!this.selection.empty&&this.selection.to==e+t.length&&this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=EM,this}get scrolledIntoView(){return(this.updated&EM)>0}};function SM(n,t){return!t||!n?n:n.bind(t)}var ms=class{constructor(t,e,i){this.name=t,this.init=SM(e.init,i),this.apply=SM(e.apply,i)}},kj=[new ms("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ms("selection",{init(n,t){return n.selection||Ee.atStart(t.doc)},apply(n){return n.selection}}),new ms("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,i){return i.selection.$cursor?n.storedMarks:null}}),new ms("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}})],mc=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=kj.slice(),e&&e.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new ms(i.key,i.spec.state,i))})}},xp=class n{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=e){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],i=this.applyInner(t),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=r?r[s].n:0,c=r?r[s].state:this,d=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,c,i);if(d&&i.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",t),!r){r=[];for(let f=0;f<this.config.plugins.length;f++)r.push(f<s?{state:i,n:e.length}:{state:this,n:0})}e.push(d),i=i.applyInner(d),o=!0}r&&(r[s]={state:i,n:e.length})}}if(!o)return{state:i,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new n(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new dv(this)}static create(t){let e=new mc(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new n(e);for(let r=0;r<e.fields.length;r++)i[e.fields[r].name]=e.fields[r].init(t,i);return i}reconfigure(t){let e=new mc(this.schema,t.plugins),i=e.fields,r=new n(e);for(let o=0;o<i.length;o++){let s=i[o].name;r[s]=this.hasOwnProperty(s)?this[s]:i[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[i],o=r.spec.state;o&&o.toJSON&&(e[i]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,i){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new mc(t.schema,t.plugins),o=new n(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=zi.fromJSON(t.schema,e.doc);else if(s.name=="selection")o.selection=Ee.fromJSON(o.doc,e.selection);else if(s.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a)){o[s.name]=c.fromJSON.call(l,t,e[a],o);return}}o[s.name]=s.init(t,o)}}),o}};function MM(n,t,e){for(let i in n){let r=n[i];r instanceof Function?r=r.bind(t):i=="handleDOMEvents"&&(r=MM(r,t,{})),e[i]=r}return e}var Kt=class{constructor(t){this.spec=t,this.props={},t.props&&MM(t.props,this,this.props),this.key=t.key?t.key.key:IM("plugin")}getState(t){return t[this.key]}},cv=Object.create(null);function IM(n){return n in cv?n+"$"+ ++cv[n]:(cv[n]=0,n+"$")}var jn=class{constructor(t="key"){this.key=IM(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var Bt=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},Pa=function(n){let t=n.assignedSlot||n.parentNode;return t&&t.nodeType==11?t.host:t},yv=null,Mr=function(n,t,e){let i=yv||(yv=document.createRange());return i.setEnd(n,e??n.nodeValue.length),i.setStart(n,t||0),i},Nj=function(){yv=null},Cs=function(n,t,e,i){return e&&(TM(n,t,e,i,-1)||TM(n,t,e,i,1))},Oj=/^(img|br|input|textarea|hr)$/i;function TM(n,t,e,i,r){for(var o;;){if(n==e&&t==i)return!0;if(t==(r<0?0:oi(n))){let s=n.parentNode;if(!s||s.nodeType!=1||xc(n)||Oj.test(n.nodeName)||n.contentEditable=="false")return!1;t=Bt(n)+(r<0?0:1),n=s}else if(n.nodeType==1){let s=n.childNodes[t+(r<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=r;else return!1;else n=s,t=r<0?oi(n):0}else return!1}}function oi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Pj(n,t){for(;;){if(n.nodeType==3&&t)return n;if(n.nodeType==1&&t>0){if(n.contentEditable=="false")return null;n=n.childNodes[t-1],t=oi(n)}else if(n.parentNode&&!xc(n))t=Bt(n),n=n.parentNode;else return null}}function Rj(n,t){for(;;){if(n.nodeType==3&&t<n.nodeValue.length)return n;if(n.nodeType==1&&t<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[t],t=0}else if(n.parentNode&&!xc(n))t=Bt(n)+1,n=n.parentNode;else return null}}function Fj(n,t,e){for(let i=t==0,r=t==oi(n);i||r;){if(n==e)return!0;let o=Bt(n);if(n=n.parentNode,!n)return!1;i=i&&o==0,r=r&&o==oi(n)}}function xc(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}var Pp=function(n){return n.focusNode&&Cs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function gs(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function Lj(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Vj(n,t,e){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(t,e);if(i)return{node:i.offsetNode,offset:Math.min(oi(i.offsetNode),i.offset)}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(t,e);if(i)return{node:i.startContainer,offset:Math.min(oi(i.startContainer),i.startOffset)}}}var Ui=typeof navigator<"u"?navigator:null,AM=typeof document<"u"?document:null,xo=Ui&&Ui.userAgent||"",vv=/Edge\/(\d+)/.exec(xo),lI=/MSIE \d/.exec(xo),bv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xo),Mn=!!(lI||bv||vv),_o=lI?document.documentMode:bv?+bv[1]:vv?+vv[1]:0,si=!Mn&&/gecko\/(\d+)/i.test(xo);si&&+(/Firefox\/(\d+)/.exec(xo)||[0,0])[1];var wv=!Mn&&/Chrome\/(\d+)/.exec(xo),Ot=!!wv,cI=wv?+wv[1]:0,Yt=!Mn&&!!Ui&&/Apple Computer/.test(Ui.vendor),Ra=Yt&&(/Mobile\/\w+/.test(xo)||!!Ui&&Ui.maxTouchPoints>2),ri=Ra||(Ui?/Mac/.test(Ui.platform):!1),uI=Ui?/Win/.test(Ui.platform):!1,Ir=/Android \d/.test(xo),Dc=!!AM&&"webkitFontSmoothing"in AM.documentElement.style,Bj=Dc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jj(n){let t=n.defaultView&&n.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Sr(n,t){return typeof n=="number"?n:n[t]}function $j(n){let t=n.getBoundingClientRect(),e=t.width/n.offsetWidth||1,i=t.height/n.offsetHeight||1;return{left:t.left,right:t.left+n.clientWidth*e,top:t.top,bottom:t.top+n.clientHeight*i}}function kM(n,t,e){let i=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=e||n.dom;s;){if(s.nodeType!=1){s=Pa(s);continue}let a=s,l=a==o.body,c=l?jj(o):$j(a),d=0,f=0;if(t.top<c.top+Sr(i,"top")?f=-(c.top-t.top+Sr(r,"top")):t.bottom>c.bottom-Sr(i,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+Sr(r,"top")-c.top:t.bottom-c.bottom+Sr(r,"bottom")),t.left<c.left+Sr(i,"left")?d=-(c.left-t.left+Sr(r,"left")):t.right>c.right-Sr(i,"right")&&(d=t.right-c.right+Sr(r,"right")),d||f)if(l)o.defaultView.scrollBy(d,f);else{let b=a.scrollLeft,_=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let D=a.scrollLeft-b,S=a.scrollTop-_;t={left:t.left-D,top:t.top-S,right:t.right-D,bottom:t.bottom-S}}let w=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(w))break;s=w=="absolute"?s.offsetParent:Pa(s)}}function zj(n){let t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top),i,r;for(let o=(t.left+t.right)/2,s=e+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){i=a,r=l.top;break}}return{refDOM:i,refTop:r,stack:dI(n.dom)}}function dI(n){let t=[],e=n.ownerDocument;for(let i=n;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=e);i=Pa(i));return t}function Uj({refDOM:n,refTop:t,stack:e}){let i=n?n.getBoundingClientRect().top:0;fI(e,i==0?0:i-t)}function fI(n,t){for(let e=0;e<n.length;e++){let{dom:i,top:r,left:o}=n[e];i.scrollTop!=r+t&&(i.scrollTop=r+t),i.scrollLeft!=o&&(i.scrollLeft=o)}}var Aa=null;function Hj(n){if(n.setActive)return n.setActive();if(Aa)return n.focus(Aa);let t=dI(n);n.focus(Aa==null?{get preventScroll(){return Aa={preventScroll:!0},!0}}:void 0),Aa||(Aa=!1,fI(t,0))}function pI(n,t){let e,i=2e8,r,o=0,s=t.top,a=t.top,l,c;for(let d=n.firstChild,f=0;d;d=d.nextSibling,f++){let w;if(d.nodeType==1)w=d.getClientRects();else if(d.nodeType==3)w=Mr(d).getClientRects();else continue;for(let b=0;b<w.length;b++){let _=w[b];if(_.top<=s&&_.bottom>=a){s=Math.max(_.bottom,s),a=Math.min(_.top,a);let D=_.left>t.left?_.left-t.left:_.right<t.left?t.left-_.right:0;if(D<i){e=d,i=D,r=D&&e.nodeType==3?{left:_.right<t.left?_.right:_.left,top:t.top}:t,d.nodeType==1&&D&&(o=f+(t.left>=(_.left+_.right)/2?1:0));continue}}else _.top>t.top&&!l&&_.left<=t.left&&_.right>=t.left&&(l=d,c={left:Math.max(_.left,Math.min(_.right,t.left)),top:_.top});!e&&(t.left>=_.right&&t.top>=_.top||t.left>=_.left&&t.top>=_.bottom)&&(o=f+1)}}return!e&&l&&(e=l,r=c,i=0),e&&e.nodeType==3?Wj(e,r):!e||i&&e.nodeType==1?{node:n,offset:o}:pI(e,r)}function Wj(n,t){let e=n.nodeValue.length,i=document.createRange(),r;for(let o=0;o<e;o++){i.setEnd(n,o+1),i.setStart(n,o);let s=vo(i,1);if(s.top!=s.bottom&&Rv(t,s)){r={node:n,offset:o+(t.left>=(s.left+s.right)/2?1:0)};break}}return i.detach(),r||{node:n,offset:0}}function Rv(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function qj(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}function Gj(n,t,e){let{node:i,offset:r}=pI(t,e),o=-1;if(i.nodeType==1&&!i.firstChild){let s=i.getBoundingClientRect();o=s.left!=s.right&&e.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(i,r,o)}function Kj(n,t,e,i){let r=-1;for(let o=t,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>i.left||l.top>i.top?r=a.posBefore:(!s&&l.right<i.left||l.bottom<i.top)&&(r=a.posAfter),s=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return r>-1?r:n.docView.posFromDOM(t,e,-1)}function hI(n,t,e){let i=n.childNodes.length;if(i&&e.top<e.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Rv(t,c))return hI(s,t,c)}}if((o=(o+1)%i)==r)break}return n}function Qj(n,t){let e=n.dom.ownerDocument,i,r=0,o=Vj(e,t.left,t.top);o&&({node:i,offset:r}=o);let s=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!Rv(t,c)||(s=hI(n.dom,t,c),!s))return null}if(Yt)for(let c=s;i&&c;c=Pa(c))c.draggable&&(i=void 0);if(s=qj(s,t),i){if(si&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let d=i.childNodes[r],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&r++}let c;Dc&&r&&i.nodeType==1&&(c=i.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,i==n.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(a=Kj(n,i,r,t))}a==null&&(a=Gj(n,s,t));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function NM(n){return n.top<n.bottom||n.left<n.right}function vo(n,t){let e=n.getClientRects();if(e.length){let i=e[t<0?0:e.length-1];if(NM(i))return i}return Array.prototype.find.call(e,NM)||n.getBoundingClientRect()}var Yj=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function mI(n,t,e){let{node:i,offset:r,atom:o}=n.docView.domFromPos(t,e<0?-1:1),s=Dc||si;if(i.nodeType==3)if(s&&(Yj.test(i.nodeValue)||(e<0?!r:r==i.nodeValue.length))){let l=vo(Mr(i,r,r),e);if(si&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let c=vo(Mr(i,r-1,r-1),-1);if(c.top==l.top){let d=vo(Mr(i,r,r+1),-1);if(d.top!=l.top)return gc(d,d.left<c.left)}}return l}else{let l=r,c=r,d=e<0?1:-1;return e<0&&!r?(c++,d=-1):e>=0&&r==i.nodeValue.length?(l--,d=1):e<0?l--:c++,gc(vo(Mr(i,l,c),d),d<0)}if(!n.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==oi(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return fv(l.getBoundingClientRect(),!1)}if(o==null&&r<oi(i)){let l=i.childNodes[r];if(l.nodeType==1)return fv(l.getBoundingClientRect(),!0)}return fv(i.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==oi(i))){let l=i.childNodes[r-1],c=l.nodeType==3?Mr(l,oi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return gc(vo(c,1),!1)}if(o==null&&r<oi(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Mr(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return gc(vo(c,-1),!0)}return gc(vo(i.nodeType==3?Mr(i):i,-e),e>=0)}function gc(n,t){if(n.width==0)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function fv(n,t){if(n.height==0)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function gI(n,t,e){let i=n.state,r=n.root.activeElement;i!=t&&n.updateState(t),r!=n.dom&&n.focus();try{return e()}finally{i!=t&&n.updateState(i),r!=n.dom&&r&&r.focus()}}function Zj(n,t,e){let i=t.selection,r=e=="up"?i.$from:i.$to;return gI(n,t,()=>{let{node:o}=n.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=mI(n,r.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Mr(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(e=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}var Jj=/[\u0590-\u08ac]/;function Xj(n,t,e){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,s=r==i.parent.content.size,a=n.domSelection();return a?!Jj.test(i.parent.textContent)||!a.modify?e=="left"||e=="backward"?o:s:gI(n,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:f}=n.domSelectionRange(),w=a.caretBidiLevel;a.modify("move",e,"character");let b=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:_,focusOffset:D}=n.domSelectionRange(),S=_&&!b.contains(_.nodeType==1?_:_.parentNode)||l==_&&c==D;try{a.collapse(d,f),l&&(l!=d||c!=f)&&a.extend&&a.extend(l,c)}catch{}return w!=null&&(a.caretBidiLevel=w),S}):i.pos==i.start()||i.pos==i.end()}var OM=null,PM=null,RM=!1;function e$(n,t,e){return OM==t&&PM==e?RM:(OM=t,PM=e,RM=e=="up"||e=="down"?Zj(n,t,e):Xj(n,t,e))}var ai=0,FM=1,ys=2,Hi=3,xs=class{constructor(t,e,i,r){this.parent=t,this.children=e,this.dom=i,this.contentDOM=r,this.dirty=ai,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,i=this.posAtStart;;e++){let r=this.children[e];if(r==t)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let o,s;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>Bt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let i=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!e||o.node))if(i&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))i=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let i=e;i;i=i.parent)if(i==this)return e}posFromDOM(t,e,i){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,i)}return-1}descAt(t){for(let e=0,i=0;e<this.children.length;e++){let r=this.children[e],o=i+r.size;if(i==t&&o!=i){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let a=r.children[s];if(a.size){r=a;break}}return r}if(t<o)return r.descAt(t-i-r.border);i=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.size;if(a>t||s instanceof Sp){r=t-o;break}o=a}if(r)return this.children[i].domFromPos(r-this.children[i].border,e);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof Dp&&o.side>=0;i--);if(e<=0){let o,s=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,s=!1);return o&&e&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?Bt(o.dom)+1:0}}else{let o,s=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?Bt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=i,a=0;;a++){let l=this.children[a],c=s+l.size;if(r==-1&&t<=c){let d=s+l.border;if(t>=d&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,d);t=s;for(let f=a;f>0;f--){let w=this.children[f-1];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(1)){r=Bt(w.dom)+1;break}t-=w.size}r==-1&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Bt(f.dom);break}e+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:i}=this.domFromPos(t,0);if(e.nodeType!=1||i==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[i]}setSelection(t,e,i,r=!1){let o=Math.min(t,e),s=Math.max(t,e);for(let b=0,_=0;b<this.children.length;b++){let D=this.children[b],S=_+D.size;if(o>_&&s<S)return D.setSelection(t-_-D.border,e-_-D.border,i,r);_=S}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=i.root.getSelection(),d=i.domSelectionRange(),f=!1;if((si||Yt)&&t==e){let{node:b,offset:_}=a;if(b.nodeType==3){if(f=!!(_&&b.nodeValue[_-1]==`
`),f&&_==b.nodeValue.length)for(let D=b,S;D;D=D.parentNode){if(S=D.nextSibling){S.nodeName=="BR"&&(a=l={node:S.parentNode,offset:Bt(S)+1});break}let A=D.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let D=b.childNodes[_-1];f=D&&(D.nodeName=="BR"||D.contentEditable=="false")}}if(si&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let b=d.focusNode.childNodes[d.focusOffset];b&&b.contentEditable=="false"&&(r=!0)}if(!(r||f&&Yt)&&Cs(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Cs(l.node,l.offset,d.focusNode,d.focusOffset))return;let w=!1;if((c.extend||t==e)&&!(f&&si)){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),w=!0}catch{}}if(!w){if(t>e){let _=a;a=l,l=_}let b=document.createRange();b.setEnd(l.node,l.offset),b.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(b)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],s=i+o.size;if(i==s?t<=s&&e>=i:t<s&&e>i){let a=i+o.border,l=s-o.border;if(t>=a&&e<=l){this.dirty=t==i||e==s?ys:FM,t==a&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Hi:o.markDirty(t-a,e-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ys:Hi}i=s}this.dirty=ys}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let i=t==1?ys:FM;e.dirty<i&&(e.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}},Dp=class extends xs{constructor(t,e,i,r){let o,s=e.type.toDOM;if(typeof s=="function"&&(s=s(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==ai&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}},_v=class extends xs{constructor(t,e,i,r){super(t,[],e,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},Fa=class n extends xs{constructor(t,e,i,r,o){super(t,[],i,r),this.mark=e,this.spec=o}static create(t,e,i,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,i);return(!s||!s.dom)&&(s=Dr.renderSpec(document,e.type.spec.toDOM(e,i),null,e.attrs)),new n(t,e,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Hi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Hi&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=ai){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=ai}}slice(t,e,i){let r=n.create(this.parent,this.mark,!0,i),o=this.children,s=this.size;e<s&&(o=Ev(o,e,s,i)),t>0&&(o=Ev(o,0,t,i));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Co=class n extends xs{constructor(t,e,i,r,o,s,a,l,c){super(t,[],o,s),this.node=e,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=a}static create(t,e,i,r,o,s){let a=o.nodeViews[e.type.name],l,c=a&&a(e,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},i,r),d=c&&c.dom,f=c&&c.contentDOM;if(e.isText){if(!d)d=document.createTextNode(e.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Dr.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!f&&!e.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),e.type.spec.draggable&&(d.draggable=!0));let w=d;return d=bI(d,i,e),c?l=new Cv(t,e,i,r,d,f||null,w,c,o,s+1):e.isText?new Ep(t,e,i,r,d,w,o):new n(t,e,i,r,d,f||null,w,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let i=this.children[e];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>$.empty)}return t}matchesNode(t,e,i){return this.dirty==ai&&t.eq(this.node)&&Mp(e,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let i=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Dv(this,s&&s.node,t);r$(this.node,this.innerDeco,(c,d,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,i,t):c.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?Ge.none:this.node.child(d).marks,i,t),l.placeWidget(c,t,r)},(c,d,f,w)=>{l.syncToMarks(c.marks,i,t);let b;l.findNodeMatch(c,d,f,w)||a&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(b=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,f,b,t)||l.updateNextNode(c,d,f,t,w,r)||l.addNode(c,d,f,t,r),r+=c.nodeSize}),l.syncToMarks([],i,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ys)&&(s&&this.protectLocalComposition(t,s),yI(this.contentDOM,this.children,t),Ra&&o$(this.dom))}localCompositionInfo(t,e){let{from:i,to:r}=t.state.selection;if(!(t.state.selection instanceof Ue)||i<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=s$(this.node.content,s,i-e,r-e);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:i,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new _v(this,o,e,r);t.input.compositionNodes.push(s),this.children=Ev(this.children,i,i+r.length,t,s)}update(t,e,i,r){return this.dirty==Hi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,i,r),!0)}updateInner(t,e,i,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=ai}updateOuterDeco(t){if(Mp(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=vI(this.dom,this.nodeDOM,xv(this.outerDeco,this.node,e),xv(t,this.node,e)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function LM(n,t,e,i,r){bI(i,t,n);let o=new Co(void 0,n,t,e,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var Ep=class n extends Co{constructor(t,e,i,r,o,s,a){super(t,e,i,r,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,i,r){return this.dirty==Hi||this.dirty!=ai&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=ai||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=ai,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,i){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,i){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new n(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Hi)}get domAtom(){return!1}isText(t){return this.node.text==t}},Sp=class extends xs{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ai&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Cv=class extends Co{constructor(t,e,i,r,o,s,a,l,c,d){super(t,e,i,r,o,s,a,c,d),this.spec=l}update(t,e,i,r){if(this.dirty==Hi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,i);return o&&this.updateInner(t,e,i,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,i,r){this.spec.setSelection?this.spec.setSelection(t,e,i.root):super.setSelection(t,e,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function yI(n,t,e){let i=n.firstChild,r=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==n){for(;a!=i;)i=VM(i),r=!0;i=i.nextSibling}else r=!0,n.insertBefore(a,i);if(s instanceof Fa){let l=i?i.previousSibling:n.lastChild;yI(s.contentDOM,s.children,e),i=l?l.nextSibling:n.firstChild}}for(;i;)i=VM(i),r=!0;r&&e.trackWrites==n&&(e.trackWrites=null)}var yc=function(n){n&&(this.nodeName=n)};yc.prototype=Object.create(null);var vs=[new yc];function xv(n,t,e){if(n.length==0)return vs;let i=e?vs[0]:new yc,r=[i];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&r.push(i=new yc(s.nodeName));for(let a in s){let l=s[a];l!=null&&(e&&r.length==1&&r.push(i=new yc(t.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return r}function vI(n,t,e,i){if(e==vs&&i==vs)return t;let r=t;for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(o){let l;a&&a.nodeName==s.nodeName&&r!=n&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=vs[0]),r=l}t$(r,a||vs[0],s)}return r}function t$(n,t,e){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in e)&&n.removeAttribute(i);for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&e[i]!=t[i]&&n.setAttribute(i,e[i]);if(t.class!=e.class){let i=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.add(r[o]);n.classList.length==0&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(t.style);)n.style.removeProperty(r[1])}e.style&&(n.style.cssText+=e.style)}}function bI(n,t,e){return vI(n,n,vs,xv(t,e,n.nodeType!=1))}function Mp(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function VM(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}var Dv=class{constructor(t,e,i){this.lock=e,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=n$(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let i=t;i<e;i++)this.top.children[i].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,i){let r=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=ai,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Fa.create(this.top,t[o],e,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,i,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(t,e,i))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,e,i)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,i,r,o){let s=this.top.children[r];return s.dirty==Hi&&s.dom==s.contentDOM&&(s.dirty=ys),s.update(t,e,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}t=e}}updateNextNode(t,e,i,r,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Co){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,f,w=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Hi&&Mp(e,l.outerDeco));if(!w&&l.update(t,e,i,r))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!w&&(f=this.recreateWrapper(l,t,e,i,r,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=ys,f.updateChildren(r,s+1),f.dirty=ai),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,i,r,o,s){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!Mp(i,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=Co.create(this.top,e,i,r,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,e,i,r,o){let s=Co.create(this.top,t,e,i,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,e,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new Dp(this.top,t,e,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Fa;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof Ep)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Yt||Ot)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new Sp(this.top,[],i,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function n$(n,t){let e=t,i=e.children.length,r=n.childCount,o=new Map,s=[];e:for(;r>0;){let a;for(;;)if(i){let c=e.children[i-1];if(c instanceof Fa)e=c,i=c.children.length;else{a=c,i--;break}}else{if(e==t)break e;i=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=n.child(r-1))break;--r,o.set(a,r),s.push(a)}}return{index:r,matched:o,matches:s.reverse()}}function i$(n,t){return n.type.side-t.type.side}function r$(n,t,e,i){let r=t.locals(n),o=0;if(r.length==0){for(let c=0;c<n.childCount;c++){let d=n.child(c);i(d,r,t.forChild(o,d),c),o+=d.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let d,f;for(;s<r.length&&r[s].to==o;){let S=r[s++];S.widget&&(d?(f||(f=[d])).push(S):d=S)}if(d)if(f){f.sort(i$);for(let S=0;S<f.length;S++)e(f[S],c,!!l)}else e(d,c,!!l);let w,b;if(l)b=-1,w=l,l=null;else if(c<n.childCount)b=c,w=n.child(c++);else break;for(let S=0;S<a.length;S++)a[S].to<=o&&a.splice(S--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);let _=o+w.nodeSize;if(w.isText){let S=_;s<r.length&&r[s].from<S&&(S=r[s].from);for(let A=0;A<a.length;A++)a[A].to<S&&(S=a[A].to);S<_&&(l=w.cut(S-o),w=w.cut(0,S-o),_=S,b=-1)}else for(;s<r.length&&r[s].to<_;)s++;let D=w.isInline&&!w.isLeaf?a.filter(S=>!S.inline):a.slice();i(w,D,t.forChild(o,w),b),o=_}}function o$(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=t}}function s$(n,t,e,i){for(let r=0,o=0;r<n.childCount&&o<=i;){let s=n.child(r++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<n.childCount;){let c=n.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=e){if(o>=i&&l.slice(i-t.length-a,i-a)==t)return i-t.length;let c=a<i?l.lastIndexOf(t,i-a-1):-1;if(c>=0&&c+t.length+a>=e)return a+c;if(e==i&&l.length>=i+t.length-a&&l.slice(i-a,i-a+t.length)==t)return i}}return-1}function Ev(n,t,e,i,r){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],c=a,d=a+=l.size;c>=e||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,i)),r&&(o.push(r),r=void 0),d>e&&o.push(l.slice(e-c,l.size,i)))}return o}function Fv(n,t=null){let e=n.domSelectionRange(),i=n.state.doc;if(!e.focusNode)return null;let r=n.docView.nearestDesc(e.focusNode),o=r&&r.size==0,s=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(s<0)return null;let a=i.resolve(s),l,c;if(Pp(e)){for(l=s;r&&!r.node;)r=r.parent;let f=r.node;if(r&&f.isAtom&&se.isSelectable(f)&&r.parent&&!(f.isInline&&Fj(e.focusNode,e.focusOffset,r.dom))){let w=r.posBefore;c=new se(s==w?a:i.resolve(w))}}else{if(e instanceof n.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let f=s,w=s;for(let b=0;b<e.rangeCount;b++){let _=e.getRangeAt(b);f=Math.min(f,n.docView.posFromDOM(_.startContainer,_.startOffset,1)),w=Math.max(w,n.docView.posFromDOM(_.endContainer,_.endOffset,-1))}if(f<0)return null;[l,s]=w==n.state.selection.anchor?[w,f]:[f,w],a=i.resolve(s)}else l=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let d=i.resolve(l);if(!c){let f=t=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;c=Lv(n,d,a,f)}return c}function wI(n){return n.editable?n.hasFocus():CI(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Tr(n,t=!1){let e=n.state.selection;if(_I(n,e),!!wI(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Ot){let i=n.domSelectionRange(),r=n.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Cs(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)l$(n);else{let{anchor:i,head:r}=e,o,s;BM&&!(e instanceof Ue)&&(e.$from.parent.inlineContent||(o=jM(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(s=jM(n,e.to))),n.docView.setSelection(i,r,n,t),BM&&(o&&$M(o),s&&$M(s)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&a$(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}var BM=Yt||Ot&&cI<63;function jM(n,t){let{node:e,offset:i}=n.docView.domFromPos(t,0),r=i<e.childNodes.length?e.childNodes[i]:null,o=i?e.childNodes[i-1]:null;if(Yt&&r&&r.contentEditable=="false")return pv(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return pv(r);if(o)return pv(o)}}function pv(n){return n.contentEditable="true",Yt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function $M(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function a$(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),i=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=i||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!wI(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function l$(n){let t=n.domSelection();if(!t)return;let e=n.cursorWrapper.dom,i=e.nodeName=="IMG";i?t.collapse(e.parentNode,Bt(e)+1):t.collapse(e,0),!i&&!n.state.selection.visible&&Mn&&_o<=11&&(e.disabled=!0,e.disabled=!1)}function _I(n,t){if(t instanceof se){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(zM(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else zM(n)}function zM(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Lv(n,t,e,i){return n.someProp("createSelectionBetween",r=>r(n,t,e))||Ue.between(t,e,i)}function UM(n){return n.editable&&!n.hasFocus()?!1:CI(n)}function CI(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function c$(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelectionRange();return Cs(t.node,t.offset,e.anchorNode,e.anchorOffset)}function Sv(n,t){let{$anchor:e,$head:i}=n.selection,r=t>0?e.max(i):e.min(i),o=r.parent.inlineContent?r.depth?n.doc.resolve(t>0?r.after():r.before()):null:r;return o&&Ee.findFrom(o,t)}function bo(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function HM(n,t,e){let i=n.state.selection;if(i instanceof Ue)if(e.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return bo(n,new Ue(i.$anchor,s))}else if(i.empty){if(n.endOfTextblock(t>0?"forward":"backward")){let r=Sv(n.state,t);return r&&r instanceof se?bo(n,r):!1}else if(!(ri&&e.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?se.isSelectable(o)?bo(n,new se(t<0?n.state.doc.resolve(r.pos-o.nodeSize):r)):Dc?bo(n,new Ue(n.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof se&&i.node.isInline)return bo(n,new Ue(t>0?i.$to:i.$from));{let r=Sv(n.state,t);return r?bo(n,r):!1}}}function Ip(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function vc(n,t){let e=n.pmViewDesc;return e&&e.size==0&&(t<0||n.nextSibling||n.nodeName!="BR")}function ka(n,t){return t<0?u$(n):d$(n)}function u$(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let r,o,s=!1;for(si&&e.nodeType==1&&i<Ip(e)&&vc(e.childNodes[i],-1)&&(s=!0);;)if(i>0){if(e.nodeType!=1)break;{let a=e.childNodes[i-1];if(vc(a,-1))r=e,o=--i;else if(a.nodeType==3)e=a,i=e.nodeValue.length;else break}}else{if(xI(e))break;{let a=e.previousSibling;for(;a&&vc(a,-1);)r=e.parentNode,o=Bt(a),a=a.previousSibling;if(a)e=a,i=Ip(e);else{if(e=e.parentNode,e==n.dom)break;i=0}}}s?Mv(n,e,i):r&&Mv(n,r,o)}function d$(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let r=Ip(e),o,s;for(;;)if(i<r){if(e.nodeType!=1)break;let a=e.childNodes[i];if(vc(a,1))o=e,s=++i;else break}else{if(xI(e))break;{let a=e.nextSibling;for(;a&&vc(a,1);)o=a.parentNode,s=Bt(a)+1,a=a.nextSibling;if(a)e=a,i=0,r=Ip(e);else{if(e=e.parentNode,e==n.dom)break;i=r=0}}}o&&Mv(n,o,s)}function xI(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function f$(n,t){for(;n&&t==n.childNodes.length&&!xc(n);)t=Bt(n)+1,n=n.parentNode;for(;n&&t<n.childNodes.length;){let e=n.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=0}}function p$(n,t){for(;n&&!t&&!xc(n);)t=Bt(n),n=n.parentNode;for(;n&&t;){let e=n.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=n.childNodes.length}}function Mv(n,t,e){if(t.nodeType!=3){let o,s;(s=f$(t,e))?(t=s,e=0):(o=p$(t,e))&&(t=o,e=o.nodeValue.length)}let i=n.domSelection();if(!i)return;if(Pp(i)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(t,e);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&Tr(n)},50)}function WM(n,t){let e=n.state.doc.resolve(t);if(!(Ot||uI)&&e.parent.inlineContent){let r=n.coordsAtPos(t);if(t>e.start()){let o=n.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=n.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function qM(n,t,e){let i=n.state.selection;if(i instanceof Ue&&!i.empty||e.indexOf("s")>-1||ri&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let s=Sv(n.state,t);if(s&&s instanceof se)return bo(n,s)}if(!r.parent.inlineContent){let s=t<0?r:o,a=i instanceof Bn?Ee.near(s,t):Ee.findFrom(s,t);return a?bo(n,a):!1}return!1}function GM(n,t){if(!(n.state.selection instanceof Ue))return!0;let{$head:e,$anchor:i,empty:r}=n.state.selection;if(!e.sameParent(i))return!0;if(!r)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return t<0?s.delete(e.pos-o.nodeSize,e.pos):s.delete(e.pos,e.pos+o.nodeSize),n.dispatch(s),!0}return!1}function KM(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function h$(n){if(!Yt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;KM(n,i,"true"),setTimeout(()=>KM(n,i,"false"),20)}return!1}function m$(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function g$(n,t){let e=t.keyCode,i=m$(t);if(e==8||ri&&e==72&&i=="c")return GM(n,-1)||ka(n,-1);if(e==46&&!t.shiftKey||ri&&e==68&&i=="c")return GM(n,1)||ka(n,1);if(e==13||e==27)return!0;if(e==37||ri&&e==66&&i=="c"){let r=e==37?WM(n,n.state.selection.from)=="ltr"?-1:1:-1;return HM(n,r,i)||ka(n,r)}else if(e==39||ri&&e==70&&i=="c"){let r=e==39?WM(n,n.state.selection.from)=="ltr"?1:-1:1;return HM(n,r,i)||ka(n,r)}else{if(e==38||ri&&e==80&&i=="c")return qM(n,-1,i)||ka(n,-1);if(e==40||ri&&e==78&&i=="c")return h$(n)||qM(n,1,i)||ka(n,1);if(i==(ri?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function Vv(n,t){n.someProp("transformCopied",b=>{t=b(t,n)});let e=[],{content:i,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let b=i.firstChild;e.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),i=b.content}let s=n.someProp("clipboardSerializer")||Dr.fromSchema(n.state.schema),a=TI(),l=a.createElement("div");l.appendChild(s.serializeFragment(i,{document:a}));let c=l.firstChild,d,f=0;for(;c&&c.nodeType==1&&(d=II[c.nodeName.toLowerCase()]);){for(let b=d.length-1;b>=0;b--){let _=a.createElement(d[b]);for(;l.firstChild;)_.appendChild(l.firstChild);l.appendChild(_),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${o}${f?` -${f}`:""} ${JSON.stringify(e)}`);let w=n.someProp("clipboardTextSerializer",b=>b(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:w,slice:t}}function DI(n,t,e,i,r){let o=r.parent.type.spec.code,s,a;if(!e&&!t)return null;let l=!!t&&(i||o||!e);if(l){if(n.someProp("transformPastedText",w=>{t=w(t,o||i,n)}),o)return a=new H($.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",w=>{a=w(a,n,!0)}),a;let f=n.someProp("clipboardTextParser",w=>w(t,r,i,n));if(f)a=f;else{let w=r.marks(),{schema:b}=n.state,_=Dr.fromSchema(b);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(D=>{let S=s.appendChild(document.createElement("p"));D&&S.appendChild(_.serializeNode(b.text(D,w)))})}}else n.someProp("transformPastedHTML",f=>{e=f(e,n)}),s=w$(e),Dc&&_$(s);let c=s&&s.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let w=s.firstChild;for(;w&&w.nodeType!=1;)w=w.nextSibling;if(!w)break;s=w}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||go.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(w){return w.nodeName=="BR"&&!w.nextSibling&&w.parentNode&&!y$.test(w.parentNode.nodeName)?{ignore:!0}:null}})),d)a=C$(QM(a,+d[1],+d[2]),d[4]);else if(a=H.maxOpen(v$(a.content,r),!0),a.openStart||a.openEnd){let f=0,w=0;for(let b=a.content.firstChild;f<a.openStart&&!b.type.spec.isolating;f++,b=b.firstChild);for(let b=a.content.lastChild;w<a.openEnd&&!b.type.spec.isolating;w++,b=b.lastChild);a=QM(a,f,w)}return n.someProp("transformPasted",f=>{a=f(a,n,l)}),a}var y$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function v$(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=r.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&SI(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=MI(s[s.length-1],o.length));let d=EI(a,l);s.push(d),r=r.matchType(d.type),o=l}}),s)return $.from(s)}return n}function EI(n,t,e=0){for(let i=t.length-1;i>=e;i--)n=t[i].create(null,$.from(n));return n}function SI(n,t,e,i,r){if(r<n.length&&r<t.length&&n[r]==t[r]){let o=SI(n,t,e,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==n.length-1?e.type:n[r+1]))return i.copy(i.content.append($.from(EI(e,n,r+1))))}}function MI(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,MI(n.lastChild,t-1)),i=n.contentMatchAt(n.childCount).fillBefore($.empty,!0);return n.copy(e.append(i))}function Iv(n,t,e,i,r,o){let s=t<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),r<i-1&&(a=Iv(a,t,e,i,r+1,o)),r>=e&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore($.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,s.copy(a))}function QM(n,t,e){return t<n.openStart&&(n=new H(Iv(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new H(Iv(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}var II={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},YM=null;function TI(){return YM||(YM=document.implementation.createHTMLDocument("title"))}var hv=null;function b$(n){let t=window.trustedTypes;return t?(hv||(hv=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),hv.createHTML(n)):n}function w$(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=TI().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),r;if((r=i&&II[i[1].toLowerCase()])&&(n=r.map(o=>"<"+o+">").join("")+n+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=b$(n),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function _$(n){let t=n.querySelectorAll(Ot?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let i=t[e];i.childNodes.length==1&&i.textContent=="\xA0"&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function C$(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return n}let{content:r,openStart:o,openEnd:s}=n;for(let a=i.length-2;a>=0;a-=2){let l=e.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;r=$.from(l.create(i[a+1],r)),o++,s++}return new H(r,o,s)}var un={},dn={},x$={touchstart:!0,touchmove:!0},Tv=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function D$(n){for(let t in un){let e=un[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>{S$(n,i)&&!Bv(n,i)&&(n.editable||!(i.type in dn))&&e(n,i)},x$[t]?{passive:!0}:void 0)}Yt&&n.dom.addEventListener("input",()=>null),Av(n)}function wo(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function E$(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Av(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>Bv(n,i))})}function Bv(n,t){return n.someProp("handleDOMEvents",e=>{let i=e[t.type];return i?i(n,t)||t.defaultPrevented:!1})}function S$(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function M$(n,t){!Bv(n,t)&&un[t.type]&&(n.editable||!(t.type in dn))&&un[t.type](n,t)}dn.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!kI(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Ir&&Ot&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),Ra&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",r=>r(n,gs(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,e))||g$(n,e)?e.preventDefault():wo(n,"key")};dn.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};dn.keypress=(n,t)=>{let e=t;if(kI(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||ri&&e.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,e))){e.preventDefault();return}let i=n.state.selection;if(!(i instanceof Ue)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(e.charCode),o=()=>n.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",s=>s(n,i.$from.pos,i.$to.pos,r,o))&&n.dispatch(o()),e.preventDefault()}};function Rp(n){return{left:n.clientX,top:n.clientY}}function I$(n,t){let e=t.x-n.clientX,i=t.y-n.clientY;return e*e+i*i<100}function jv(n,t,e,i,r){if(i==-1)return!1;let o=n.state.doc.resolve(i);for(let s=o.depth+1;s>0;s--)if(n.someProp(t,a=>s>o.depth?a(n,e,o.nodeAfter,o.before(s),r,!0):a(n,e,o.node(s),o.before(s),r,!1)))return!0;return!1}function Oa(n,t,e){if(n.focused||n.focus(),n.state.selection.eq(t))return;let i=n.state.tr.setSelection(t);e=="pointer"&&i.setMeta("pointer",!0),n.dispatch(i)}function T$(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),i=e.nodeAfter;return i&&i.isAtom&&se.isSelectable(i)?(Oa(n,new se(e),"pointer"),!0):!1}function A$(n,t){if(t==-1)return!1;let e=n.state.selection,i,r;e instanceof se&&(i=e.node);let o=n.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(se.isSelectable(a)){i&&e.$from.depth>0&&s>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(s);break}}return r!=null?(Oa(n,se.create(n.state.doc,r),"pointer"),!0):!1}function k$(n,t,e,i,r){return jv(n,"handleClickOn",t,e,i)||n.someProp("handleClick",o=>o(n,t,i))||(r?A$(n,e):T$(n,e))}function N$(n,t,e,i){return jv(n,"handleDoubleClickOn",t,e,i)||n.someProp("handleDoubleClick",r=>r(n,t,i))}function O$(n,t,e,i){return jv(n,"handleTripleClickOn",t,e,i)||n.someProp("handleTripleClick",r=>r(n,t,i))||P$(n,e,i)}function P$(n,t,e){if(e.button!=0)return!1;let i=n.state.doc;if(t==-1)return i.inlineContent?(Oa(n,Ue.create(i,0,i.content.size),"pointer"),!0):!1;let r=i.resolve(t);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)Oa(n,Ue.create(i,a+1,a+1+s.content.size),"pointer");else if(se.isSelectable(s))Oa(n,se.create(i,a),"pointer");else continue;return!0}}function $v(n){return Tp(n)}var AI=ri?"metaKey":"ctrlKey";un.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let i=$v(n),r=Date.now(),o="singleClick";r-n.input.lastClick.time<500&&I$(e,n.input.lastClick)&&!e[AI]&&n.input.lastClick.button==e.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o,button:e.button};let s=n.posAtCoords(Rp(e));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new kv(n,s,e,!!i)):(o=="doubleClick"?N$:O$)(n,s.pos,s.inside,e)?e.preventDefault():wo(n,"pointer"))};var kv=class{constructor(t,e,i,r){this.view=t,this.pos=e,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[AI],this.allowDefault=i.shiftKey;let o,s;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let d=t.state.doc.resolve(e.pos);o=d.parent,s=d.depth?d.before():0}let a=r?null:i.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof se&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&si&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),wo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Tr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Rp(t))),this.updateAllowDefault(t),this.allowDefault||!e?wo(this.view,"pointer"):k$(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Yt&&this.mightDrag&&!this.mightDrag.node.isAtom||Ot&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Oa(this.view,Ee.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):wo(this.view,"pointer")}move(t){this.updateAllowDefault(t),wo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};un.touchstart=n=>{n.input.lastTouch=Date.now(),$v(n),wo(n,"pointer")};un.touchmove=n=>{n.input.lastTouch=Date.now(),wo(n,"pointer")};un.contextmenu=n=>$v(n);function kI(n,t){return n.composing?!0:Yt&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}var R$=Ir?5e3:-1;dn.compositionstart=dn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$to;if(t.selection instanceof Ue&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||Ot&&uI&&F$(n)))n.markCursor=n.state.storedMarks||e.marks(),Tp(n,!0),n.markCursor=null;else if(Tp(n,!t.selection.empty),si&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let i=n.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=n.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else r=s,o=-1}}n.input.composing=!0}NI(n,R$)};function F$(n){let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(!t||t.nodeType!=1||e>=t.childNodes.length)return!1;let i=t.childNodes[e];return i.nodeType==1&&i.contentEditable=="false"}dn.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,NI(n,20))};function NI(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>Tp(n),t))}function OI(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=V$());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function L$(n){let t=n.domSelectionRange();if(!t.focusNode)return null;let e=Pj(t.focusNode,t.focusOffset),i=Rj(t.focusNode,t.focusOffset);if(e&&i&&e!=i){let r=i.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(e==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let s=e.pmViewDesc;if(!(!s||!s.isText(e.nodeValue)))return i}}return e||i}function V$(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Tp(n,t=!1){if(!(Ir&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),OI(n),t||n.docView&&n.docView.dirty){let e=Fv(n),i=n.state.selection;return e&&!e.eq(i)?n.dispatch(n.state.tr.setSelection(e)):(n.markCursor||t)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function B$(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(t),n.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}var bc=Mn&&_o<15||Ra&&Bj<604;un.copy=dn.cut=(n,t)=>{let e=t,i=n.state.selection,r=e.type=="cut";if(i.empty)return;let o=bc?null:e.clipboardData,s=i.content(),{dom:a,text:l}=Vv(n,s);o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):B$(n,a),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function j$(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function $$(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),e?wc(n,i.value,null,r,t):wc(n,i.textContent,i.innerHTML,r,t)},50)}function wc(n,t,e,i,r){let o=DI(n,t,e,i,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,r,o||H.empty)))return!0;if(!o)return!1;let s=j$(o),a=s?n.state.tr.replaceSelectionWith(s,i):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function PI(n){let t=n.getData("text/plain")||n.getData("Text");if(t)return t;let e=n.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}dn.paste=(n,t)=>{let e=t;if(n.composing&&!Ir)return;let i=bc?null:e.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&wc(n,PI(i),i.getData("text/html"),r,e)?e.preventDefault():$$(n,e)};var Ap=class{constructor(t,e,i){this.slice=t,this.move=e,this.node=i}},z$=ri?"altKey":"ctrlKey";function RI(n,t){let e=n.someProp("dragCopies",i=>!i(t));return e??!t[z$]}un.dragstart=(n,t)=>{let e=t,i=n.input.mouseDown;if(i&&i.done(),!e.dataTransfer)return;let r=n.state.selection,o=r.empty?null:n.posAtCoords(Rp(e)),s;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof se?r.to-1:r.to))){if(i&&i.mightDrag)s=se.create(n.state.doc,i.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let f=n.docView.nearestDesc(e.target,!0);f&&f.node.type.spec.draggable&&f!=n.docView&&(s=se.create(n.state.doc,f.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:c,slice:d}=Vv(n,a);(!e.dataTransfer.files.length||!Ot||cI>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(bc?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",bc||e.dataTransfer.setData("text/plain",c),n.dragging=new Ap(d,RI(n,e),s)};un.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};dn.dragover=dn.dragenter=(n,t)=>t.preventDefault();dn.drop=(n,t)=>{try{U$(n,t,n.dragging)}finally{n.dragging=null}};function U$(n,t,e){if(!t.dataTransfer)return;let i=n.posAtCoords(Rp(t));if(!i)return;let r=n.state.doc.resolve(i.pos),o=e&&e.slice;o?n.someProp("transformPasted",b=>{o=b(o,n,!1)}):o=DI(n,PI(t.dataTransfer),bc?null:t.dataTransfer.getData("text/html"),!1,r);let s=!!(e&&RI(n,t));if(n.someProp("handleDrop",b=>b(n,t,o||H.empty,s))){t.preventDefault();return}if(!o)return;t.preventDefault();let a=o?gM(n.state.doc,r.pos,o):r.pos;a==null&&(a=r.pos);let l=n.state.tr;if(s){let{node:b}=e;b?b.replace(l):l.deleteSelection()}let c=l.mapping.map(a),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),l.doc.eq(f))return;let w=l.doc.resolve(c);if(d&&se.isSelectable(o.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new se(w));else{let b=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((_,D,S,A)=>b=A),l.setSelection(Lv(n,w,l.doc.resolve(b)))}n.focus(),n.dispatch(l.setMeta("uiEvent","drop"))}un.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Tr(n)},20))};un.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};un.beforeinput=(n,t)=>{if(Ot&&Ir&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,gs(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in dn)un[n]=dn[n];function _c(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}var kp=class n{constructor(t,e){this.toDOM=t,this.spec=e||ws,this.side=this.spec.side||0}map(t,e,i,r){let{pos:o,deleted:s}=t.mapResult(e.from+r,this.side<0?-1:1);return s?null:new Wi(o-i,o-i,this)}valid(){return!0}eq(t){return this==t||t instanceof n&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&_c(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},bs=class n{constructor(t,e){this.attrs=t,this.spec=e||ws}map(t,e,i,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-i,s=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=s?null:new Wi(o,s,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof n&&_c(this.attrs,t.attrs)&&_c(this.spec,t.spec)}static is(t){return t.type instanceof n}destroy(){}},Nv=class n{constructor(t,e){this.attrs=t,this.spec=e||ws}map(t,e,i,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let s=t.mapResult(e.to+r,-1);return s.deleted||s.pos<=o.pos?null:new Wi(o.pos-i,s.pos-i,this)}valid(t,e){let{index:i,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(i)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof n&&_c(this.attrs,t.attrs)&&_c(this.spec,t.spec)}destroy(){}},Wi=class n{constructor(t,e,i){this.from=t,this.to=e,this.type=i}copy(t,e){return new n(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,i){return this.type.map(t,this,e,i)}static widget(t,e,i){return new n(t,t,new kp(e,i))}static inline(t,e,i,r){return new n(t,e,new bs(i,r))}static node(t,e,i,r){return new n(t,e,new Nv(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof bs}get widget(){return this.type instanceof kp}},Na=[],ws={},cn=class n{constructor(t,e){this.local=t.length?t:Na,this.children=e.length?e:Na}static create(t,e){return e.length?Op(e,t,0,ws):Qt}find(t,e,i){let r=[];return this.findInner(t??0,e??1e9,r,0,i),r}findInner(t,e,i,r,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&i.push(a.copy(a.from+r,a.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,e-a,i,r+a,o)}}map(t,e,i){return this==Qt||t.maps.length==0?this:this.mapInner(t,e,0,0,i||ws)}mapInner(t,e,i,r,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,i,r);l&&l.type.valid(e,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?H$(this.children,s||[],t,e,i,r,o):s?new n(s.sort(_s),Na):Qt}add(t,e){return e.length?this==Qt?n.create(t,e):this.addInner(t,e,0):this}addInner(t,e,i){let r,o=0;t.forEach((a,l)=>{let c=l+i,d;if(d=LI(e,a,c)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(a,d,c+1):r.splice(o,0,l,l+a.nodeSize,Op(d,a,c+1,ws)),o+=3}});let s=FI(o?VI(e):e,-i);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new n(s.length?this.local.concat(s).sort(_s):this.local,r||this.children)}remove(t){return t.length==0||this==Qt?this:this.removeInner(t,0)}removeInner(t,e){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let s,a=i[o]+e,l=i[o+1]+e;for(let d=0,f;d<t.length;d++)(f=t[d])&&f.from>a&&f.to<l&&(t[d]=null,(s||(s=[])).push(f));if(!s)continue;i==this.children&&(i=this.children.slice());let c=i[o+2].removeInner(s,a+1);c!=Qt?i[o+2]=c:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<r.length;a++)r[a].eq(s,e)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new n(r,i):Qt}forChild(t,e){if(this==Qt)return this;if(e.isLeaf)return n.empty;let i,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(i=this.children[a+2]);break}let o=t+1,s=o+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof bs){let c=Math.max(o,l.from)-o,d=Math.min(s,l.to)-o;c<d&&(r||(r=[])).push(l.copy(c,d))}}if(r){let a=new n(r.sort(_s),Na);return i?new Np([a,i]):a}return i||Qt}eq(t){if(this==t)return!0;if(!(t instanceof n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return zv(this.localsInner(t))}localsInner(t){if(this==Qt)return Na;if(t.inlineContent||!this.local.some(bs.is))return this.local;let e=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof bs||e.push(this.local[i]);return e}forEachSet(t){t(this)}};cn.empty=new cn([],[]);cn.removeOverlap=zv;var Qt=cn.empty,Np=class n{constructor(t){this.members=t}map(t,e){let i=this.members.map(r=>r.map(t,e,ws));return n.from(i)}forChild(t,e){if(e.isLeaf)return cn.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=Qt&&(o instanceof n?i=i.concat(o.members):i.push(o))}return n.from(i)}eq(t){if(!(t instanceof n)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{i&&(e=e.slice(),i=!1);for(let s=0;s<o.length;s++)e.push(o[s])}}return e?zv(i?e:e.sort(_s)):Na}static from(t){switch(t.length){case 0:return Qt;case 1:return t[0];default:return new n(t.every(e=>e instanceof cn)?t:t.reduce((e,i)=>e.concat(i instanceof cn?i:i.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function H$(n,t,e,i,r,o,s){let a=n.slice();for(let c=0,d=o;c<e.maps.length;c++){let f=0;e.maps[c].forEach((w,b,_,D)=>{let S=D-_-(b-w);for(let A=0;A<a.length;A+=3){let G=a[A+1];if(G<0||w>G+d-f)continue;let z=a[A]+d-f;b>=z?a[A+1]=w<=z?-2:-1:w>=d&&S&&(a[A]+=S,a[A+1]+=S)}f+=S}),d=e.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=e.map(n[c]+o),f=d-r;if(f<0||f>=i.content.size){l=!0;continue}let w=e.map(n[c+1]+o,-1),b=w-r,{index:_,offset:D}=i.content.findIndex(f),S=i.maybeChild(_);if(S&&D==f&&D+S.nodeSize==b){let A=a[c+2].mapInner(e,S,d+1,n[c]+o+1,s);A!=Qt?(a[c]=f,a[c+1]=b,a[c+2]=A):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=W$(a,n,t,e,r,o,s),d=Op(c,i,0,s);t=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,w=0;f<d.children.length;f+=3){let b=d.children[f];for(;w<a.length&&a[w]<b;)w+=3;a.splice(w,0,d.children[f],d.children[f+1],d.children[f+2])}}return new cn(t.sort(_s),a)}function FI(n,t){if(!t||!n.length)return n;let e=[];for(let i=0;i<n.length;i++){let r=n[i];e.push(new Wi(r.from+t,r.to+t,r.type))}return e}function W$(n,t,e,i,r,o,s){function a(l,c){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(i,r,c);f?e.push(f):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],t[l]+o+1);return e}function LI(n,t,e){if(t.isLeaf)return null;let i=e+t.nodeSize,r=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>e&&s.to<i&&((r||(r=[])).push(s),n[o]=null);return r}function VI(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function Op(n,t,e,i){let r=[],o=!1;t.forEach((a,l)=>{let c=LI(n,a,l+e);if(c){o=!0;let d=Op(c,a,e+l+1,i);d!=Qt&&r.push(l,l+a.nodeSize,d)}});let s=FI(o?VI(n):n,-e).sort(_s);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new cn(s,r):Qt}function _s(n,t){return n.from-t.from||n.to-t.to}function zv(n){let t=n;for(let e=0;e<t.length-1;e++){let i=t[e];if(i.from!=i.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==i.from){o.to!=i.to&&(t==n&&(t=n.slice()),t[r]=o.copy(o.from,i.to),ZM(t,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(t==n&&(t=n.slice()),t[e]=i.copy(i.from,o.from),ZM(t,r,i.copy(o.from,i.to)));break}}}return t}function ZM(n,t,e){for(;t<n.length&&_s(e,n[t])>0;)t++;n.splice(t,0,e)}function mv(n){let t=[];return n.someProp("decorations",e=>{let i=e(n.state);i&&i!=Qt&&t.push(i)}),n.cursorWrapper&&t.push(cn.create(n.state.doc,[n.cursorWrapper.deco])),Np.from(t)}var q$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},G$=Mn&&_o<=11,Ov=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},Pv=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ov,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Mn&&_o<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),G$&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,q$)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(UM(this.view)){if(this.suppressingSelectionUpdates)return Tr(this.view);if(Mn&&_o<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Cs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,i;for(let o=t.focusNode;o;o=Pa(o))e.add(o);for(let o=t.anchorNode;o;o=Pa(o))if(e.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let i=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&UM(t)&&!this.ignoreSelectionChange(i),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let d=0;d<e.length;d++){let f=this.registerMutation(e[d],l);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(a=!0))}if(si&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,w]=d;f.parentNode&&f.parentNode.parentNode==w.parentNode?w.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let w of d){let b=w.parentNode;b&&b.nodeName=="LI"&&(!f||Y$(t,f)!=b)&&w.remove()}}}else if((Ot||Yt)&&l.some(d=>d.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let d of l)if(d.nodeName=="BR"&&d.parentNode){let f=d.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&d.parentNode.removeChild(d)}}let c=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Pp(i)&&(c=Fv(t))&&c.eq(Ee.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Tr(t),this.currentSelection.set(i),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,s),K$(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Tr(t),this.currentSelection.set(i))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let f=t.addedNodes[d];e.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let r=t.previousSibling,o=t.nextSibling;if(Mn&&_o<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:f,nextSibling:w}=t.addedNodes[d];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(r=f),(!w||Array.prototype.indexOf.call(t.addedNodes,w)<0)&&(o=w)}let s=r&&r.parentNode==t.target?Bt(r)+1:0,a=i.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?Bt(o):t.target.childNodes.length,c=i.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},JM=new WeakMap,XM=!1;function K$(n){if(!JM.has(n)&&(JM.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=si,XM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),XM=!0}}function eI(n,t){let e=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,s=n.domAtPos(n.state.selection.anchor);return Cs(s.node,s.offset,r,o)&&([e,i,r,o]=[r,o,e,i]),{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:o}}function Q$(n,t){if(t.getComposedRanges){let r=t.getComposedRanges(n.root)[0];if(r)return eI(n,r)}let e;function i(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),e?eI(n,e):null}function Y$(n,t){for(let e=t.parentNode;e&&e!=n.dom;e=e.parentNode){let i=n.docView.nearestDesc(e,!0);if(i&&i.node.isBlock)return e}return null}function Z$(n,t,e){let{node:i,fromOffset:r,toOffset:o,from:s,to:a}=n.docView.parseRange(t,e),l=n.domSelectionRange(),c,d=l.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Pp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ot&&n.input.lastKeyCode===8)for(let S=o;S>r;S--){let A=i.childNodes[S-1],G=A.pmViewDesc;if(A.nodeName=="BR"&&!G){o=S;break}if(!G||G.size)break}let f=n.state.doc,w=n.someProp("domParser")||go.fromSchema(n.state.schema),b=f.resolve(s),_=null,D=w.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:r,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:J$,context:b});if(c&&c[0].pos!=null){let S=c[0].pos,A=c[1]&&c[1].pos;A==null&&(A=S),_={anchor:S+s,head:A+s}}return{doc:D,sel:_,from:s,to:a}}function J$(n){let t=n.pmViewDesc;if(t)return t.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Yt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(n.parentNode.lastChild==n||Yt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}var X$=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function e6(n,t,e,i,r){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,t<0){let K=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,he=Fv(n,K);if(he&&!n.state.selection.eq(he)){if(Ot&&Ir&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",fn=>fn(n,gs(13,"Enter"))))return;let be=n.state.tr.setSelection(he);K=="pointer"?be.setMeta("pointer",!0):K=="key"&&be.scrollIntoView(),o&&be.setMeta("composition",o),n.dispatch(be)}return}let s=n.state.doc.resolve(t),a=s.sharedDepth(e);t=s.before(a+1),e=n.state.doc.resolve(e).after(a+1);let l=n.state.selection,c=Z$(n,t,e),d=n.state.doc,f=d.slice(c.from,c.to),w,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(w=n.state.selection.to,b="end"):(w=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let _=i6(f.content,c.doc.content,c.from,w,b);if(_&&n.input.domChangeCount++,(Ra&&n.input.lastIOSEnter>Date.now()-225||Ir)&&r.some(K=>K.nodeType==1&&!X$.test(K.nodeName))&&(!_||_.endA>=_.endB)&&n.someProp("handleKeyDown",K=>K(n,gs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!_)if(i&&l instanceof Ue&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))_={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let K=tI(n,n.state.doc,c.sel);if(K&&!K.eq(n.state.selection)){let he=n.state.tr.setSelection(K);o&&he.setMeta("composition",o),n.dispatch(he)}}return}n.state.selection.from<n.state.selection.to&&_.start==_.endB&&n.state.selection instanceof Ue&&(_.start>n.state.selection.from&&_.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?_.start=n.state.selection.from:_.endA<n.state.selection.to&&_.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(_.endB+=n.state.selection.to-_.endA,_.endA=n.state.selection.to)),Mn&&_o<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>c.from&&c.doc.textBetween(_.start-c.from-1,_.start-c.from+1)==" \xA0"&&(_.start--,_.endA--,_.endB--);let D=c.doc.resolveNoCache(_.start-c.from),S=c.doc.resolveNoCache(_.endB-c.from),A=d.resolve(_.start),G=D.sameParent(S)&&D.parent.inlineContent&&A.end()>=_.endA;if((Ra&&n.input.lastIOSEnter>Date.now()-225&&(!G||r.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!G&&D.pos<c.doc.content.size&&(!D.sameParent(S)||!D.parent.inlineContent)&&D.pos<S.pos&&!/\S/.test(c.doc.textBetween(D.pos,S.pos,"","")))&&n.someProp("handleKeyDown",K=>K(n,gs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>_.start&&n6(d,_.start,_.endA,D,S)&&n.someProp("handleKeyDown",K=>K(n,gs(8,"Backspace")))){Ir&&Ot&&n.domObserver.suppressSelectionUpdates();return}Ot&&_.endB==_.start&&(n.input.lastChromeDelete=Date.now()),Ir&&!G&&D.start()!=S.start()&&S.parentOffset==0&&D.depth==S.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==_.endA&&(_.endB-=2,S=c.doc.resolveNoCache(_.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(K){return K(n,gs(13,"Enter"))})},20));let z=_.start,oe=_.endA,Te=K=>{let he=K||n.state.tr.replace(z,oe,c.doc.slice(_.start-c.from,_.endB-c.from));if(c.sel){let be=tI(n,he.doc,c.sel);be&&!(Ot&&n.composing&&be.empty&&(_.start!=_.endB||n.input.lastChromeDelete<Date.now()-100)&&(be.head==z||be.head==he.mapping.map(oe)-1)||Mn&&be.empty&&be.head==z)&&he.setSelection(be)}return o&&he.setMeta("composition",o),he.scrollIntoView()},_e;if(G)if(D.pos==S.pos){Mn&&_o<=11&&D.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Tr(n),20));let K=Te(n.state.tr.delete(z,oe)),he=d.resolve(_.start).marksAcross(d.resolve(_.endA));he&&K.ensureMarks(he),n.dispatch(K)}else if(_.endA==_.endB&&(_e=t6(D.parent.content.cut(D.parentOffset,S.parentOffset),A.parent.content.cut(A.parentOffset,_.endA-A.start())))){let K=Te(n.state.tr);_e.type=="add"?K.addMark(z,oe,_e.mark):K.removeMark(z,oe,_e.mark),n.dispatch(K)}else if(D.parent.child(D.index()).isText&&D.index()==S.index()-(S.textOffset?0:1)){let K=D.parent.textBetween(D.parentOffset,S.parentOffset),he=()=>Te(n.state.tr.insertText(K,z,oe));n.someProp("handleTextInput",be=>be(n,z,oe,K,he))||n.dispatch(he())}else n.dispatch(Te());else n.dispatch(Te())}function tI(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Lv(n,t.resolve(e.anchor),t.resolve(e.head))}function t6(n,t){let e=n.firstChild.marks,i=t.firstChild.marks,r=e,o=i,s,a,l;for(let d=0;d<i.length;d++)r=i[d].removeFromSet(r);for(let d=0;d<e.length;d++)o=e[d].removeFromSet(o);if(r.length==1&&o.length==0)a=r[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(r.length==0&&o.length==1)a=o[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if($.from(c).eq(n))return{mark:a,type:s}}function n6(n,t,e,i,r){if(e-t<=r.pos-i.pos||gv(i,!0,!1)<r.pos)return!1;let o=n.resolve(t);if(!i.parent.isTextblock){let a=o.nodeAfter;return a!=null&&e==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(gv(o,!0,!0));return!s.parent.isTextblock||s.pos>e||gv(s,!0,!1)<e?!1:i.parent.content.cut(i.parentOffset).eq(s.parent.content)}function gv(n,t,e){let i=n.depth,r=t?n.end():n.pos;for(;i>0&&(t||n.indexAfter(i)==n.node(i).childCount);)i--,r++,t=!1;if(e){let o=n.node(i).maybeChild(n.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function i6(n,t,e,i,r){let o=n.findDiffStart(t,e);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(t,e+n.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(s,a));i-=s+l-o}if(s<o&&n.size<t.size){let l=i<=o&&i>=s?o-i:0;o-=l,o&&o<t.size&&nI(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=i<=o&&i>=a?o-i:0;o-=l,o&&o<n.size&&nI(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function nI(n){if(n.length!=2)return!1;let t=n.charCodeAt(0),e=n.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var Cc=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Tv,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(aI),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=oI(this),rI(this),this.nodeViews=sI(this),this.docView=LM(this.state.doc,iI(this),mv(this),this.dom,this),this.domObserver=new Pv(this,(i,r,o,s)=>e6(this,i,r,o,s)),this.domObserver.start(),D$(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Av(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(aI),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let i in this._props)e[i]=this._props[i];e.state=this.state;for(let i in t)e[i]=t[i];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var i;let r=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(OI(this),s=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(a||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let b=sI(this);o6(b,this.nodeViews)&&(this.nodeViews=b,o=!0)}(a||e.handleDOMEvents!=this._props.handleDOMEvents)&&Av(this),this.editable=oI(this),rI(this);let l=mv(this),c=iI(this),d=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(r.selection))&&(s=!0);let w=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&zj(this);if(s){this.domObserver.stop();let b=f&&(Mn||Ot)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&r6(r.selection,t.selection);if(f){let _=Ot?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=L$(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=LM(t.doc,c,l,this.dom,this)),_&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&c$(this))?Tr(this,b):(_I(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():w&&Uj(w)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof se){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&kM(this,e.getBoundingClientRect(),t)}else kM(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let i=this.directPlugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let i=this.state.plugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let i=this.pluginViews[e];i.update&&i.update(this,t)}}updateDraggedNode(t,e){let i=t.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new Ap(t.slice,t.move,r<0?void 0:se.create(this.state.doc,r))}someProp(t,e){let i=this._props&&this._props[t],r;if(i!=null&&(r=e?e(i):i))return r;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(r=e?e(a):a))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(r=e?e(a):a))return r}}hasFocus(){if(Mn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Hj(this.dom),Tr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Qj(this,t)}coordsAtPos(t,e=1){return mI(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,i=-1){let r=this.docView.posFromDOM(t,e,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return e$(this,e||this.state,t)}pasteHTML(t,e){return wc(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return wc(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return Vv(this,t)}destroy(){this.docView&&(E$(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],mv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Nj())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return M$(this,t)}domSelectionRange(){let t=this.domSelection();return t?Yt&&this.root.nodeType===11&&Lj(this.dom.ownerDocument)==this.dom&&Q$(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};Cc.prototype.dispatch=function(n){let t=this._props.dispatchTransaction;t?t.call(this,n):this.updateState(this.state.apply(n))};function iI(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),n.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(n.state)),e)for(let i in e)i=="class"?t.class+=" "+e[i]:i=="style"?t.style=(t.style?t.style+";":"")+e[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(e[i]))}),t.translate||(t.translate="no"),[Wi.node(0,n.state.doc.content.size,t)]}function rI(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:Wi.widget(n.state.selection.from,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function oI(n){return!n.someProp("editable",t=>t(n.state)===!1)}function r6(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}function sI(n){let t=Object.create(null);function e(i){for(let r in i)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=i[r])}return n.someProp("nodeViews",e),n.someProp("markViews",e),t}function o6(n,t){let e=0,i=0;for(let r in n){if(n[r]!=t[r])return!0;e++}for(let r in t)i++;return e!=i}function aI(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var s6=["ol",0],a6=["ul",0],l6=["li",0],BI={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(n){return{order:n.hasAttribute("start")?+n.getAttribute("start"):1}}}],toDOM(n){return n.attrs.order==1?s6:["ol",{start:n.attrs.order},0]}},jI={parseDOM:[{tag:"ul"}],toDOM(){return a6}},$I={parseDOM:[{tag:"li"}],toDOM(){return l6},defining:!0};function zI(n,t=null){return function(e,i){let{$from:r,$to:o}=e.selection,s=r.blockRange(o);if(!s)return!1;let a=i?e.tr:null;return c6(a,s,n,t)?(i&&i(a.scrollIntoView()),!0):!1}}function c6(n,t,e,i=null){let r=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new us(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new us(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=Ma(o,e,i,t);return a?(n&&u6(n,t,a,r,e),!0):!1}function u6(n,t,e,i,r){let o=$.empty;for(let d=e.length-1;d>=0;d--)o=$.from(e[d].type.create(e[d].attrs,o));n.step(new Nt(t.start-(i?2:0),t.end,t.start,t.end,new H(o,0,0),e.length,!0));let s=0;for(let d=0;d<e.length;d++)e[d].type==r&&(s=d+1);let a=e.length-s,l=t.start+e.length-(i?2:0),c=t.parent;for(let d=t.startIndex,f=t.endIndex,w=!0;d<f;d++,w=!1)!w&&yo(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return n}function UI(n,t){return function(e,i){let{$from:r,$to:o,node:s}=e.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;let a=r.node(-1);if(a.type!=n)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(i){let f=$.empty,w=r.index(-1)?1:r.index(-2)?2:3;for(let A=r.depth-w;A>=r.depth-3;A--)f=$.from(r.node(A).copy(f));let b=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;f=f.append($.from(n.createAndFill()));let _=r.before(r.depth-(w-1)),D=e.tr.replace(_,r.after(-b),new H(f,4-w,0)),S=-1;D.doc.nodesBetween(_,D.doc.content.size,(A,G)=>{if(S>-1)return!1;A.isTextblock&&A.content.size==0&&(S=G+1)}),S>-1&&D.setSelection(Ee.near(D.doc.resolve(S))),i(D.scrollIntoView())}return!0}let l=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,o.pos),d=l?[t?{type:n,attrs:t}:null,{type:l}]:void 0;return yo(c.doc,r.pos,2,d)?(i&&i(c.split(r.pos,2,d).scrollIntoView()),!0):!1}}function Uv(n){return function(t,e){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,s=>s.childCount>0&&s.firstChild.type==n);return o?e?i.node(o.depth-1).type==n?d6(t,e,n,o):f6(t,e,o):!0:!1}}function d6(n,t,e,i){let r=n.tr,o=i.end,s=i.$to.end(i.depth);o<s&&(r.step(new Nt(o-1,s,o,s,new H($.from(e.create(null,i.parent.copy())),1,0),1,!0)),i=new us(r.doc.resolve(i.$from.pos),r.doc.resolve(s),i.depth));let a=ps(i);if(a==null)return!1;r.lift(i,a);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return hs(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function f6(n,t,e){let i=n.tr,r=e.parent;for(let b=e.end,_=e.endIndex-1,D=e.startIndex;_>D;_--)b-=r.child(_).nodeSize,i.delete(b-1,b+1);let o=i.doc.resolve(e.start),s=o.nodeAfter;if(i.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let a=e.startIndex==0,l=e.endIndex==r.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(a?0:1),d+1,s.content.append(l?$.empty:$.from(r))))return!1;let f=o.pos,w=f+s.nodeSize;return i.step(new Nt(f-(a?1:0),w+(l?1:0),f+1,w-1,new H((a?$.empty:$.from(r.copy($.empty))).append(l?$.empty:$.from(r.copy($.empty))),a?0:1,l?0:1),a?0:1)),t(i.scrollIntoView()),!0}function Hv(n){return function(t,e){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(e){let c=l.lastChild&&l.lastChild.type==a.type,d=$.from(c?n.create():null),f=new H($.from(n.create(null,$.from(a.type.create(null,d)))),c?3:1,0),w=o.start,b=o.end;e(t.tr.step(new Nt(w-(c?3:1),b,w,b,f,1,!0)).scrollIntoView())}return!0}}var h6={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(n){return{href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")}}}],toDOM(n){let{href:t,title:e,target:i}=n.attrs;return["a",{href:t,title:e,target:i},0]}},m6={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},g6={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM(){return["strong",0]}},y6={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},v6={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},b6={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},w6={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){let{color:t}=n.attrs;return["span",{style:`color:${t};`},0]}},_6={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){let{backgroundColor:t}=n.attrs;return["span",{style:`background-color:${t};`},0]}},C6={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},x6={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},D6={link:h6,em:m6,strong:g6,code:y6,u:v6,s:b6,text_color:w6,text_background_color:_6,sup:C6,sub:x6},E6={content:"block+"},S6={group:"inline"},M6={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{align:e,indent:parseInt(i,10)||null}}}],toDOM(n){let{align:t,indent:e}=n.attrs,i={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:ap(i)||null,"data-indent":e??null},0]}},I6={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(n){let t=n.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(n){let{indent:t}=n.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:ap(e)||null,"data-indent":t??null},0]}},T6={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},A6={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(i,10)||null}}},{tag:"h2",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(i,10)||null}}},{tag:"h3",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(i,10)||null}}},{tag:"h4",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(i,10)||null}}},{tag:"h5",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(i,10)||null}}},{tag:"h6",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(i,10)||null}}}],toDOM(n){let{level:t,align:e,indent:i}=n.attrs,r={textAlign:e!=="left"?e:null,marginLeft:i!==null?`${i*40}px`:null},s={style:ap(r)||null,"data-indent":i??null};return[`h${t}`,s,0]}},k6={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},N6={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},O6={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(n){return{src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")}}}],toDOM(n){let{src:t,alt:e,title:i,width:r}=n.attrs;return["img",{src:t,alt:e,title:i,width:r}]}},P6=ae(F({},$I),{content:"paragraph block*"}),R6=ae(F({},BI),{content:"list_item+",group:"block"}),F6=ae(F({},jI),{content:"list_item+",group:"block"}),L6={doc:E6,text:S6,paragraph:M6,blockquote:I6,horizontal_rule:T6,heading:A6,hard_break:N6,code_block:k6,image:O6,list_item:P6,ordered_list:R6,bullet_list:F6},Ec=new hp({marks:D6,nodes:L6});var WI=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function V6(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}var B6=(n,t,e)=>{let i=V6(n,e);if(!i)return!1;let r=qI(i);if(!r){let s=i.blockRange(),a=s&&ps(s);return a==null?!1:(t&&t(n.tr.lift(s,a).scrollIntoView()),!0)}let o=r.nodeBefore;if(QI(n,r,t,-1))return!0;if(i.parent.content.size==0&&(La(o,"end")||se.isSelectable(o)))for(let s=i.depth;;s--){let a=wp(n.doc,i.before(s),i.after(s),H.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=n.tr.step(a);l.setSelection(La(o,"end")?Ee.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):se.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||i.node(s-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(t&&t(n.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function La(n,t,e=!1){for(let i=n;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(e&&i.childCount!=1)return!1}return!1}var j6=(n,t,e)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):i.parentOffset>0)return!1;o=qI(i)}let s=o&&o.nodeBefore;return!s||!se.isSelectable(s)?!1:(t&&t(n.tr.setSelection(se.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function qI(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function $6(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}var z6=(n,t,e)=>{let i=$6(n,e);if(!i)return!1;let r=GI(i);if(!r)return!1;let o=r.nodeAfter;if(QI(n,r,t,1))return!0;if(i.parent.content.size==0&&(La(o,"start")||se.isSelectable(o))){let s=wp(n.doc,i.before(),i.after(),H.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=n.tr.step(s);a.setSelection(La(o,"start")?Ee.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):se.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(t&&t(n.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},U6=(n,t,e)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;o=GI(i)}let s=o&&o.nodeAfter;return!s||!se.isSelectable(s)?!1:(t&&t(n.tr.setSelection(se.create(n.doc,o.pos)).scrollIntoView()),!0)};function GI(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}var KI=(n,t)=>{let{$from:e,$to:i}=n.selection,r=e.blockRange(i),o=r&&ps(r);return o==null?!1:(t&&t(n.tr.lift(r,o).scrollIntoView()),!0)},qv=(n,t)=>{let{$head:e,$anchor:i}=n.selection;return!e.parent.type.spec.code||!e.sameParent(i)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function Gv(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var Kv=(n,t)=>{let{$head:e,$anchor:i}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(i))return!1;let r=e.node(-1),o=e.indexAfter(-1),s=Gv(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(t){let a=e.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ee.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},Qv=(n,t)=>{let e=n.selection,{$from:i,$to:r}=e;if(e instanceof Bn||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=Gv(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(Ue.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},Yv=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(yo(n.doc,o))return t&&t(n.tr.split(o).scrollIntoView()),!0}let i=e.blockRange(),r=i&&ps(i);return r==null?!1:(t&&t(n.tr.lift(i,r).scrollIntoView()),!0)};function H6(n){return(t,e)=>{let{$from:i,$to:r}=t.selection;if(t.selection instanceof se&&t.selection.node.isBlock)return!i.parentOffset||!yo(t.doc,i.pos)?!1:(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],s,a,l=!1,c=!1;for(let b=i.depth;;b--)if(i.node(b).isBlock){l=i.end(b)==i.pos+(i.depth-b),c=i.start(b)==i.pos-(i.depth-b),a=Gv(i.node(b-1).contentMatchAt(i.indexAfter(b-1)));let D=n&&n(r.parent,l,i);o.unshift(D||(l&&a?{type:a}:null)),s=b;break}else{if(b==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof Ue||t.selection instanceof Bn)&&d.deleteSelection();let f=d.mapping.map(i.pos),w=yo(d.doc,f,o.length,o);if(w||(o[0]=a?{type:a}:null,w=yo(d.doc,f,o.length,o)),!w)return!1;if(d.split(f,o.length,o),!l&&c&&i.node(s).type!=a){let b=d.mapping.map(i.before(s)),_=d.doc.resolve(b);a&&i.node(s-1).canReplaceWith(_.index(),_.index()+1,a)&&d.setNodeMarkup(d.mapping.map(i.before(s)),a)}return e&&e(d.scrollIntoView()),!0}}var Zv=H6();var W6=(n,t)=>(t&&t(n.tr.setSelection(new Bn(n.doc))),!0);function q6(n,t,e){let i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&t.parent.canReplace(o-1,o)?(e&&e(n.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||hs(n.doc,t.pos))?!1:(e&&e(n.tr.join(t.pos).scrollIntoView()),!0)}function QI(n,t,e,i){let r=t.nodeBefore,o=t.nodeAfter,s,a,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&q6(n,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(e){let b=t.pos+o.nodeSize,_=$.empty;for(let A=s.length-1;A>=0;A--)_=$.from(s[A].create(null,_));_=$.from(r.copy(_));let D=n.tr.step(new Nt(t.pos-1,b,t.pos,b,new H(_,1,0),s.length,!0)),S=D.doc.resolve(b+2*s.length);S.nodeAfter&&S.nodeAfter.type==r.type&&hs(D.doc,S.pos)&&D.join(S.pos),e(D.scrollIntoView())}return!0}let d=o.type.spec.isolating||i>0&&l?null:Ee.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),w=f&&ps(f);if(w!=null&&w>=t.depth)return e&&e(n.tr.lift(f,w).scrollIntoView()),!0;if(c&&La(o,"start",!0)&&La(r,"end")){let b=r,_=[];for(;_.push(b),!b.isTextblock;)b=b.lastChild;let D=o,S=1;for(;!D.isTextblock;D=D.firstChild)S++;if(b.canReplace(b.childCount,b.childCount,D.content)){if(e){let A=$.empty;for(let z=_.length-1;z>=0;z--)A=$.from(_[z].copy(A));let G=n.tr.step(new Nt(t.pos-_.length,t.pos+o.nodeSize,t.pos+S,t.pos+o.nodeSize-S,new H(A,_.length,0),0,!0));e(G.scrollIntoView())}return!0}}return!1}function YI(n){return function(t,e){let i=t.selection,r=n<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(Ue.create(t.doc,n<0?r.start(o):r.end(o)))),!0):!1}}var G6=YI(-1),K6=YI(1);function ZI(n,t=null){return function(e,i){let{$from:r,$to:o}=e.selection,s=r.blockRange(o),a=s&&Ma(s,n,t);return a?(i&&i(e.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Fp(n,t=null){return function(e,i){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:a}}=e.selection.ranges[o];e.doc.nodesBetween(s,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(n,t)))if(l.type==n)r=!0;else{let d=e.doc.resolve(c),f=d.index();r=d.parent.canReplaceWith(f,f+1,n)}})}if(!r)return!1;if(i){let o=e.tr;for(let s=0;s<e.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=e.selection.ranges[s];o.setBlockType(a,l,n,t)}i(o.scrollIntoView())}return!0}}function Q6(n,t,e,i){for(let r=0;r<t.length;r++){let{$from:o,$to:s}=t[r],a=o.depth==0?n.inlineContent&&n.type.allowsMarkType(e):!1;if(n.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!i&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(e)}),a)return!0}return!1}function Y6(n){let t=[];for(let e=0;e<n.length;e++){let{$from:i,$to:r}=n[e];i.doc.nodesBetween(i.pos,r.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=i.pos&&s+o.nodeSize<=r.pos)return s+1>i.pos&&t.push(new Ta(i,i.doc.resolve(s+1))),i=i.doc.resolve(s+1+o.content.size),!1}),i.pos<r.pos&&t.push(new Ta(i,r))}return t}function Ds(n,t=null,e){let i=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1,o=!(e&&e.includeWhitespace);return function(s,a){let{empty:l,$cursor:c,ranges:d}=s.selection;if(l&&!c||!Q6(s.doc,d,n,r))return!1;if(a)if(c)n.isInSet(s.storedMarks||c.marks())?a(s.tr.removeStoredMark(n)):a(s.tr.addStoredMark(n.create(t)));else{let f,w=s.tr;r||(d=Y6(d)),i?f=!d.some(b=>s.doc.rangeHasMark(b.$from.pos,b.$to.pos,n)):f=!d.every(b=>{let _=!1;return w.doc.nodesBetween(b.$from.pos,b.$to.pos,(D,S,A)=>{if(_)return!1;_=!n.isInSet(D.marks)&&!!A&&A.type.allowsMarkType(n)&&!(D.isText&&/^\s*$/.test(D.textBetween(Math.max(0,b.$from.pos-S),Math.min(D.nodeSize,b.$to.pos-S))))}),!_});for(let b=0;b<d.length;b++){let{$from:_,$to:D}=d[b];if(!f)w.removeMark(_.pos,D.pos,n);else{let S=_.pos,A=D.pos,G=_.nodeAfter,z=D.nodeBefore,oe=o&&G&&G.isText?/^\s*/.exec(G.text)[0].length:0,Te=o&&z&&z.isText?/\s*$/.exec(z.text)[0].length:0;S+oe<A&&(S+=oe,A-=Te),w.addMark(S,A,n.create(t))}}a(w.scrollIntoView())}return!0}}function Va(...n){return function(t,e,i){for(let r=0;r<n.length;r++)if(n[r](t,e,i))return!0;return!1}}var Wv=Va(WI,B6,j6),HI=Va(WI,z6,U6),Ar={Enter:Va(qv,Qv,Yv,Zv),"Mod-Enter":Kv,Backspace:Wv,"Mod-Backspace":Wv,"Shift-Backspace":Wv,Delete:HI,"Mod-Delete":HI,"Mod-a":W6},JI={"Ctrl-h":Ar.Backspace,"Alt-Backspace":Ar["Mod-Backspace"],"Ctrl-d":Ar.Delete,"Ctrl-Alt-Backspace":Ar["Mod-Delete"],"Alt-Delete":Ar["Mod-Delete"],"Alt-d":Ar["Mod-Delete"],"Ctrl-a":G6,"Ctrl-e":K6};for(let n in Ar)JI[n]=Ar[n];var Z6=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,XI=Z6?JI:Ar;var li=class{constructor(t,e,i={}){this.match=t,this.match=t,this.handler=typeof e=="string"?J6(e):e,this.undoable=i.undoable!==!1,this.inCode=i.inCode||!1,this.inCodeMark=i.inCodeMark!==!1}};function J6(n){return function(t,e,i,r){let o=n;if(e[1]){let s=e[0].lastIndexOf(e[1]);o+=e[0].slice(s+e[1].length),i+=s;let a=i-r;a>0&&(o=e[0].slice(s-a,s)+o,i=r)}return t.tr.insertText(o,i,r)}}var X6=500;function tT({rules:n}){let t=new Kt({state:{init(){return null},apply(e,i){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:i)}},props:{handleTextInput(e,i,r,o){return eT(e,i,r,o,n,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:i}=e.state.selection;i&&eT(e,i.pos,i.pos,"",n,t)})}}},isInputRules:!0});return t}function eT(n,t,e,i,r,o){if(n.composing)return!1;let s=n.state,a=s.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-X6),a.parentOffset,null,"\uFFFC")+i;for(let c=0;c<r.length;c++){let d=r[c];if(!d.inCodeMark&&a.marks().some(_=>_.type.spec.code))continue;if(a.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let f=d.match.exec(l);if(!f||f[0].length<i.length)continue;let w=t-(f[0].length-i.length);if(!d.inCodeMark){let _=!1;if(s.doc.nodesBetween(w,a.pos,D=>{D.isInline&&D.marks.some(S=>S.type.spec.code)&&(_=!0)}),_)continue}let b=d.handler(s,f,w,e);if(b)return d.undoable&&b.setMeta(o,{transform:b,from:t,to:e,text:i}),n.dispatch(b),!0}return!1}var nT=new li(/--$/,"\u2014",{inCodeMark:!1}),iT=new li(/\.\.\.$/,"\u2026",{inCodeMark:!1}),ez=new li(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),tz=new li(/"$/,"\u201D",{inCodeMark:!1}),nz=new li(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),iz=new li(/'$/,"\u2019",{inCodeMark:!1}),rT=[ez,tz,nz,iz];function Lp(n,t,e=null,i){return new li(n,(r,o,s,a)=>{let l=e instanceof Function?e(o):e,c=r.tr.delete(s,a),d=c.doc.resolve(s),f=d.blockRange(),w=f&&Ma(f,t,l);if(!w)return null;c.wrap(f,w);let b=c.doc.resolve(s-1).nodeBefore;return b&&b.type==t&&hs(c.doc,s-1)&&(!i||i(o,b))&&c.join(s-1),c})}function Jv(n,t,e=null){return new li(n,(i,r,o,s)=>{let a=i.doc.resolve(o),l=e instanceof Function?e(r):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?i.tr.delete(o,s).setBlockType(o,o,t,l):null})}var Vp=(n,t)=>{let{from:e,$from:i,to:r,empty:o}=n.selection;return o?!!t.isInSet(n.storedMarks||i.marks()):n.doc.rangeHasMark(e,r,t)},rz=(n,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===n)return t.node(e).type;return null},Xv=(n,t,e={})=>{let{selection:i}=n,{$from:r,to:o}=i,s=rz(t,r);return!Object.entries(e).length||!s?!!s:o<=r.end()&&r.parent.hasMarkup(t,e)},oT=n=>{let t=[],{selection:e,storedMarks:i}=n,{from:r,to:o,empty:s,$from:a}=e;return s?t=i||a.marks():n.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},eb=n=>{let t=[],{selection:{from:e,to:i}}=n;return n.doc.nodesBetween(e,i,r=>{t.push(r)}),t},tb=(n,t,e)=>{for(let i of t){let{$from:r,$to:o}=i,s=r.depth===0?n.type.allowsMarkType(e):!1;if(n.nodesBetween(r.pos,o.pos,a=>s?!1:(s=a.inlineContent&&a.type.allowsMarkType(e),!0)),s)return!0}return!1},nb=(n,t,e)=>new li(n,(i,r,o,s)=>{let{tr:a}=i,l=o,c=s,[d,,f]=r,w=d.search(/\S/);if(f){let b=o+d.indexOf(f),_=b+f.length;_<s&&a.delete(_,s),b>o&&a.delete(o+w,b),c=o+f.length+w}return a.addMark(l,c,t.create(e)),a.removeStoredMark(t),a}),sT=(n,t)=>{let{$from:e}=n.selection;for(let i=e.depth;i>=0;i-=1){let r=e.index(i);if(e.node(i).canReplaceWith(r,r,t))return!0}return!1};var aT=()=>(n,t)=>{let{doc:e,selection:i,tr:r,schema:o}=n,{$head:{pos:s},from:a,to:l}=i,c=o.marks.link;if(a===l){let d=e.resolve(s),f=s-d.textOffset,w=f+d.parent.child(d.index()).nodeSize;r.removeMark(f,w,c)}else r.removeMark(a,l,c);return r.docChanged?(t?.(r),!0):!1},ib=(n,t={})=>(e,i)=>{let{tr:r,selection:o}=e,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof Ue){let{$cursor:d}=o;if(!d||!tb(e.doc,a,n)||(r.addStoredMark(n.create(t)),!r.storedMarksSet))return!1;i?.(r)}else{if(r.addMark(l.pos,c.pos,n.create(t)),!r.docChanged)return!1;i?.(r.scrollIntoView())}return!0},lT=n=>(t,e)=>{let{tr:i,selection:r,storedMarks:o,doc:s}=t,{empty:a,ranges:l}=r;if(a&&r instanceof Ue){let{$cursor:c}=r;if(!c||!tb(t.doc,l,n))return!1;if(n.isInSet(o||c.marks()))return i.removeStoredMark(n),e?.(i),!0}else{for(let c of l){let{$from:d,$to:f}=c;s.rangeHasMark(d.pos,f.pos,n)&&i.removeMark(d.pos,f.pos,n)}if(!i.docChanged)return!1;e?.(i.scrollIntoView())}return!1};var Bp=200,jt=function(){};jt.prototype.append=function(t){return t.length?(t=jt.from(t),!this.length&&t||t.length<Bp&&this.leafAppend(t)||this.length<Bp&&t.leafPrepend(this)||this.appendInner(t)):this};jt.prototype.prepend=function(t){return t.length?jt.from(t).append(this):this};jt.prototype.appendInner=function(t){return new oz(this,t)};jt.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?jt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};jt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};jt.prototype.forEach=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length),e<=i?this.forEachInner(t,e,i,0):this.forEachInvertedInner(t,e,i,0)};jt.prototype.map=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,s){return r.push(t(o,s))},e,i),r};jt.from=function(t){return t instanceof jt?t:t&&t.length?new cT(t):jt.empty};var cT=function(n){function t(i){n.call(this),this.values=i}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,s,a){for(var l=o;l<s;l++)if(r(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,a){for(var l=o-1;l>=s;l--)if(r(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Bp)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Bp)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(jt);jt.empty=new cT([]);var oz=function(n){function t(e,i){n.call(this),this.left=e,this.right=i,this.length=e.length+i.length,this.depth=Math.max(e.depth,i.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,r,o,s){var a=this.left.length;if(r<a&&this.left.forEachInner(i,r,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(i,Math.max(r-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(i,r,o,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(i,r-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(i,Math.min(r,a),o,s)===!1)return!1},t.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new t(r,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(jt),rb=jt;var sz=500,Ss=class n{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;e&&(r=this.remapping(i,this.items.length),o=r.maps.length);let s=t.tr,a,l,c=[],d=[];return this.items.forEach((f,w)=>{if(!f.step){r||(r=this.remapping(i,w+1),o=r.maps.length),o--,d.push(f);return}if(r){d.push(new qi(f.map));let b=f.step.map(r.slice(o)),_;b&&s.maybeStep(b).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],c.push(new qi(_,void 0,void 0,c.length+d.length))),o--,_&&r.appendMap(_,o)}else s.maybeStep(f.step);if(f.selection)return a=r?f.selection.map(r.slice(o)):f.selection,l=new n(this.items.slice(0,i).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,e,i,r){let o=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let d=0;d<t.steps.length;d++){let f=t.steps[d].invert(t.docs[d]),w=new qi(t.mapping.maps[d],f,e),b;(b=l&&l.merge(w))&&(w=b,d?o.pop():a=a.slice(0,a.length-1)),o.push(w),e&&(s++,e=void 0),r||(l=w)}let c=s-i.depth;return c>lz&&(a=az(a,c),s-=c),new n(a.append(o),s)}remapping(t,e){let i=new fc;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,s)},t,e),i}addMaps(t){return this.eventCount==0?this:new n(this.items.append(t.map(e=>new qi(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-e),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(w=>{w.selection&&a--},r);let l=e;this.items.forEach(w=>{let b=o.getMirror(--l);if(b==null)return;s=Math.min(s,b);let _=o.maps[b];if(w.step){let D=t.steps[b].invert(t.docs[b]),S=w.selection&&w.selection.map(o.slice(l+1,b));S&&a++,i.push(new qi(_,D,S))}else i.push(new qi(_))},r);let c=[];for(let w=e;w<s;w++)c.push(new qi(o.maps[w]));let d=this.items.slice(0,r).append(c).append(i),f=new n(d,a);return f.emptyItemCount()>sz&&(f=f.compress(this.items.length-i.length)),f}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),i=e.maps.length,r=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)r.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(e.slice(i)),c=l&&l.getMap();if(i--,c&&e.appendMap(c,i),l){let d=s.selection&&s.selection.map(e.slice(i));d&&o++;let f=new qi(c.invert(),l,d),w,b=r.length-1;(w=r.length&&r[b].merge(f))?r[b]=w:r.push(f)}}else s.map&&i--},this.items.length,0),new n(rb.from(r.reverse()),o)}};Ss.empty=new Ss(rb.empty,0);function az(n,t){let e;return n.forEach((i,r)=>{if(i.selection&&t--==0)return e=r,!1}),n.slice(e)}var qi=class n{constructor(t,e,i,r){this.map=t,this.step=e,this.selection=i,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new n(e.getMap().invert(),e,this.selection)}}},Gi=class{constructor(t,e,i,r,o){this.done=t,this.undone=e,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}},lz=20;function cz(n,t,e,i){let r=e.getMeta(Es),o;if(r)return r.historyState;e.getMeta(fz)&&(n=new Gi(n.done,n.undone,null,0,-1));let s=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(s&&s.getMeta(Es))return s.getMeta(Es).redo?new Gi(n.done.addTransform(e,void 0,i,jp(t)),n.undone,uT(e.mapping.maps),n.prevTime,n.prevComposition):new Gi(n.done,n.undone.addTransform(e,void 0,i,jp(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=e.getMeta("composition"),l=n.prevTime==0||!s&&n.prevComposition!=a&&(n.prevTime<(e.time||0)-i.newGroupDelay||!uz(e,n.prevRanges)),c=s?ob(n.prevRanges,e.mapping):uT(e.mapping.maps);return new Gi(n.done.addTransform(e,l?t.selection.getBookmark():void 0,i,jp(t)),Ss.empty,c,e.time,a??n.prevComposition)}else return(o=e.getMeta("rebased"))?new Gi(n.done.rebased(e,o),n.undone.rebased(e,o),ob(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new Gi(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),ob(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function uz(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<t.length;o+=2)i<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function uT(n){let t=[];for(let e=n.length-1;e>=0&&t.length==0;e--)n[e].forEach((i,r,o,s)=>t.push(o,s));return t}function ob(n,t){if(!n)return null;let e=[];for(let i=0;i<n.length;i+=2){let r=t.map(n[i],1),o=t.map(n[i+1],-1);r<=o&&e.push(r,o)}return e}function dz(n,t,e){let i=jp(t),r=Es.get(t).spec.config,o=(e?n.undone:n.done).popEvent(t,i);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(e?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),r,i),l=new Gi(e?a:o.remaining,e?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Es,{redo:e,historyState:l})}var sb=!1,dT=null;function jp(n){let t=n.plugins;if(dT!=t){sb=!1,dT=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){sb=!0;break}}return sb}var Es=new jn("history"),fz=new jn("closeHistory");function fT(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Kt({key:Es,state:{init(){return new Gi(Ss.empty,Ss.empty,null,0,-1)},apply(t,e,i){return cz(e,i,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let i=e.inputType,r=i=="historyUndo"?zp:i=="historyRedo"?Sc:null;return!r||!t.editable?!1:(e.preventDefault(),r(t.state,t.dispatch))}}}})}function $p(n,t){return(e,i)=>{let r=Es.getState(e);if(!r||(n?r.undone:r.done).eventCount==0)return!1;if(i){let o=dz(r,e,n);o&&i(t?o.scrollIntoView():o)}return!0}}var zp=$p(!1,!0),Sc=$p(!0,!0),Zee=$p(!1,!1),Jee=$p(!0,!1);var kr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Hp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pz=typeof navigator<"u"&&/Mac/.test(navigator.platform),hz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(xt=0;xt<10;xt++)kr[48+xt]=kr[96+xt]=String(xt);var xt;for(xt=1;xt<=24;xt++)kr[xt+111]="F"+xt;var xt;for(xt=65;xt<=90;xt++)kr[xt]=String.fromCharCode(xt+32),Hp[xt]=String.fromCharCode(xt);var xt;for(Up in kr)Hp.hasOwnProperty(Up)||(Hp[Up]=kr[Up]);var Up;function pT(n){var t=pz&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||hz&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?Hp:kr)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var mz=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),gz=typeof navigator<"u"&&/Win/.test(navigator.platform);function yz(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let i,r,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))mz?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(e="Alt-"+e),r&&(e="Ctrl-"+e),s&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function vz(n){let t=Object.create(null);for(let e in n)t[yz(e)]=n[e];return t}function ab(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function Mc(n){return new Kt({props:{handleKeyDown:bz(n)}})}function bz(n){let t=vz(n);return function(e,i){let r=pT(i),o,s=t[ab(r,i)];if(s&&s(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=t[ab(r,i,!1)];if(a&&a(e.state,e.dispatch,e))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(gz&&i.ctrlKey&&i.altKey)&&(o=kr[i.keyCode])&&o!=r){let a=t[ab(o,i)];if(a&&a(e.state,e.dispatch,e))return!0}}return!1}}var wz=["imgEl"],_z=n=>({"NgxEditor__Resizer--Active":n});function Cz(n,t){if(n&1){let e=J();h(0,"span",4)(1,"span",5),N("mousedown",function(r){P(e);let o=E();return R(o.startResizing(r,"left"))}),p(),h(2,"span",6),N("mousedown",function(r){P(e);let o=E();return R(o.startResizing(r,"right"))}),p(),h(3,"span",7),N("mousedown",function(r){P(e);let o=E();return R(o.startResizing(r,"left"))}),p(),h(4,"span",8),N("mousedown",function(r){P(e);let o=E();return R(o.startResizing(r,"right"))}),p()()}}var xz=["ngxEditor"],Dz=["*"];function Ez(n,t){if(n&1&&(h(0,"div",12),g(1),ce(2,"async"),p()),n&2){let e=E(2);y(),X(" ",Pe(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function Sz(n,t){if(n&1&&(h(0,"div",12),g(1),p()),n&2){let e=E(2);y(),X(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function Mz(n,t){if(n&1&&(h(0,"div",4)(1,"div",5)(2,"label"),M(3,"input",13),g(4),ce(5,"async"),p()()()),n&2){let e=E(2);y(4),X(" ",Pe(5,1,e.getLabel("openInNewTab"))," ")}}function Iz(n,t){if(n&1){let e=J();h(0,"div",2)(1,"form",3),N("ngSubmit",function(r){P(e);let o=E();return R(o.insertLink(r))}),h(2,"div",4)(3,"div",5)(4,"label",6),g(5),ce(6,"async"),p(),M(7,"input",7),k(8,Ez,3,3,"div",8),p()(),h(9,"div",4)(10,"div",5)(11,"label",6),g(12),ce(13,"async"),p(),M(14,"input",9),k(15,Sz,2,1,"div",8),p()(),k(16,Mz,6,3,"div",10),h(17,"button",11),g(18),ce(19,"async"),p()()()}if(n&2){let e=E();y(),C("formGroup",e.form),y(3),C("htmlFor",e.getId("link-popup-url")),y(),O(Pe(6,12,e.getLabel("url"))),y(2),C("id",e.getId("link-popup-url")),y(),C("ngIf",e.href.touched&&e.href.invalid),y(3),C("htmlFor",e.getId("link-popup-label")),y(),O(Pe(13,14,e.getLabel("text"))),y(2),C("id",e.getId("link-popup-label")),y(),C("ngIf",e.text.touched&&e.text.invalid),y(),C("ngIf",e.options.showOpenInNewTab),y(),C("disabled",!e.form.valid),y(),O(Pe(19,16,e.getLabel("insert")))}}var Tz=(n,t)=>({"NgxEditor__Dropdown--Active":n,"NgxEditor--Disabled":t});function Az(n,t){if(n&1){let e=J();h(0,"button",4),ce(1,"async"),N("mousedown",function(r){let o=P(e).$implicit,s=E(2);return R(s.onDropdownItemMouseClick(r,o))})("keydown.enter",function(r){let o=P(e).$implicit,s=E(2);return R(s.onDropdownItemKeydown(r,o))})("keydown.space",function(r){let o=P(e).$implicit,s=E(2);return R(s.onDropdownItemKeydown(r,o))}),g(2),ce(3,"async"),p()}if(n&2){let e=t.$implicit,i=E(2);C("ngClass",ef(8,Tz,e===i.activeItem,i.disabledItems.includes(e)))("ariaLabel",Pe(1,4,i.getName(e))),to("aria-selected",e===i.activeItem),y(2),X(" ",Pe(3,6,i.getName(e))," ")}}function kz(n,t){if(n&1&&(h(0,"div",2),k(1,Az,4,11,"button",3),p()),n&2){let e=E();y(),C("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function Nz(n,t){if(n&1&&(h(0,"div",12),g(1),ce(2,"async"),p()),n&2){let e=E(2);y(),X(" ",Pe(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function Oz(n,t){if(n&1){let e=J();h(0,"div",2)(1,"form",3),N("ngSubmit",function(r){P(e);let o=E();return R(o.insertLink(r))}),h(2,"div",4)(3,"div",5)(4,"label",6),g(5),ce(6,"async"),p(),M(7,"input",7),k(8,Nz,3,3,"div",8),p()(),h(9,"div",4)(10,"div",5)(11,"label",6),g(12),ce(13,"async"),p(),M(14,"input",9),p()(),h(15,"div",4)(16,"div",5)(17,"label",6),g(18),ce(19,"async"),p(),M(20,"input",10),p()(),h(21,"button",11),g(22),ce(23,"async"),p()()()}if(n&2){let e=E();y(),C("formGroup",e.form),y(3),C("htmlFor",e.getId("image-popup-url")),y(),O(Pe(6,13,e.getLabel("url"))),y(2),C("id",e.getId("image-popup-url")),y(),C("ngIf",e.src.touched&&e.src.invalid),y(3),C("htmlFor",e.getId("image-popup-label")),y(),O(Pe(13,15,e.getLabel("altText"))),y(2),C("id",e.getId("image-popup-label")),y(3),C("htmlFor",e.getId("image-popup-title")),y(),O(Pe(19,17,e.getLabel("title"))),y(2),C("id",e.getId("image-popup-title")),y(),C("disabled",!e.form.valid||!e.form.dirty),y(),O(Pe(23,19,e.getLabel("insert")))}}var Pz=(n,t)=>({backgroundColor:n,color:t}),Rz=n=>({"NgxEditor__Color--Active":n});function Fz(n,t){if(n&1){let e=J();h(0,"button",7),N("mousedown",function(r){let o=P(e).$implicit,s=E(3);return R(s.onColorSelectMouseClick(r,o))})("keydown.enter",function(){let r=P(e).$implicit,o=E(3);return R(o.onColorSelectKeydown(r))})("keydown.space",function(){let r=P(e).$implicit,o=E(3);return R(o.onColorSelectKeydown(r))}),p()}if(n&2){let e=t.$implicit,i=E(3);C("ngStyle",ef(3,Pz,e,i.getContrastYIQ(e)))("title",e)("ngClass",ro(6,Rz,i.activeColors.includes(e)))}}function Lz(n,t){if(n&1&&(h(0,"div",5),k(1,Fz,1,8,"button",6),p()),n&2){let e=t.$implicit,i=E(2);y(),C("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function Vz(n,t){if(n&1){let e=J();h(0,"div",2),k(1,Lz,2,2,"div",3),h(2,"button",4),N("mousedown",function(r){P(e);let o=E();return R(o.onRemoveMouseClick(r))})("keydown.enter",function(){P(e);let r=E();return R(r.onRemoveKeydown())})("keydown.space",function(){P(e);let r=E();return R(r.onRemoveKeydown())}),g(3),ce(4,"async"),p()()}if(n&2){let e=E();y(),C("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),y(),C("disabled",!e.isActive),y(),X(" ",Pe(4,4,e.getLabel("remove"))," ")}}var Bz=(n,t)=>({"NgxEditor--Disabled":n,"NgxEditor__MenuBar--Reverse":t});function jz(n,t){if(n&1&&M(0,"ngx-toggle-command",7),n&2){let e=E().$implicit,i=E(2);Qe(i.iconContainerClass),C("toolbarItem",e)}}function $z(n,t){if(n&1&&M(0,"ngx-insert-command",7),n&2){let e=E().$implicit,i=E(2);Qe(i.iconContainerClass),C("toolbarItem",e)}}function zz(n,t){if(n&1&&(no(0),M(1,"ngx-link",8),io()),n&2){let e=E().$implicit,i=E(2);y(),Qe(i.iconContainerClass),C("options",i.getLinkOptions(e))}}function Uz(n,t){if(n&1&&M(0,"ngx-image"),n&2){let e=E(3);Qe(e.iconContainerClass)}}function Hz(n,t){if(n&1&&M(0,"ngx-dropdown",10),n&2){let e=t.$implicit,i=E(4);Qe(i.dropdownContainerClass),C("group",e.key)("items",e.value)}}function Wz(n,t){if(n&1&&(no(0),k(1,Hz,1,4,"ngx-dropdown",9),ce(2,"keyvalue"),io()),n&2){let e=E().$implicit,i=E(2);y(),C("ngForOf",Pe(2,2,i.getDropdownItems(e)))("ngForTrackBy",i.trackByIndex)}}function qz(n,t){if(n&1&&M(0,"ngx-color-picker",11),n&2){let e=E(3);Qe(e.iconContainerClass),C("presets",e.presets)}}function Gz(n,t){if(n&1&&M(0,"ngx-color-picker",12),n&2){let e=E(3);Qe(e.iconContainerClass),C("presets",e.presets)}}function Kz(n,t){if(n&1&&M(0,"div"),n&2){let e=E(3);Qe(e.seperatorClass)}}function Qz(n,t){if(n&1&&(no(0),k(1,jz,1,3,"ngx-toggle-command",3)(2,$z,1,3,"ngx-insert-command",3)(3,zz,2,3,"ng-container",2)(4,Uz,1,2,"ngx-image",4)(5,Wz,3,4,"ng-container",2)(6,qz,1,3,"ngx-color-picker",5)(7,Gz,1,3,"ngx-color-picker",6)(8,Kz,1,2,"div",4),io()),n&2){let e=t.$implicit,i=t.last,r=E().last,o=E();y(),C("ngIf",o.toggleCommands.includes(e)),y(),C("ngIf",o.insertCommands.includes(e)),y(),C("ngIf",o.isLinkItem(e)),y(),C("ngIf",e==="image"),y(),C("ngIf",o.isDropDown(e)),y(),C("ngIf",e==="text_color"),y(),C("ngIf",e==="background_color"),y(),C("ngIf",i&&!r)}}function Yz(n,t){if(n&1&&(no(0),k(1,Qz,9,8,"ng-container",1),io()),n&2){let e=t.$implicit,i=E();y(),C("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function Zz(n,t){if(n&1&&(no(0),f0(1,13),io()),n&2){let e=E();y(),C("ngTemplateOutlet",e.customMenuRef)}}var Jz=(n=!0)=>new Kt({key:new jn("editable"),state:{init(){return n},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),Xz="NgxEditor__Placeholder",e8=n=>new Kt({key:new jn("placeholder"),state:{init(){return n??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:i,childCount:r}=e,o=this.getState(t);if(!o||r>1)return cn.empty;let s=[],a=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&i.length===0){let d=c,f=c+l.nodeSize,w=Wi.node(d,f,{class:Xz,"data-placeholder":o,"data-align":l.attrs.align??null});s.push(w)}return!1};return e.descendants(a),cn.create(e,s)}}}),t8=(n={})=>new Kt({key:new jn("attributes"),props:{attributes:n}}),n8=n=>new Kt({key:new jn("focus"),props:{handleDOMEvents:{focus:()=>(n(),!1)}}}),i8=n=>new Kt({key:new jn("blur"),props:{handleDOMEvents:{blur:()=>(n(),!1)}}}),r8=(()=>{class n{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new Ke;imgEl;startResizing(e,i){e.preventDefault(),this.resizeImage(e,i)}resizeImage(e,i){let r=e.pageX,o=this.imgEl.nativeElement.clientWidth,s=i==="left",{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=f=>{let b=f.pageX-r,_=s?o-b:o+b;_>l||_<20||(this.outerWidth=`${_}px`)},d=f=>{f.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ngx-image-view"]],viewQuery:function(i,r){if(i&1&&p0(wz,7),i&2){let o;Nl(o=Ol())&&(r.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(i,r){i&1&&(h(0,"span",1),k(1,Cz,5,0,"span",2),M(2,"img",3,0),p()),i&2&&(At("width",r.outerWidth),C("ngClass",ro(7,_z,r.selected)),y(),C("ngIf",r.selected),y(),C("src",r.src,Gg)("alt",r.alt)("title",r.title))},dependencies:[Zo,ge],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return n})(),lb=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(t,e,i,r){this.applicationRef=r.get(bi),this.imageComponentRef=AD(r8,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=i,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}handleResize=()=>{if(this.updating)return;let{state:t,dispatch:e}=this.view,{tr:i}=t,r=i.setNodeMarkup(this.getPos(),void 0,ae(F({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=r.doc.resolve(this.getPos()),s=new se(o);r.setSelection(s),e(r)};update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},o8=n=>new Kt({key:new jn("image-resize"),props:{nodeViews:{image:(t,e,i)=>new lb(t,e,i,n)}}}),s8=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,xT=n=>{let t=[];return n.forEach(e=>{if(e.isText){let i=e.text,r=0,o=s8.exec(i);if(o){let s=o.index,a=s+o[0].length,{link:l}=e.type.schema.marks;s>0&&t.push(e.cut(r,s));let c=i.slice(s,a);t.push(e.cut(s,a).mark(l.create({href:c}).addToSet(e.marks))),r=a}r<i.length&&t.push(e.cut(r))}else t.push(e.copy(xT(e.content)))}),$.fromArray(t)},a8=()=>new Kt({key:new jn("linkify"),props:{transformPasted:n=>new H(xT(n.content),n.openStart,n.openEnd)}}),DT=n=>typeof n=="string",l8=()=>window.trustedTypes,ET=n=>l8()?.isHTML(n)??!1,ST=n=>DT(n)||ET(n),MT={type:"doc",content:[{type:"paragraph"}]},c8=(n,t)=>{let e=t??Ec,i=e.nodeFromJSON(n),r=Dr.fromSchema(e).serializeFragment(i.content),o=document.createElement("div");return o.appendChild(r),o.innerHTML},u8=(n,t,e)=>{let i=t??Ec,r=document.createElement("div");return r.innerHTML=n,go.fromSchema(i).parse(r,e).toJSON()},hT=(n,t,e)=>{if(!n)return t.nodeFromJSON(MT);if(!ST(n))return t.nodeFromJSON(n);let i=u8(n,t,e);return t.nodeFromJSON(i)},Kp=(()=>{class n{renderer;injector;elementRef;constructor(e,i,r){this.renderer=e,this.injector=i,this.elementRef=r}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new Ke;focusIn=new Ke;unsubscribe=new tt;onChange=()=>{};onTouched=()=>{};writeValue(e){!this.outputFormat&&ST(e)&&(this.outputFormat="html"),this.editor.setContent(e??MT)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let i=c8(e,this.editor.schema);this.onChange(i);return}this.onChange(e)}setMeta(e,i){let{dispatch:r,state:{tr:o}}=this.editor.view;r(o.setMeta(e,i))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(Jz()),this.editor.registerPlugin(e8(this.placeholder)),this.editor.registerPlugin(t8({class:"NgxEditor__Content"})),this.editor.registerPlugin(n8(()=>{this.focusIn.emit()})),this.editor.registerPlugin(i8(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(o8(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(a8())}ngOnInit(){if(!this.editor)throw new xa("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(ml(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(i){return new(i||n)(I(Cn),I(rn),I(ct))};static \u0275cmp=ie({type:n,selectors:[["ngx-editor"]],viewQuery:function(i,r){if(i&1&&p0(xz,7),i&2){let o;Nl(o=Ol())&&(r.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[on([{provide:xr,useExisting:Ht(()=>n),multi:!0}]),_n],ngContentSelectors:Dz,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(i,r){i&1&&(yD(),h(0,"div",1,0),vD(2),p())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return n})(),Do=(()=>{class n{editor;customMenuRefChange=new tt;setCustomMenuRef(e){this.customMenuRefChange.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ki=class{name;constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?ib(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?Ds(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=e.marks[this.name];return i?Vp(t,i):!1}canExecute(t){return this.toggle()(t)}},cb=class{toggle(){return(t,e)=>{let{schema:i}=t,r=i.nodes.blockquote;return r?this.isActive(t)?KI(t,e):ZI(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=e.nodes.blockquote;return i?Xv(t,i):!1}canExecute(t){return this.toggle()(t)}},ub=class{insert(){return(t,e)=>{let{schema:i,tr:r}=t,o=i.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return sT(t,t.schema.nodes.horizontal_rule)}},ja=class{isBulletList=!1;constructor(t=!1){this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:i}=t,r=this.getType(i);return r?this.isActive(t)?Uv(i.nodes.list_item)(t,e):zI(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=this.getType(e);return i?Xv(t,i):!1}canExecute(t){return this.toggle()(t)}},Nr=class{level;constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:i}=t,r=i.nodes.heading;return r?Fp(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:i,selection:r,doc:o}=t,s=i.nodes.heading;if(!s)return!1;let a=r.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(t)?Fp(i.nodes.paragraph,c)(t,e):Fp(s,ae(F({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,i=eb(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!i.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},Ms=class{align;constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:i,selection:r,tr:o,schema:s}=t,{from:a,to:l}=r,c=!1;return i.nodesBetween(a,l,(d,f)=>{let w=d.type;if([s.nodes.paragraph,s.nodes.heading].includes(w)){c=!0;let b=d.attrs.align===this.align?null:this.align;o.setNodeMarkup(f,w,ae(F({},d.attrs),{align:b}))}return!0}),c?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!eb(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},d8={strict:!0},db=class{update(t){return(e,i)=>{let{schema:r,selection:o}=e,s=r.marks.link;return!s||o.empty?!1:Ds(s,t)(e,i)}}insert(t,e){return(i,r)=>{let{schema:o,tr:s}=i;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=o.text(t,[o.marks.link.create(l)]);return s.replaceSelectionWith(c,!1).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t,e=d8){if(e.strict)return!0;let{schema:i}=t,r=i.marks.link;return r?Vp(t,r):!1}remove(t,e){return aT()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},IT=class{insert(t,e){return(i,r)=>{let{schema:o,tr:s,selection:a}=i,l=o.nodes.image;if(!l)return!1;let c=F({width:null,src:t},e);!c.width&&a instanceof se&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));let d=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new se(d)).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof se?e.node.type.name==="image":!1}},Ba=class{name;attrName;constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,i)=>{let{schema:r,selection:o,doc:s}=e,a=r.marks[this.name];if(!a)return!1;let{from:l,to:c,empty:d}=o;if(!d&&l+1===c){let f=s.nodeAt(l);if(f?.isAtom&&!f.isText&&f.isLeaf)return!1}return ib(a,t)(e,i)}}isActive(t){let{schema:e}=t,i=e.marks[this.name];return i?Vp(t,i):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return oT(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?lT(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},f8=["link"],fb=class{insert(){return(t,e)=>{let{tr:i}=t,{ranges:r,empty:o}=i.selection;return o||(Object.entries(t.schema.marks).forEach(([s,a])=>{f8.includes(s)||r.forEach(l=>{i.removeMark(l.$from.pos,l.$to.pos,a)})}),e(i)),!0}}canExecute(){return!0}},p8=["paragraph","heading","blockquote"],mT=0,gT=10,h8=(n,t,e)=>{let i=n.doc.nodeAt(t);if(!i)return!1;let r=i.attrs.indent??0,o=RS(r+(e==="increase"?1:-1),mT,gT);if(o===r||o<mT||o>gT)return!1;let s=ae(F({},i.attrs),{indent:o});return n.setNodeMarkup(t,i.type,s),!0},$a=class{method="increase";constructor(t){this.method=t}insert(){return(t,e)=>{let{tr:i,doc:r}=t,{from:o,to:s}=i.selection,a=!1;return r.nodesBetween(o,s,(l,c)=>{let d=l.type;return p8.includes(d.name)?(a=h8(i,c,this.method),!1):!l.type.name.includes("list")}),a?(i.docChanged&&e?.(i),!0):!1}}canExecute(t){return this.insert()(t)}},qp=class{mode="undo";constructor(t){this.mode=t}insert(){return(t,e)=>this.mode==="undo"?zp(t,e):Sc(t,e)}canExecute(t){return this.insert()(t)}},m8=new Ki("strong"),g8=new Ki("em"),y8=new Ki("code"),v8=new Ki("u"),b8=new Ki("s"),w8=new cb,_8=new ub,C8=new fb,x8=new ja(!0),D8=new ja(!1),E8=new Nr(1),S8=new Nr(2),M8=new Nr(3),I8=new Nr(4),T8=new Nr(5),A8=new Nr(6),k8=new Ms("left"),N8=new Ms("center"),O8=new Ms("right"),P8=new Ms("justify"),R8=new db,F8=new IT,L8=new Ba("text_color","color"),V8=new Ba("text_background_color","backgroundColor"),B8=new $a("increase"),j8=new $a("decrease"),$8=new Ki("sup"),z8=new Ki("sub"),U8=new qp("undo"),H8=new qp("redo"),Gp={bold:m8,italic:g8,code:y8,underline:v8,strike:b8,blockquote:w8,bullet_list:x8,ordered_list:D8,h1:E8,h2:S8,h3:M8,h4:I8,h5:T8,h6:A8,align_left:k8,align_center:N8,align_right:O8,align_justify:P8,superscript:$8,subscript:z8},yT={horizontal_rule:_8,format_clear:C8,indent:B8,outdent:j8,undo:U8,redo:H8},Ic=R8,vT=F8,W8=L8,q8=V8,pb={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},hb=class{locals=pb;constructor(t={}){this.locals=F(F({},pb),t)}get=t=>{let e=this.locals[t];return e?pl(e)?e:te(e):te("")}},G8=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,K8=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,Q8=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,Y8=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,Z8=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,J8=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,X8=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,eU=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,tU=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,nU=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,iU=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,rU=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,oU=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,sU=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,aU=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,lU=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,cU=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,uU=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,dU=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,fU='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',pU='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',hU='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',mU='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',gU='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',yU='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',vU=20,bU=20,wU="currentColor",TT={bold:G8,italic:K8,code:Q8,underline:Y8,strike:Z8,ordered_list:J8,bullet_list:X8,blockquote:eU,link:tU,unlink:nU,image:iU,align_left:rU,align_center:oU,align_right:sU,align_justify:aU,text_color:lU,color_fill:cU,horizontal_rule:uU,format_clear:dU,indent:fU,outdent:pU,superscript:hU,subscript:mU,undo:gU,redo:yU,path:"<path></path>"},mb=class{static get(t,e=wU){let i=TT[t];return i&&(i.includes("<path")||i.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${vU}
          width=${bU}
        >
          ${i}
        </svg>
      `:i}},gb=(()=>{class n{locals={};icons={};static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Is=(()=>{class n{config;constructor(e){this.config=e}get locals(){return new hb(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:mb.get(e)}static \u0275fac=function(i){return new(i||n)(j(gb,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bT=n=>({locals:n.locals??{},icons:n.icons??{}}),Ua=(()=>{class n{sanitizer;constructor(e){this.sanitizer=e}transform(e){return ET(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(i){return new(i||n)(I(X0,16))};static \u0275pipe=Jr({name:"sanitizeHtml",type:n,pure:!0})}return n})(),_U=(()=>{class n{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(e,i){this.ngxeService=e,this.menuService=i}toggle(){let{state:e,dispatch:i}=this.editorView;Gp[this.name].toggle()(e,i)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}update=e=>{let{state:i}=e,r=Gp[this.name];this.isActive=r.isActive(i),this.disabled=!r.canExecute(i)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(I(Is),I(Do))};static \u0275cmp=ie({type:n,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,r){i&1&&(h(0,"button",0),ce(1,"sanitizeHtml"),ce(2,"async"),ce(3,"async"),N("mousedown",function(s){return r.onMouseClick(s)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),p()),i&2&&(re("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),C("disabled",r.disabled)("innerHTML",Pe(1,8,r.html),Fi)("title",Pe(2,10,r.getTitle(r.name)))("ariaLabel",Pe(3,12,r.getTitle(r.name))))},dependencies:[Jo,Ua]})}return n})(),CU=(()=>{class n{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(e,i){this.ngxeService=e,this.menuService=i}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:i}=this.editorView;yT[this.name].insert()(e,i)}update=e=>{let{state:i}=e,r=yT[this.name];this.disabled=!r.canExecute(i)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(I(Is),I(Do))};static \u0275cmp=ie({type:n,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,r){i&1&&(h(0,"button",0),ce(1,"sanitizeHtml"),ce(2,"async"),ce(3,"async"),N("mousedown",function(s){return r.onMouseClick(s)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),p()),i&2&&(re("NgxEditor--Disabled",r.disabled),C("disabled",r.disabled)("innerHTML",Pe(1,6,r.html),Fi)("title",Pe(2,8,r.getTitle(r.name)))("ariaLabel",Pe(3,10,r.getTitle(r.name))))},dependencies:[Jo,Ua]})}return n})(),wT={showOpenInNewTab:!0},xU=(()=>{class n{el;ngxeService;menuService;options=wT;showPopup=!1;isActive=!1;canExecute=!0;componentId=Wy();form;editorView;updateSubscription;constructor(e,i,r){this.el=e,this.ngxeService=i,this.menuService=r}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:i}=this.editorView;if(this.isActive){Ic.remove(e,i);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:e,doc:i}}=this.editorView,{empty:r,from:o,to:s}=e,a=r?"":i.textBetween(o,s);a&&(this.text.patchValue(a),this.text.disable())};update=e=>{let{state:i}=e;this.isActive=Ic.isActive(i,{strict:!1}),this.canExecute=Ic.canExecute(i)};insertLink(e){e.preventDefault();let{text:i,href:r,openInNewTab:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,{selection:l}=a,c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");let d={title:r,href:r,target:c};l.empty?(Ic.insert(i,d)(a,s),this.editorView.focus()):Ic.update(d)(a,s),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Cr({href:new ni("",[Me.required,Me.pattern(this.menuService.editor.linkValidationPattern)]),text:new ni("",[Me.required]),openInNewTab:new ni(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(I(ct),I(Is),I(Do))};static \u0275cmp=ie({type:n,selectors:[["ngx-link"]],hostBindings:function(i,r){i&1&&N("mousedown",function(s){return r.onDocumentClick(s)},!1,Al)},inputs:{options:[2,"options","options",e=>F(F({},wT),e)]},features:[kl],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(i,r){i&1&&(h(0,"button",0),ce(1,"sanitizeHtml"),ce(2,"async"),ce(3,"async"),N("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),p(),k(4,Iz,20,18,"div",1)),i&2&&(re("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),C("disabled",!r.canExecute)("innerHTML",Pe(1,10,r.icon),Fi)("title",Pe(2,12,r.title))("ariaLabel",Pe(3,14,r.title))("ariaExpanded",r.showPopup),y(4),C("ngIf",r.showPopup))},dependencies:[ge,ln,rt,nc,nt,an,xn,Dn,Jo,Ua]})}return n})(),DU=(()=>{class n{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(e,i,r){this.ngxeService=e,this.menuService=i,this.el=r}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let i=Gp[e],{state:r,dispatch:o}=this.editorView;i.toggle()(r,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,i){e.preventDefault(),e.button===0&&this.selectItem(i)}onDropdownItemKeydown(e,i){e.preventDefault(),this.selectItem(i)}update=e=>{let{state:i}=e;this.disabledItems=[];let r=[];this.items.forEach(o=>{let s=Gp[o];s.isActive(i)&&r.push(o),s.canExecute(i)||this.disabledItems.push(o)}),r.length===1?[this.activeItem]=r:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(I(Is),I(Do),I(ct))};static \u0275cmp=ie({type:n,selectors:[["ngx-dropdown"]],hostBindings:function(i,r){i&1&&N("mousedown",function(s){return r.onDocumentClick(s.target)},!1,Al)},inputs:{group:"group",items:"items"},decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(i,r){i&1&&(h(0,"button",0),ce(1,"async"),N("mousedown",function(s){return r.onToggleDropdownMouseClick(s)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),g(2),ce(3,"async"),p(),k(4,kz,2,2,"div",1)),i&2&&(re("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),C("disabled",r.isDropdownDisabled)("ariaLabel",Pe(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),y(2),X(" ",Pe(3,11,r.getName(r.activeItem||r.group)),`
`),y(2),C("ngIf",r.isDropdownOpen))},dependencies:[Zo,Re,ge,Jo]})}return n})(),EU=(()=>{class n{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=Wy();updateSubscription;form=new Cr({src:new ni("",[Me.required,Me.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new ni(""),title:new ni("")});editorView;constructor(e,i,r){this.el=e,this.ngxeService=i,this.menuService=r}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:i}=e;if(i instanceof se&&this.isActive){let{src:r,alt:o="",title:s=""}=i.node.attrs;this.form.setValue({src:r,alt:o,title:s})}}update=e=>{let{state:i}=e;this.isActive=vT.isActive(i)};insertLink(e){e.preventDefault();let{src:i,alt:r,title:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,l={alt:r,title:o};vT.insert(i,l)(a,s),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(I(ct),I(Is),I(Do))};static \u0275cmp=ie({type:n,selectors:[["ngx-image"]],hostBindings:function(i,r){i&1&&N("mousedown",function(s){return r.onDocumentClick(s)},!1,Al)},decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(i,r){i&1&&(h(0,"button",0),ce(1,"sanitizeHtml"),ce(2,"async"),ce(3,"async"),N("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),p(),k(4,Oz,24,21,"div",1)),i&2&&(re("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),C("innerHTML",Pe(1,7,r.icon),Fi)("title",Pe(2,9,r.getLabel("insertImage")))("ariaLabel",Pe(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),y(4),C("ngIf",r.showPopup))},dependencies:[ge,ln,rt,nt,an,xn,Dn,Jo,Ua]})}return n})(),SU=(()=>{class n{el;menuService;ngxeService;presets;type;constructor(e,i,r){this.el=e,this.menuService=i,this.ngxeService=r}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?W8:q8}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(e){let i=e.replace("#",""),r=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),s=parseInt(i.substring(4,6),16);return(r*299+o*587+s*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:i}=this.editorView;this.command.remove()(e,i),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:i,dispatch:r}=this.editorView;if(this.type==="text_color"){let o={color:e};this.command.apply(o)(i,r)}else{let o={backgroundColor:e};this.command.apply(o)(i,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,i){e.preventDefault(),e.button===0&&this.selectColor(i)}onColorSelectKeydown(e){this.selectColor(e)}update=e=>{let{state:i}=e;this.canExecute=this.command.canExecute(i),this.isActive=this.command.isActive(i),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(i))};getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(I(ct),I(Do),I(Is))};static \u0275cmp=ie({type:n,selectors:[["ngx-color-picker"]],hostBindings:function(i,r){i&1&&N("mousedown",function(s){return r.onDocumentClick(s)},!1,Al)},inputs:{presets:"presets",type:"type"},decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(i,r){i&1&&(h(0,"button",0),ce(1,"sanitizeHtml"),ce(2,"async"),ce(3,"async"),N("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),p(),k(4,Vz,5,6,"div",1)),i&2&&(re("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),C("disabled",!r.canExecute)("innerHTML",Pe(1,9,r.icon),Fi)("title",Pe(2,11,r.title))("ariaLabel",Pe(3,13,r.title)),y(4),C("ngIf",r.showPopup))},dependencies:[Zo,Re,ge,GD,Jo,Ua],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return n})();var MU=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var IU=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],Qp=(()=>{class n{menuService;toolbar=MU;colorPresets=IU;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(e){this.menuService=e}get presets(){let i=[];return this.colorPresets.forEach((r,o)=>{let s=Math.floor(o/8);i[s]||i.push([]),i[s].push(r)}),i}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new xa("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(i){return new(i||n)(I(Do))};static \u0275cmp=ie({type:n,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[on([Do])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(i,r){i&1&&(h(0,"div",0),k(1,Yz,2,2,"ng-container",1)(2,Zz,2,1,"ng-container",2),p()),i&2&&(C("ngClass",ef(4,Bz,r.disabled,r.dropdownPlacement==="top")),y(),C("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),y(),C("ngIf",r.customMenuRef))},dependencies:[Zo,Re,ge,KD,_U,CU,xU,DU,EU,SU,YD]})}return n})();var TU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=at({providers:[Ua],imports:[Rl,sp]})}return n})(),Wp=new W("NgxEditorConfig"),_T={locals:pb,icons:TT},AT=(()=>{class n{static forRoot(e=_T){return{ngModule:n,providers:[{provide:Wp,useValue:e},{provide:gb,useFactory:bT,deps:[Wp]}]}}static forChild(e=_T){return{ngModule:n,providers:[{provide:Wp,useValue:e},{provide:gb,useFactory:bT,deps:[Wp]},Is]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=at({imports:[Rl,TU]})}return n})();var In=(n,t=!1)=>(e,i)=>{let r=new Ki(n);return t?r.toggle()(e,i):r.apply()(e,i)},yb=class{view;state;tr;constructor(t){if(!t)throw new xa("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}applyTrx=t=>{this.state=this.state.apply(t??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=t=>{this.applyTrx(t)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?Ee.atStart(this.state.doc):Ee.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return Va(...[qv,Qv,Yv,Zv])(this.state,this.dispatch),this}applyMark(t){return In(t,!1)(this.state,this.dispatch),this}toggleMark(t){return In(t,!0)(this.state,this.dispatch),this}bold(){return In("strong")(this.state,this.dispatch),this}toggleBold(){return In("strong",!0)(this.state,this.dispatch),this}italics(){return In("em")(this.state,this.dispatch),this}toggleItalics(){return In("em",!0)(this.state,this.dispatch),this}underline(){return In("u")(this.state,this.dispatch),this}toggleUnderline(){return In("u",!0)(this.state,this.dispatch),this}strike(){return In("s")(this.state,this.dispatch),this}toggleStrike(){return In("s",!0)(this.state,this.dispatch),this}code(){return In("code")(this.state,this.dispatch),this}toggleCode(){return In("code",!0)(this.state,this.dispatch),this}superscript(){return In("sup")(this.state,this.dispatch),this}subscript(){return In("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new ja(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new ja(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new Nr(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new db().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new db().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new IT().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new Ba("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new Ba("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new Ba("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new Ba("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new Ms(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:i,tr:r}=this.state,{from:o,to:s}=e,a=document.createElement("div");a.innerHTML=DT(t)?t.trim():t;let l=go.fromSchema(i).parseSlice(a),c=r.replaceRange(o,s,l);return this.applyTrx(c),this}indent(){return new $a("increase").insert()(this.state,this.dispatch),this}outdent(){return new $a("decrease").insert()(this.state,this.dispatch),this}},AU=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,kU=n=>Lp(/^\s*>\s$/,n),NU=n=>Lp(/^(?:\d+)\.\s$/,n,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),OU=n=>Lp(/^\s*(?:[-+*])\s$/,n),PU=n=>Jv(/^```$/,n),RU=(n,t)=>Jv(new RegExp(`^(#{1,${t}})\\s$`),n,e=>({level:e[1].length})),FU=n=>nb(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,n),LU=n=>nb(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,n),VU=n=>{let t=rT.concat(iT,nT);return t.push(FU(n.marks.strong)),t.push(LU(n.marks.em)),t.push(kU(n.nodes.blockquote)),t.push(NU(n.nodes.ordered_list)),t.push(OU(n.nodes.bullet_list)),t.push(PU(n.nodes.code_block)),t.push(RU(n.nodes.heading,6)),tT({rules:t})},BU=(n,t)=>{let e={};e["Mod-z"]=zp,AU?e["Shift-Mod-z"]=Sc:e["Mod-y"]=Sc;let i=[Mc({"Mod-b":Ds(n.marks.strong),"Mod-i":Ds(n.marks.em),"Mod-u":Ds(n.marks.u),"Mod-`":Ds(n.marks.code)}),Mc({Enter:UI(n.nodes.list_item),"Shift-Enter":Va(Kv,(r,o)=>{let{tr:s}=r,a=n.nodes.hard_break;return o(s.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":Uv(n.nodes.list_item),"Mod-]":Hv(n.nodes.list_item),Tab:Hv(n.nodes.list_item)}),Mc(XI)];return t.history&&i.push(Mc(e)),i},jU=(n,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...BU(n,{history:t.history})),t.history&&e.push(fT()),t.inputRules&&e.push(VU(n)),e},kT={linkOnPaste:!0,resizeImage:!0},CT={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Ec,plugins:[],nodeViews:{},attributes:{},features:kT,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},za=class{options;view;constructor(t=CT){this.options=F(F({},CT),t),this.createEditor()}valueChangesSubject=new tt;updateSubject=new tt;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Ec}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new yb(this.view)}get features(){return F(F({},kT),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let i=e.doc.toJSON();this.valueChangesSubject.next(i)}createEditor(){let{options:t,schema:e}=this,{content:i=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=t,l=hT(i,e,t.parseOptions),c=t.plugins??[],d=t.attributes??{},f=jU(e,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new Cc(null,{state:xp.create({doc:l,schema:e,plugins:[...f,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:d,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(PS(t))return;let{state:e}=this.view,{tr:i,doc:r}=e,o=hT(t,this.schema,this.options.parseOptions);i.replaceWith(0,e.doc.content.size,o),!r.eq(i.doc)&&i.docChanged&&this.view.dispatch(i)}registerPlugin(t){let{state:e}=this.view,i=[...e.plugins,t],r=e.reconfigure({plugins:i});this.view.updateState(r)}destroy(){this.view.destroy()}};var ve="primary",zc=Symbol("RouteTitle"),Cb=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Qa(n){return new Cb(n)}function $U(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zU(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Qi(n[e],t[e]))return!1;return!0}function Qi(n,t){let e=n?xb(n):void 0,i=t?xb(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!UT(n[r],t[r]))return!1;return!0}function xb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function UT(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function HT(n){return n.length>0?n[n.length-1]:null}function So(n){return pl(n)?n:oo(n)?Xe(Promise.resolve(n)):te(n)}var UU={exact:qT,subset:GT},WT={exact:HU,subset:WU,ignored:()=>!0};function OT(n,t,e){return UU[e.paths](n.root,t.root,e.matrixParams)&&WT[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function HU(n,t){return Qi(n,t)}function qT(n,t,e){if(!As(n.segments,t.segments)||!Jp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!qT(n.children[i],t.children[i],e))return!1;return!0}function WU(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>UT(n[e],t[e]))}function GT(n,t,e){return KT(n,t,t.segments,e)}function KT(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!As(r,e)||t.hasChildren()||!Jp(r,e,i))}else if(n.segments.length===e.length){if(!As(n.segments,e)||!Jp(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!GT(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!As(n.segments,r)||!Jp(n.segments,r,i)||!n.children[ve]?!1:KT(n.children[ve],t,o,i)}}function Jp(n,t,e){return t.every((i,r)=>WT[e](n[r].parameters,i.parameters))}var Pr=class{constructor(t=new He([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){return KU.serialize(this)}},He=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xp(this)}},Ts=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Qa(this.parameters),this._parameterMap}toString(){return YT(this)}};function qU(n,t){return As(n,t)&&n.every((e,i)=>Qi(e.parameters,t[i].parameters))}function As(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function GU(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ve&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ve&&(e=e.concat(t(r,i)))}),e}var Uc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>new Ya,providedIn:"root"})}}return n})(),Ya=class{parse(t){let e=new Eb(t);return new Pr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Tc(t.root,!0)}`,i=ZU(t.queryParams),r=typeof t.fragment=="string"?`#${QU(t.fragment)}`:"";return`${e}${i}${r}`}},KU=new Ya;function Xp(n){return n.segments.map(t=>YT(t)).join("/")}function Tc(n,t){if(!n.hasChildren())return Xp(n);if(t){let e=n.children[ve]?Tc(n.children[ve],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ve&&i.push(`${r}:${Tc(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=GU(n,(i,r)=>r===ve?[Tc(n.children[ve],!1)]:[`${r}:${Tc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${Xp(n)}/${e[0]}`:`${Xp(n)}/(${e.join("//")})`}}function QT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yp(n){return QT(n).replace(/%3B/gi,";")}function QU(n){return encodeURI(n)}function Db(n){return QT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(n){return decodeURIComponent(n)}function PT(n){return eh(n.replace(/\+/g,"%20"))}function YT(n){return`${Db(n.path)}${YU(n.parameters)}`}function YU(n){return Object.entries(n).map(([t,e])=>`;${Db(t)}=${Db(e)}`).join("")}function ZU(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Yp(e)}=${Yp(r)}`).join("&"):`${Yp(e)}=${Yp(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var JU=/^[^\/()?;#]+/;function vb(n){let t=n.match(JU);return t?t[0]:""}var XU=/^[^\/()?;=#]+/;function eH(n){let t=n.match(XU);return t?t[0]:""}var tH=/^[^=?&#]+/;function nH(n){let t=n.match(tH);return t?t[0]:""}var iH=/^[^&#]+/;function rH(n){let t=n.match(iH);return t?t[0]:""}var Eb=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ve]=new He(t,e)),i}parseSegment(){let t=vb(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(t),new Ts(eh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=eH(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=vb(this.remaining);r&&(i=r,this.capture(i))}t[eh(e)]=eh(i)}parseQueryParam(t){let e=nH(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=rH(this.remaining);s&&(i=s,this.capture(i))}let r=PT(e),o=PT(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=vb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new L(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ve);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[ve]:new He([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new L(4011,!1)}};function ZT(n){return n.segments.length>0?new He([],{[ve]:n}):n}function JT(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=JT(r);if(i===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new He(n.segments,t);return oH(e)}function oH(n){if(n.numberOfChildren===1&&n.children[ve]){let t=n.children[ve];return new He(n.segments.concat(t.segments),t.children)}return n}function ks(n){return n instanceof Pr}function sH(n,t,e=null,i=null){let r=XT(n);return e2(r,t,e,i)}function XT(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new He(o.url,s);return o===n&&(t=a),a}let i=e(n.root),r=ZT(i);return t??r}function e2(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return bb(r,r,r,e,i);let o=aH(t);if(o.toRoot())return bb(r,r,new He([],{}),e,i);let s=lH(o,r,n),a=s.processChildren?Nc(s.segmentGroup,s.index,o.commands):n2(s.segmentGroup,s.index,o.commands);return bb(r,s.segmentGroup,a,e,i)}function th(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Rc(n){return typeof n=="object"&&n!=null&&n.outlets}function bb(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===t?s=e:s=t2(n,t,e);let a=ZT(JT(s));return new Pr(a,o,r)}function t2(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=t2(o,t,e)}),new He(n.segments,i)}var nh=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&th(i[0]))throw new L(4003,!1);let r=i.find(Rc);if(r&&r!==HT(i))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nh(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new nh(e,t,i)}var qa=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function lH(n,t,e){if(n.isAbsolute)return new qa(t,!0,0);if(!e)return new qa(t,!1,NaN);if(e.parent===null)return new qa(e,!0,0);let i=th(n.commands[0])?0:1,r=e.segments.length-1+i;return cH(e,r,n.numberOfDoubleDots)}function cH(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new L(4005,!1);r=i.segments.length}return new qa(i,!1,r-o)}function uH(n){return Rc(n[0])?n[0].outlets:{[ve]:n}}function n2(n,t,e){if(n??=new He([],{}),n.segments.length===0&&n.hasChildren())return Nc(n,t,e);let i=dH(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new He(n.segments.slice(0,i.pathIndex),{});return o.children[ve]=new He(n.segments.slice(i.pathIndex),n.children),Nc(o,0,r)}else return i.match&&r.length===0?new He(n.segments,{}):i.match&&!n.hasChildren()?Sb(n,t,e):i.match?Nc(n,0,r):Sb(n,t,e)}function Nc(n,t,e){if(e.length===0)return new He(n.segments,{});{let i=uH(e),r={};if(Object.keys(i).some(o=>o!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let o=Nc(n.children[ve],t,e);return new He(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=n2(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new He(n.segments,r)}}function dH(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],a=e[i];if(Rc(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!FT(l,c,s))return o;i+=2}else{if(!FT(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Sb(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Rc(o)){let l=fH(o.outlets);return new He(i,l)}if(r===0&&th(e[0])){let l=n.segments[t];i.push(new Ts(l.path,RT(e[0]))),r++;continue}let s=Rc(o)?o.outlets[ve]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&th(a)?(i.push(new Ts(s,RT(a))),r+=2):(i.push(new Ts(s,{})),r++)}return new He(i,{})}function fH(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Sb(new He([],{}),0,i))}),t}function RT(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function FT(n,t,e){return n==e.path&&Qi(t,e.parameters)}var Oc="imperative",Pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pt||{}),ci=class{constructor(t,e){this.id=t,this.url=e}},Za=class extends ci{constructor(t,e,i="imperative",r=null){super(t,e),this.type=Pt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xi=class extends ci{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(zn||{}),ih=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ih||{}),Or=class extends ci{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Eo=class extends ci{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Pt.NavigationSkipped}},Fc=class extends ci{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=Pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rh=class extends ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mb=class extends ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ib=class extends ci{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tb=class extends ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ab=class extends ci{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kb=class{constructor(t){this.route=t,this.type=Pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nb=class{constructor(t){this.route=t,this.type=Pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ob=class{constructor(t){this.snapshot=t,this.type=Pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pb=class{constructor(t){this.snapshot=t,this.type=Pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rb=class{constructor(t){this.snapshot=t,this.type=Pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fb=class{constructor(t){this.snapshot=t,this.type=Pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oh=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Pt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Lc=class{},Ja=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function pH(n,t){return n.providers&&!n._injector&&(n._injector=Zd(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ci(n){return n.outlet||ve}function hH(n,t){let e=n.filter(i=>Ci(i)===t);return e.push(...n.filter(i=>Ci(i)!==t)),e}function Hc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Lb=class{get injector(){return Hc(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Wc(this.rootInjector),this.attachRef=null}},Wc=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Lb(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(j(tn))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sh=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Vb(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Vb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Bb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Bb(t,this._root).map(e=>e.value)}};function Vb(n,t){if(n===t.value)return t;for(let e of t.children){let i=Vb(n,e);if(i)return i}return null}function Bb(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Bb(n,e);if(i.length)return i.unshift(t),i}return[]}var $n=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Wa(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var ah=class extends sh{constructor(t,e){super(t),this.snapshot=e,Kb(this,t)}toString(){return this.snapshot.toString()}};function i2(n){let t=mH(n),e=new ht([new Ts("",{})]),i=new ht({}),r=new ht({}),o=new ht({}),s=new ht(""),a=new Un(e,i,o,s,r,ve,n,t.root);return a.snapshot=t.root,new ah(new $n(a,[]),t)}function mH(n){let t={},e={},i={},r="",o=new Ga([],t,i,r,e,ve,n,null,{});return new ch("",new $n(o,[]))}var Un=class{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(c=>c[zc]))??te(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(t=>Qa(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(t=>Qa(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lh(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:F(F({},t.params),n.params),data:F(F({},t.data),n.data),resolve:F(F(F(F({},n.data),t.data),r?.data),n._resolvedData)}:i={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},r&&o2(r)&&(i.resolve[zc]=r.title),i}var Ga=class{get title(){return this.data?.[zc]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ch=class extends sh{constructor(t,e){super(e),this.url=t,Kb(this,e)}toString(){return r2(this._root)}};function Kb(n,t){t.value._routerState=n,t.children.forEach(e=>Kb(n,e))}function r2(n){let t=n.children.length>0?` { ${n.children.map(r2).join(", ")} } `:"";return`${n.value}${t}`}function wb(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Qi(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Qi(t.params,e.params)||n.paramsSubject.next(e.params),zU(t.url,e.url)||n.urlSubject.next(e.url),Qi(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function jb(n,t){let e=Qi(n.params,t.params)&&qU(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||jb(n.parent,t.parent))}function o2(n){return typeof n.title=="string"||n.title===null}var qc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=B(Wc),this.location=B(fr),this.changeDetector=B(pr),this.inputBinder=B(hh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $b(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_n]})}}return n})(),$b=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Un?this.route:t===Wc?this.childContexts:this.parent.get(t,e)}},hh=new W(""),LT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=hl([i.queryParams,i.params,i.data]).pipe(yn(([o,s,a],l)=>(a=F(F(F({},o),s),a),l===0?te(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=kD(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function gH(n,t,e){let i=Vc(n,t._root,e?e._root:void 0);return new ah(i,t)}function Vc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=yH(n,t,e);return new $n(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Vc(n,a)),s}}let i=vH(t.value),r=t.children.map(o=>Vc(n,o));return new $n(i,r)}}function yH(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Vc(n,i,r);return Vc(n,i)})}function vH(n){return new Un(new ht(n.url),new ht(n.params),new ht(n.queryParams),new ht(n.fragment),new ht(n.data),n.outlet,n.component,n)}var Bc=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},s2="ngNavigationCancelingError";function uh(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ks(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=a2(!1,zn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function a2(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[s2]=!0,e.cancellationCode=t,e}function bH(n){return l2(n)&&ks(n.url)}function l2(n){return!!n&&n[s2]}var wH=(n,t,e,i)=>ue(r=>(new zb(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),zb=class{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),wb(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Wa(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Wa(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Wa(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Wa(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Fb(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Pb(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(wb(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wb(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},dh=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ka=class{constructor(t,e){this.component=t,this.route=e}};function _H(n,t,e){let i=n._root,r=t?t._root:null;return Ac(i,r,e,[i.value])}function CH(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function el(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!V1(n)?n:t.get(n):i}function Ac(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wa(t);return n.children.forEach(s=>{xH(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,e.getContext(s),r)),r}function xH(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DH(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new dh(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(n,t,a?a.children:null,i,r):Ac(n,t,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ka(a.outlet.component,s))}else s&&Pc(t,a,r),r.canActivateChecks.push(new dh(i)),o.component?Ac(n,null,a?a.children:null,i,r):Ac(n,null,e,i,r);return r}function DH(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!As(n.url,t.url);case"pathParamsOrQueryParamsChange":return!As(n.url,t.url)||!Qi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jb(n,t)||!Qi(n.queryParams,t.queryParams);case"paramsChange":default:return!jb(n,t)}}function Pc(n,t,e){let i=Wa(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?Pc(s,t.children.getContext(o),e):Pc(s,null,e):Pc(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Ka(t.outlet.component,r)):e.canDeactivateChecks.push(new Ka(null,r)):e.canDeactivateChecks.push(new Ka(null,r))}function Gc(n){return typeof n=="function"}function EH(n){return typeof n=="boolean"}function SH(n){return n&&Gc(n.canLoad)}function MH(n){return n&&Gc(n.canActivate)}function IH(n){return n&&Gc(n.canActivateChild)}function TH(n){return n&&Gc(n.canDeactivate)}function AH(n){return n&&Gc(n.canMatch)}function c2(n){return n instanceof er||n?.name==="EmptyError"}var Zp=Symbol("INITIAL_VALUE");function Xa(){return yn(n=>hl(n.map(t=>t.pipe(nr(1),tm(Zp)))).pipe(ue(t=>{for(let e of t)if(e!==!0){if(e===Zp)return Zp;if(e===!1||kH(e))return e}return!0}),gn(t=>t!==Zp),nr(1)))}function kH(n){return ks(n)||n instanceof Bc}function NH(n,t){return _t(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?te(ae(F({},e),{guardsResult:!0})):OH(s,i,r,n).pipe(_t(a=>a&&EH(a)?PH(i,o,n,t):te(a)),ue(a=>ae(F({},e),{guardsResult:a})))})}function OH(n,t,e,i){return Xe(n).pipe(_t(r=>BH(r.component,r.route,e,t,i)),Mi(r=>r!==!0,!0))}function PH(n,t,e,i){return Xe(t).pipe(tr(r=>qs(FH(r.route.parent,i),RH(r.route,i),VH(n,r.path,e),LH(n,r.route,e))),Mi(r=>r!==!0,!0))}function RH(n,t){return n!==null&&t&&t(new Rb(n)),te(!0)}function FH(n,t){return n!==null&&t&&t(new Ob(n)),te(!0)}function LH(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return te(!0);let r=i.map(o=>Vu(()=>{let s=Hc(t)??e,a=el(o,s),l=MH(a)?a.canActivate(t,n):Gn(s,()=>a(t,n));return So(l).pipe(Mi())}));return te(r).pipe(Xa())}function VH(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>CH(s)).filter(s=>s!==null).map(s=>Vu(()=>{let a=s.guards.map(l=>{let c=Hc(s.node)??e,d=el(l,c),f=IH(d)?d.canActivateChild(i,n):Gn(c,()=>d(i,n));return So(f).pipe(Mi())});return te(a).pipe(Xa())}));return te(o).pipe(Xa())}function BH(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let l=Hc(t)??r,c=el(a,l),d=TH(c)?c.canDeactivate(n,t,e,i):Gn(l,()=>c(n,t,e,i));return So(d).pipe(Mi())});return te(s).pipe(Xa())}function jH(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return te(!0);let o=r.map(s=>{let a=el(s,n),l=SH(a)?a.canLoad(t,e):Gn(n,()=>a(t,e));return So(l)});return te(o).pipe(Xa(),u2(i))}function u2(n){return Gh(ot(t=>{if(typeof t!="boolean")throw uh(n,t)}),ue(t=>t===!0))}function $H(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return te(!0);let o=r.map(s=>{let a=el(s,n),l=AH(a)?a.canMatch(t,e):Gn(n,()=>a(t,e));return So(l)});return te(o).pipe(Xa(),u2(i))}var jc=class{constructor(t){this.segmentGroup=t||null}},$c=class extends Error{constructor(t){super(),this.urlTree=t}};function Ha(n){return Ws(new jc(n))}function zH(n){return Ws(new L(4e3,!1))}function UH(n){return Ws(a2(!1,zn.GuardRejected))}var Ub=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return te(i);if(r.numberOfChildren>1||!r.children[ve])return zH(`${t.redirectTo}`);r=r.children[ve]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:w,params:b,data:_,title:D}=r,S=Gn(o,()=>a({params:b,data:_,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:w,title:D}));if(S instanceof Pr)throw new $c(S);e=S}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new $c(s);return s}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Pr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new He(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new L(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},Hb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HH(n,t,e,i,r){let o=d2(n,t,e);return o.matched?(i=pH(t,i),$H(i,t,e,r).pipe(ue(s=>s===!0?o:F({},Hb)))):te(o)}function d2(n,t,e){if(t.path==="**")return WH(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?F({},Hb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||$U)(e,n,t);if(!r)return F({},Hb);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?F(F({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function WH(n){return{matched:!0,parameters:n.length>0?HT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function VT(n,t,e,i){return e.length>0&&KH(n,e,i)?{segmentGroup:new He(t,GH(i,new He(e,n.children))),slicedSegments:[]}:e.length===0&&QH(n,e,i)?{segmentGroup:new He(n.segments,qH(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new He(n.segments,n.children),slicedSegments:e}}function qH(n,t,e,i){let r={};for(let o of e)if(mh(n,t,o)&&!i[Ci(o)]){let s=new He([],{});r[Ci(o)]=s}return F(F({},i),r)}function GH(n,t){let e={};e[ve]=t;for(let i of n)if(i.path===""&&Ci(i)!==ve){let r=new He([],{});e[Ci(i)]=r}return e}function KH(n,t,e){return e.some(i=>mh(n,t,i)&&Ci(i)!==ve)}function QH(n,t,e){return e.some(i=>mh(n,t,i))}function mh(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function YH(n,t,e){return t.length===0&&!n.children[e]}var Wb=class{};function ZH(n,t,e,i,r,o,s="emptyOnly"){return new qb(n,t,e,i,r,s,o).recognize()}var JH=31,qb=class{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ub(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new L(4002,`'${t.segmentGroup}'`)}recognize(){let t=VT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ue(({children:e,rootSnapshot:i})=>{let r=new $n(i,e),o=new ch("",r),s=sH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Ga([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ve,e).pipe(ue(i=>({children:i,rootSnapshot:e})),$r(i=>{if(i instanceof $c)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof jc?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(ue(s=>s instanceof $n?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Xe(o).pipe(tr(s=>{let a=i.children[s],l=hH(e,s);return this.processSegmentGroup(t,l,a,s,r)}),em((s,a)=>(s.push(...a),s)),zr(null),Xh(),_t(s=>{if(s===null)return Ha(i);let a=f2(s);return XH(a),te(a)}))}processSegment(t,e,i,r,o,s,a){return Xe(e).pipe(tr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,s,a).pipe($r(c=>{if(c instanceof jc)return te(null);throw c}))),Mi(l=>!!l),$r(l=>{if(c2(l))return YH(i,r,o)?te(new Wb):Ha(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,l){return Ci(i)!==s&&(s===ve||!mh(r,o,i))?Ha(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,l):Ha(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:w}=d2(e,r,o);if(!l)return Ha(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JH&&(this.allowRedirects=!1));let b=new Ga(o,c,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,BT(r),Ci(r),r.component??r._loadedComponent??null,r,jT(r)),_=lh(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(_.params),b.data=Object.freeze(_.data);let D=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f,b,t);return this.applyRedirects.lineralizeSegments(r,D).pipe(_t(S=>this.processSegment(t,i,e,S.concat(w),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a=HH(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(yn(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(yn(({routes:c})=>{let d=i._loadedInjector??t,{parameters:f,consumedSegments:w,remainingSegments:b}=l,_=new Ga(w,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,BT(i),Ci(i),i.component??i._loadedComponent??null,i,jT(i)),D=lh(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let{segmentGroup:S,slicedSegments:A}=VT(e,w,b,c);if(A.length===0&&S.hasChildren())return this.processChildren(d,c,S,_).pipe(ue(z=>new $n(_,z)));if(c.length===0&&A.length===0)return te(new $n(_,[]));let G=Ci(i)===o;return this.processSegment(d,c,S,A,G?ve:o,!0,_).pipe(ue(z=>new $n(_,z instanceof $n?[z]:[])))}))):Ha(e)))}getChildConfig(t,e,i){return e.children?te({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?te({routes:e._loadedRoutes,injector:e._loadedInjector}):jH(t,e,i,this.urlSerializer).pipe(_t(r=>r?this.configLoader.loadChildren(t,e).pipe(ot(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):UH(e))):te({routes:[],injector:t})}};function XH(n){n.sort((t,e)=>t.value.outlet===ve?-1:e.value.outlet===ve?1:t.value.outlet.localeCompare(e.value.outlet))}function e7(n){let t=n.value.routeConfig;return t&&t.path===""}function f2(n){let t=[],e=new Set;for(let i of n){if(!e7(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=f2(i.children);t.push(new $n(i.value,r))}return t.filter(i=>!e.has(i))}function BT(n){return n.data||{}}function jT(n){return n.resolve||{}}function t7(n,t,e,i,r,o){return _t(s=>ZH(n,t,e,i,s.extractedUrl,r,o).pipe(ue(({state:a,tree:l})=>ae(F({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function n7(n,t){return _t(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return te(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of p2(l))s.add(c);let a=0;return Xe(s).pipe(tr(l=>o.has(l)?i7(l,i,n,t):(l.data=lh(l,l.parent,n).resolve,te(void 0))),ot(()=>a++),Gs(1),_t(l=>a===s.size?te(e):Nn))})}function p2(n){let t=n.children.map(e=>p2(e)).flat();return[n,...t]}function i7(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!o2(r)&&(o[zc]=r.title),r7(o,n,t,i).pipe(ue(s=>(n._resolvedData=s,n.data=lh(n,n.parent,e).resolve,null)))}function r7(n,t,e,i){let r=xb(n);if(r.length===0)return te({});let o={};return Xe(r).pipe(_t(s=>o7(n[s],t,e,i).pipe(Mi(),ot(a=>{if(a instanceof Bc)throw uh(new Ya,a);o[s]=a}))),Gs(1),Jh(o),$r(s=>c2(s)?Nn:Ws(s)))}function o7(n,t,e,i){let r=Hc(t)??i,o=el(n,r),s=o.resolve?o.resolve(t,e):Gn(r,()=>o(t,e));return So(s)}function _b(n){return yn(t=>{let e=n(t);return e?Xe(e).pipe(ue(()=>t)):te(t)})}var h2=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ve);return i}getResolvedTitleForRoute(e){return e.data[zc]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>B(s7),providedIn:"root"})}}return n})(),s7=(()=>{class n extends h2{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(j(bE))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kc=new W("",{providedIn:"root",factory:()=>({})}),a7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ie({type:n,selectors:[["ng-component"]],standalone:!0,features:[_D],decls:1,vars:0,template:function(i,r){i&1&&M(0,"router-outlet")},dependencies:[qc],encapsulation:2})}}return n})();function Qb(n){let t=n.children&&n.children.map(Qb),e=t?ae(F({},n),{children:t}):F({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ve&&(e.component=a7),e}var fh=new W(""),Yb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(af)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return te(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=So(e.loadComponent()).pipe(ue(m2),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ur(()=>{this.componentLoaders.delete(e)})),r=new Hs(i,()=>new tt).pipe(Us());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=l7(i,this.compiler,e,this.onLoadEndListener).pipe(Ur(()=>{this.childrenLoaders.delete(i)})),s=new Hs(o,()=>new tt).pipe(Us());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function l7(n,t,e,i){return So(n.loadChildren()).pipe(ue(m2),_t(r=>r instanceof Dl||Array.isArray(r)?te(r):Xe(t.compileModuleAsync(r))),ue(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(fh,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qb),injector:o}}))}function c7(n){return n&&typeof n=="object"&&"default"in n}function m2(n){return c7(n)?n.default:n}var Zb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>B(u7),providedIn:"root"})}}return n})(),u7=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),g2=new W(""),y2=new W("");function d7(n,t,e){let i=n.get(y2),r=n.get(Mt);return n.get($e).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),f7(n))),{onViewTransitionCreated:l}=i;return l&&Gn(n,()=>l({transition:a,from:t,to:e})),s})}function f7(n){return new Promise(t=>{d0({read:()=>setTimeout(t)},{injector:n})})}var p7=new W(""),Jb=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=B(Yb),this.environmentInjector=B(tn),this.urlSerializer=B(Uc),this.rootContexts=B(Wc),this.location=B(ga),this.inputBindingEnabled=B(hh,{optional:!0})!==null,this.titleStrategy=B(h2),this.options=B(Kc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(Zb),this.createViewTransition=B(g2,{optional:!0}),this.navigationErrorHandler=B(p7,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let e=r=>this.events.next(new kb(r)),i=r=>this.events.next(new Nb(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(ae(F(F({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new ht({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Oc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gn(o=>o.id!==0),ue(o=>ae(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yn(o=>{let s=!1,a=!1;return te(o).pipe(yn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",zn.SupersededByNewNavigation),Nn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ae(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let f="";return this.events.next(new Eo(l.id,this.urlSerializer.serialize(l.rawUrl),f,ih.IgnoredSameUrlNavigation)),l.resolve(!1),Nn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(yn(f=>{let w=this.transitions?.getValue();return this.events.next(new Za(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),w!==this.transitions?.getValue()?Nn:Promise.resolve(f)}),t7(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ae(F({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let w=new rh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(w)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:w,source:b,restoredState:_,extras:D}=l,S=new Za(f,this.urlSerializer.serialize(w),b,_);this.events.next(S);let A=i2(this.rootComponentType).snapshot;return this.currentTransition=o=ae(F({},l),{targetSnapshot:A,urlAfterRedirects:w,extras:ae(F({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,te(o)}else{let f="";return this.events.next(new Eo(l.id,this.urlSerializer.serialize(l.extractedUrl),f,ih.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Nn}}),ot(l=>{let c=new Mb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ue(l=>(this.currentTransition=o=ae(F({},l),{guards:_H(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),NH(this.environmentInjector,l=>this.events.next(l)),ot(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw uh(this.urlSerializer,l.guardsResult);let c=new Ib(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),gn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",zn.GuardRejected),!1)),_b(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(ot(c=>{let d=new Tb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),yn(c=>{let d=!1;return te(c).pipe(n7(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",zn.NoDataFromResolver)}}))}),ot(c=>{let d=new Ab(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),_b(l=>{let c=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ot(w=>{d.component=w}),ue(()=>{})));for(let w of d.children)f.push(...c(w));return f};return hl(c(l.targetSnapshot.root)).pipe(zr(null),nr(1))}),_b(()=>this.afterPreactivation()),yn(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Xe(d).pipe(ue(()=>o)):te(o)}),ue(l=>{let c=gH(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ae(F({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),ot(()=>{this.events.next(new Lc)}),wH(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nr(1),ot({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ml(this.transitionAbortSubject.pipe(ot(l=>{throw l}))),Ur(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",zn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),$r(l=>{if(a=!0,l2(l))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),bH(l)?this.events.next(new Ja(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Fc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=Gn(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof Bc){let{message:f,cancellationCode:w}=uh(this.urlSerializer,d);this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),f,w)),this.events.next(new Ja(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);let f=e.errorHandler(l);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Nn}))}))}cancelNavigationTransition(e,i,r){let o=new Or(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function h7(n){return n!==Oc}var m7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>B(g7),providedIn:"root"})}}return n})(),Gb=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},g7=(()=>{class n extends Gb{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>B(y7),providedIn:"root"})}}return n})(),y7=(()=>{class n extends v2{constructor(){super(...arguments),this.location=B(ga),this.urlSerializer=B(Uc),this.options=B(Kc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(Zb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=i2(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Za)this.stateMemento=this.createStateMemento();else if(e instanceof Eo)this.rawUrlTree=i.initialUrl;else if(e instanceof rh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof Lc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Or&&(e.code===zn.GuardRejected||e.code===zn.NoDataFromResolver)?this.restoreHistory(i):e instanceof Fc?this.restoreHistory(i,!0):e instanceof xi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof Pr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gi(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(kc||{});function b2(n,t){n.events.pipe(gn(e=>e instanceof xi||e instanceof Or||e instanceof Fc||e instanceof Eo),ue(e=>e instanceof xi||e instanceof Eo?kc.COMPLETE:(e instanceof Or?e.code===zn.Redirect||e.code===zn.SupersededByNewNavigation:!1)?kc.REDIRECTING:kc.FAILED),gn(e=>e!==kc.REDIRECTING),nr(1)).subscribe(()=>{t()})}function v7(n){throw n}var b7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(tf),this.stateManager=B(v2),this.options=B(Kc,{optional:!0})||{},this.pendingTasks=B(cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(Jb),this.urlSerializer=B(Uc),this.location=B(ga),this.urlHandlingStrategy=B(Zb),this._events=new tt,this.errorHandler=this.options.errorHandler||v7,this.navigated=!1,this.routeReuseStrategy=B(m7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(fh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(hh,{optional:!0}),this.eventsSubscription=new bt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Or&&i.code!==zn.Redirect&&i.code!==zn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xi)this.navigated=!0;else if(i instanceof Ja){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=F({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||h7(r.source)},s);this.scheduleNavigation(a,Oc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}C7(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Oc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=F({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Qb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let w=r?r.snapshot:this.routerState.snapshot.root;f=XT(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return e2(f,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ks(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Oc,null,i)}navigate(e,i={skipLocationChange:!1}){return _7(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=F({},b7):i===!1?r=F({},w7):r=i,ks(e))return OT(this.currentUrlTree,e,r);let o=this.parseUrl(e);return OT(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,w)=>{a=f,l=w});let d=this.pendingTasks.add();return b2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _7(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new L(4008,!1)}function C7(n){return!(n instanceof Lc)&&!(n instanceof Ja)}var Dt=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ks(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:dx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ks(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(I(Oe),I(Un),Vg("tabindex"),I(Cn),I(ct),I(yr))}}static{this.\u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&N("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&to("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",so],skipLocationChange:[2,"skipLocationChange","skipLocationChange",so],replaceUrl:[2,"replaceUrl","replaceUrl",so],routerLink:"routerLink"},standalone:!0,features:[kl,_n]})}}return n})(),w2=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof xi&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(jr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Xe(e).pipe(jr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=x7(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||n)(I(Oe),I(ct),I(Cn),I(pr),I(Dt,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&bD(o,Dt,5),i&2){let s;Nl(s=Ol())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_n]})}}return n})();function x7(n){return!!n.paths}var ph=class{};var D7=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gn(e=>e instanceof xi),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Zd(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Xe(r).pipe(jr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=te(null);let o=r.pipe(_t(s=>s===null?te(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Xe([o,s]).pipe(jr())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(j(Oe),j(af),j(tn),j(ph),j(Yb))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_2=new W(""),E7=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Za?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof xi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Eo&&e.code===ih.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof oh&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oh(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Sx()}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function S7(n){return n.routerState.root}function Qc(n,t){return{\u0275kind:n,\u0275providers:t}}function M7(){let n=B(rn);return t=>{let e=n.get(bi);if(t!==e.components[0])return;let i=n.get(Oe),r=n.get(C2);n.get(Xb)===1&&i.initialNavigation(),n.get(x2,null,Ce.Optional)?.setUpPreloading(),n.get(_2,null,Ce.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var C2=new W("",{factory:()=>new tt}),Xb=new W("",{providedIn:"root",factory:()=>1});function I7(){return Qc(2,[{provide:Xb,useValue:0},{provide:of,multi:!0,deps:[rn],useFactory:t=>{let e=t.get($D,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(Oe),o=t.get(C2);b2(r,()=>{i(!0)}),t.get(Jb).afterPreactivation=()=>(i(!0),o.closed?te(void 0):o),r.initialNavigation()}))}}])}function T7(){return Qc(3,[{provide:of,multi:!0,useFactory:()=>{let t=B(Oe);return()=>{t.setUpLocationChangeListener()}}},{provide:Xb,useValue:2}])}var x2=new W("");function A7(n){return Qc(0,[{provide:x2,useExisting:D7},{provide:ph,useExisting:n}])}function k7(){return Qc(8,[LT,{provide:hh,useExisting:LT}])}function N7(n){let t=[{provide:g2,useValue:d7},{provide:y2,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Qc(9,t)}var $T=new W("ROUTER_FORROOT_GUARD"),O7=[ga,{provide:Uc,useClass:Ya},Oe,Wc,{provide:Un,useFactory:S7,deps:[Oe]},Yb,[]],ew=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[O7,[],{provide:fh,multi:!0,useValue:e},{provide:$T,useFactory:L7,deps:[[Oe,new Ml,new Ad]]},{provide:Kc,useValue:i||{}},i?.useHash?R7():F7(),P7(),i?.preloadingStrategy?A7(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?V7(i):[],i?.bindToComponentInputs?k7().\u0275providers:[],i?.enableViewTransitions?N7().\u0275providers:[],B7()]}}static forChild(e){return{ngModule:n,providers:[{provide:fh,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(j($T,8))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({})}}return n})();function P7(){return{provide:_2,useFactory:()=>{let n=B(ZD),t=B($e),e=B(Kc),i=B(Jb),r=B(Uc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new E7(r,i,n,t,e)}}}function R7(){return{provide:yr,useClass:UD}}function F7(){return{provide:yr,useClass:F0}}function L7(n){return"guarded"}function V7(n){return[n.initialNavigation==="disabled"?T7().\u0275providers:[],n.initialNavigation==="enabledBlocking"?I7().\u0275providers:[]]}var zT=new W("");function B7(){return[{provide:zT,useFactory:M7},{provide:sf,multi:!0,useExisting:zT}]}var vt={production:!1,apiUrl:"http://localhost:8000/api"};var Et=(()=>{class n{constructor(e,i){this.http=e,this.router=i,this.apiUrl=vt.apiUrl;let r=localStorage.getItem("currentUser");this.currentUserSubject=new ht(r?JSON.parse(r):null),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}get isLoggedIn(){return!!this.currentUserValue}get isAdmin(){return this.currentUserValue?.role==="admin"}get isDoctor(){return localStorage.getItem("user_type")==="doctor"}get userType(){return localStorage.getItem("user_type")}login(e,i){return this.http.post(`${this.apiUrl}/login`,{email:e,password:i}).pipe(ot(r=>{localStorage.setItem("currentUser",JSON.stringify(r.user)),localStorage.setItem("token",r.token),r.user_type&&localStorage.setItem("user_type",r.user_type),this.currentUserSubject.next(r.user)}))}register(e){return this.http.post(`${this.apiUrl}/register`,e).pipe(ot(i=>{localStorage.setItem("currentUser",JSON.stringify(i.user)),localStorage.setItem("token",i.token),this.currentUserSubject.next(i.user)}))}logout(){this.http.post(`${this.apiUrl}/logout`,{}).subscribe(),localStorage.removeItem("currentUser"),localStorage.removeItem("token"),localStorage.removeItem("user_type"),this.currentUserSubject.next(null),this.router.navigate(["/login"])}getToken(){return localStorage.getItem("token")}static{this.\u0275fac=function(i){return new(i||n)(j(It),j(Oe))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fe=(()=>{class n{constructor(){this.notificationSubject=new tt,this.notification$=this.notificationSubject.asObservable()}success(e,i=3e3){this.show({type:"success",message:e,duration:i})}error(e,i=5e3){this.show({type:"error",message:e,duration:i})}info(e,i=3e3){this.show({type:"info",message:e,duration:i})}warning(e,i=4e3){this.show({type:"warning",message:e,duration:i})}show(e){this.notificationSubject.next(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function j7(n,t){n&1&&(h(0,"div"),g(1,"Email is required"),p())}function $7(n,t){n&1&&(h(0,"div"),g(1,"Please enter a valid email"),p())}function z7(n,t){if(n&1&&(h(0,"div",29),k(1,j7,2,0,"div",22)(2,$7,2,0,"div",22),p()),n&2){let e=E();y(),C("ngIf",e.f.email.errors.required),y(),C("ngIf",e.f.email.errors.email)}}function U7(n,t){n&1&&(h(0,"div"),g(1,"Password is required"),p())}function H7(n,t){if(n&1&&(h(0,"div",29),k(1,U7,2,0,"div",22),p()),n&2){let e=E();y(),C("ngIf",e.f.password.errors.required)}}function W7(n,t){n&1&&(h(0,"span"),g(1,"Logging in..."),p())}function q7(n,t){n&1&&(h(0,"span"),g(1,"Sign In"),p())}var D2=(()=>{class n{constructor(e,i,r,o,s){this.formBuilder=e,this.route=i,this.router=r,this.authService=o,this.notificationService=s,this.loading=!1,this.error="",this.returnUrl="",this.authService.isLoggedIn&&(this.authService.userType==="doctor"?this.router.navigate(["/doctor/dashboard"]):this.authService.isAdmin?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"]))}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[Me.required,Me.email]],password:["",Me.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/dashboard"}get f(){return this.loginForm.controls}onSubmit(){this.loginForm.invalid||(this.loading=!0,this.authService.login(this.f.email.value,this.f.password.value).subscribe({next:e=>{let i=e.user_type||e.user.role;i==="admin"?this.router.navigate(["/admin"]):i==="doctor"?this.router.navigate(["/doctor/dashboard"]):this.router.navigate(["/dashboard"])},error:e=>{this.notificationService.error(e.error?.message||"Login failed. Please check your credentials."),this.loading=!1}}))}static{this.\u0275fac=function(i){return new(i||n)(I($i),I(Un),I(Oe),I(Et),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-login"]],decls:50,vars:10,consts:[[1,"login-container","min-vh-100","d-flex"],[1,"left-section","d-none","d-lg-flex","flex-column","justify-content-center","align-items-start"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none';",1,"logo-large","mb-4"],[1,"welcome-title"],[1,"welcome-text"],[1,"right-section","d-flex","align-items-center","justify-content-center"],[1,"login-box"],[1,"mobile-branding","text-center","d-lg-none","mb-4"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none';",1,"logo-mobile","mb-3"],[1,"welcome-title-mobile"],[1,"welcome-text-mobile"],[1,"text-center","mb-4"],[1,"login-title"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","user@test.com",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","py-2","mb-3",3,"disabled"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-muted","mb-0"],["routerLink","/register",1,"text-primary","text-decoration-none","fw-bold"],[1,"alert","alert-info","mt-3","py-2"],[1,"mb-1"],[1,"bi","bi-info-circle"],[1,"invalid-feedback"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1),M(2,"img",2),h(3,"h1",3),g(4,"Welcome!"),p(),h(5,"p",4),g(6,"Care begins with a click."),p()(),h(7,"div",5)(8,"div",6)(9,"div",7),M(10,"img",8),h(11,"h1",9),g(12,"Welcome!"),p(),h(13,"p",10),g(14,"Care begins with a click."),p()(),h(15,"div",11)(16,"h2",12),g(17,"Login Account"),p()(),h(18,"form",13),N("ngSubmit",function(){return r.onSubmit()}),h(19,"div",14)(20,"label",15),g(21,"Email Address"),p(),M(22,"input",16),k(23,z7,3,2,"div",17),p(),h(24,"div",18)(25,"label",19),g(26,"Password"),p(),M(27,"input",20),k(28,H7,2,1,"div",17),p(),h(29,"button",21),k(30,W7,2,0,"span",22)(31,q7,2,0,"span",22),p()(),h(32,"div",23)(33,"p",24),g(34,"Don't have an account? "),h(35,"a",25),g(36,"Register here"),p()()(),h(37,"div",26)(38,"p",27)(39,"strong"),M(40,"i",28),g(41," Demo Credentials:"),p()(),h(42,"small"),g(43,"Admin: admin@hospital.com / password"),p(),M(44,"br"),h(45,"small"),g(46,"User: user@test.com / password"),p(),M(47,"br"),h(48,"small"),g(49,"Doctor: doctor@hospital.com / password"),p()()()()()),i&2&&(y(18),C("formGroup",r.loginForm),y(4),re("is-invalid",r.f.email.touched&&r.f.email.errors),y(),C("ngIf",r.f.email.touched&&r.f.email.errors),y(4),re("is-invalid",r.f.password.touched&&r.f.password.errors),y(),C("ngIf",r.f.password.touched&&r.f.password.errors),y(),C("disabled",r.loading),y(),C("ngIf",r.loading),y(),C("ngIf",!r.loading))},dependencies:[ge,Dt,ln,rt,nt,an,xn,Dn],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;background:linear-gradient(135deg,#a8b9d1,#c1d3e8,#dae5f2);align-items:flex-start;justify-content:center;gap:3rem;padding:4rem 2rem 2rem}.left-section[_ngcontent-%COMP%]{color:#4a5f7f;max-width:450px}.logo-large[_ngcontent-%COMP%]{max-width:280px;max-height:100px;object-fit:contain}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:1rem}.welcome-text[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.95;line-height:1.6}.right-section[_ngcontent-%COMP%]{max-width:480px}.login-box[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 20px 60px #00000026;padding:3rem;width:100%;max-width:480px}.login-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1f2937;margin-bottom:0}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:12px;font-size:1rem;transition:all .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#7393b3;box-shadow:0 0 0 4px #7393b326}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eaa,#7393b3);border:none;font-weight:600;font-size:1rem;border-radius:12px;padding:.75rem;transition:all .3s}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7a99,#667eaa);transform:translateY(-2px);box-shadow:0 8px 20px #7393b366}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;transform:none}.alert-info[_ngcontent-%COMP%]{background-color:#e0f2fe;border:1px solid #7dd3fc;border-radius:12px;font-size:.85rem}.mobile-branding[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid #e5e7eb}.logo-mobile[_ngcontent-%COMP%]{max-width:180px;max-height:80px;object-fit:contain}.welcome-title-mobile[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#4a5f7f;margin-bottom:.5rem}.welcome-text-mobile[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280;margin-bottom:0}@media (max-width: 576px){.login-box[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.login-title[_ngcontent-%COMP%], .welcome-title-mobile[_ngcontent-%COMP%]{font-size:1.5rem}.welcome-text-mobile[_ngcontent-%COMP%]{font-size:.875rem}}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background-color:#e8ecf1;border-radius:8px;font-size:.875rem}.demo-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.invalid-feedback[_ngcontent-%COMP%]{color:var(--danger-color);font-size:.875rem;margin-top:.25rem;display:none}.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)!important}.is-invalid[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%]{display:block}"]})}}return n})();function G7(n,t){if(n&1&&(h(0,"div",33),g(1),p()),n&2){let e=E();y(),O(e.error)}}function K7(n,t){n&1&&(h(0,"div"),g(1,"Name is required"),p())}function Q7(n,t){if(n&1&&(h(0,"div",34),k(1,K7,2,0,"div",29),p()),n&2){let e=E();y(),C("ngIf",e.f.name.errors.required)}}function Y7(n,t){n&1&&(h(0,"div"),g(1,"Email is required"),p())}function Z7(n,t){n&1&&(h(0,"div"),g(1,"Please enter a valid email"),p())}function J7(n,t){if(n&1&&(h(0,"div",34),k(1,Y7,2,0,"div",29)(2,Z7,2,0,"div",29),p()),n&2){let e=E();y(),C("ngIf",e.f.email.errors.required),y(),C("ngIf",e.f.email.errors.email)}}function X7(n,t){n&1&&(h(0,"div"),g(1,"Password is required"),p())}function e9(n,t){if(n&1&&(h(0,"div",34),k(1,X7,2,0,"div",29),p()),n&2){let e=E();y(),C("ngIf",e.f.password.errors.required)}}function t9(n,t){n&1&&(h(0,"div",34),g(1," Passwords do not match "),p())}function n9(n,t){n&1&&(h(0,"span"),g(1,"Creating Account..."),p())}function i9(n,t){n&1&&(h(0,"span"),g(1,"Register"),p())}var E2=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.router=i,this.authService=r,this.notificationService=o,this.loading=!1,this.error="",this.authService.isLoggedIn&&this.router.navigate(["/dashboard"])}ngOnInit(){this.registerForm=this.formBuilder.group({name:["",Me.required],email:["",[Me.required,Me.email]],password:["",[Me.required,Me.minLength(8)]],password_confirmation:["",Me.required],phone:[""],address:[""],date_of_birth:[""]},{validators:this.passwordMatchValidator})}passwordMatchValidator(e){return e.get("password")?.value===e.get("password_confirmation")?.value?null:{mismatch:!0}}get f(){return this.registerForm.controls}onSubmit(){this.registerForm.invalid||(this.loading=!0,this.authService.register(this.registerForm.value).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:e=>{this.notificationService.error(e.error?.message||"Registration failed. Please try again."),this.loading=!1}}))}static{this.\u0275fac=function(i){return new(i||n)(I($i),I(Oe),I(Et),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-register"]],decls:52,vars:17,consts:[[1,"login-container","min-vh-100","d-flex"],[1,"left-section","d-none","d-lg-flex","flex-column","justify-content-center","align-items-start"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none';",1,"logo-large","mb-4"],[1,"welcome-title"],[1,"welcome-text"],[1,"right-section","d-flex","align-items-center","justify-content-center"],[1,"login-box"],[1,"mobile-branding","text-center","d-lg-none","mb-4"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none';",1,"logo-mobile","mb-3"],[1,"welcome-title-mobile"],[1,"welcome-text-mobile"],[1,"text-center","mb-4"],[1,"login-title"],["class","alert alert-error",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"mb-4"],["for","password_confirmation",1,"form-label"],["type","password","id","password_confirmation","formControlName","password_confirmation",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","py-2","mb-3",3,"disabled"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-muted","mb-0"],["routerLink","/login",1,"text-primary","text-decoration-none","fw-bold"],[1,"alert","alert-error"],[1,"invalid-feedback"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1),M(2,"img",2),h(3,"h1",3),g(4,"Welcome!"),p(),h(5,"p",4),g(6,"Join us to manage your appointments. Appointments made gentle."),p()(),h(7,"div",5)(8,"div",6)(9,"div",7),M(10,"img",8),h(11,"h1",9),g(12,"Welcome!"),p(),h(13,"p",10),g(14,"Join us to manage your appointments. Appointments made gentle."),p()(),h(15,"div",11)(16,"h2",12),g(17,"Create Account"),p()(),k(18,G7,2,1,"div",13),h(19,"form",14),N("ngSubmit",function(){return r.onSubmit()}),h(20,"div",15)(21,"label",16),g(22,"Full Name"),p(),M(23,"input",17),k(24,Q7,2,1,"div",18),p(),h(25,"div",15)(26,"label",19),g(27,"Email Address"),p(),M(28,"input",20),k(29,J7,3,2,"div",18),p(),h(30,"div",15)(31,"label",21),g(32,"Phone Number"),p(),M(33,"input",22),p(),h(34,"div",15)(35,"label",23),g(36,"Password"),p(),M(37,"input",24),k(38,e9,2,1,"div",18),p(),h(39,"div",25)(40,"label",26),g(41,"Confirm Password"),p(),M(42,"input",27),k(43,t9,2,0,"div",18),p(),h(44,"button",28),k(45,n9,2,0,"span",29)(46,i9,2,0,"span",29),p()(),h(47,"div",30)(48,"p",31),g(49,"Already have an account? "),h(50,"a",32),g(51,"Sign in here"),p()()()()()()),i&2&&(y(18),C("ngIf",r.error),y(),C("formGroup",r.registerForm),y(4),re("is-invalid",r.f.name.touched&&r.f.name.errors),y(),C("ngIf",r.f.name.touched&&r.f.name.errors),y(4),re("is-invalid",r.f.email.touched&&r.f.email.errors),y(),C("ngIf",r.f.email.touched&&r.f.email.errors),y(8),re("is-invalid",r.f.password.touched&&r.f.password.errors),y(),C("ngIf",r.f.password.touched&&r.f.password.errors),y(4),re("is-invalid",r.f.password_confirmation.touched&&(r.registerForm.errors==null?null:r.registerForm.errors.mismatch)),y(),C("ngIf",r.registerForm.errors==null?null:r.registerForm.errors.mismatch),y(),C("disabled",r.loading),y(),C("ngIf",r.loading),y(),C("ngIf",!r.loading))},dependencies:[ge,Dt,ln,rt,nt,an,xn,Dn],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;background:linear-gradient(135deg,#a8b9d1,#c1d3e8,#dae5f2);align-items:flex-start;justify-content:center;gap:3rem;padding:4rem 2rem 2rem}.left-section[_ngcontent-%COMP%]{color:#4a5f7f;max-width:450px}.logo-large[_ngcontent-%COMP%]{max-width:280px;max-height:100px;object-fit:contain}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:1rem}.welcome-text[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.95;line-height:1.6}.right-section[_ngcontent-%COMP%]{max-width:480px}.login-box[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 20px 60px #00000026;padding:3rem;width:100%;max-width:480px}.login-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1f2937;margin-bottom:0}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:12px;font-size:1rem;transition:all .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#7393b3;box-shadow:0 0 0 4px #7393b326}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eaa,#7393b3);border:none;font-weight:600;font-size:1rem;border-radius:12px;padding:.75rem;transition:all .3s}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7a99,#667eaa);transform:translateY(-2px);box-shadow:0 8px 20px #7393b366}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;transform:none}.alert-info[_ngcontent-%COMP%]{background-color:#e0f2fe;border:1px solid #7dd3fc;border-radius:12px;font-size:.85rem}.mobile-branding[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid #e5e7eb}.logo-mobile[_ngcontent-%COMP%]{max-width:180px;max-height:80px;object-fit:contain}.welcome-title-mobile[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#4a5f7f;margin-bottom:.5rem}.welcome-text-mobile[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280;margin-bottom:0}@media (max-width: 576px){.login-box[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.login-title[_ngcontent-%COMP%], .welcome-title-mobile[_ngcontent-%COMP%]{font-size:1.5rem}.welcome-text-mobile[_ngcontent-%COMP%]{font-size:.875rem}}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background-color:#e8ecf1;border-radius:8px;font-size:.875rem}.demo-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.invalid-feedback[_ngcontent-%COMP%]{color:var(--danger-color);font-size:.875rem;margin-top:.25rem;display:none}.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)!important}.is-invalid[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%]{display:block}"]})}}return n})();var S2=a_(nw());var r9=()=>({exact:!0});function o9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",11),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Dashboard"),p()()}}function s9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",12),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Book Appointment"),p()()}}function a9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",13),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"History"),p()()}}function l9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",14),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Feedback"),p()()}}function c9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",15),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Dashboard"),p()()}n&2&&(y(),C("routerLinkActiveOptions",Xd(1,r9)))}function u9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",16),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Appointments"),p()()}}function d9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",17),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Doctors"),p()()}}function f9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",18),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Calendar"),p()()}}function p9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",19),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Feedback"),p()()}}function h9(n,t){if(n&1){let e=J();h(0,"li")(1,"a",20),N("click",function(){P(e);let r=E();return R(r.closeMobileMenu())}),g(2,"Charts"),p()()}}var iw=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.currentUser=null,this.mobileMenuOpen=!1}ngOnInit(){this.authService.currentUser.subscribe(e=>{this.currentUser=e})}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}closeMobileMenu(){this.mobileMenuOpen=!1}logout(){S2.default.fire({title:"Logout",text:"Are you sure you want to logout?",icon:"question",showCancelButton:!0,confirmButtonColor:"#7393b3",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, logout",cancelButtonText:"Cancel"}).then(e=>{e.isConfirmed&&this.authService.logout()})}static{this.\u0275fac=function(i){return new(i||n)(I(Et),I(Oe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-dashboard"]],decls:29,vars:15,consts:[[1,"dashboard-wrapper"],[1,"dashboard-nav"],[1,"nav-container"],[1,"nav-header"],[1,"logo"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none';",1,"logo-img","me-2"],[1,"hamburger",3,"click"],[4,"ngIf"],[1,"user-menu"],[1,"btn","btn-danger",3,"click"],[1,"dashboard-content"],["routerLink","/dashboard/user","routerLinkActive","active",3,"click"],["routerLink","/dashboard/book-appointment","routerLinkActive","active",3,"click"],["routerLink","/dashboard/appointment-history","routerLinkActive","active",3,"click"],["routerLink","/dashboard/feedback","routerLinkActive","active",3,"click"],["routerLink","/admin","routerLinkActive","active",3,"click","routerLinkActiveOptions"],["routerLink","/admin/appointments","routerLinkActive","active",3,"click"],["routerLink","/admin/doctors","routerLinkActive","active",3,"click"],["routerLink","/admin/calendar","routerLinkActive","active",3,"click"],["routerLink","/admin/feedback","routerLinkActive","active",3,"click"],["routerLink","/admin/charts","routerLinkActive","active",3,"click"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4),M(5,"img",5),g(6," Hospital System "),p(),h(7,"button",6),N("click",function(){return r.toggleMobileMenu()}),M(8,"span")(9,"span")(10,"span"),p()(),h(11,"ul"),k(12,o9,3,0,"li",7)(13,s9,3,0,"li",7)(14,a9,3,0,"li",7)(15,l9,3,0,"li",7)(16,c9,3,2,"li",7)(17,u9,3,0,"li",7)(18,d9,3,0,"li",7)(19,f9,3,0,"li",7)(20,p9,3,0,"li",7)(21,h9,3,0,"li",7),h(22,"li",8)(23,"span"),g(24),p(),h(25,"button",9),N("click",function(){return r.logout()}),g(26,"Logout"),p()()()()(),h(27,"div",10),M(28,"router-outlet"),p()()),i&2&&(y(7),re("active",r.mobileMenuOpen),y(4),re("mobile-menu-open",r.mobileMenuOpen),y(),C("ngIf",!r.authService.isAdmin),y(),C("ngIf",!r.authService.isAdmin),y(),C("ngIf",!r.authService.isAdmin),y(),C("ngIf",!r.authService.isAdmin),y(),C("ngIf",r.authService.isAdmin),y(),C("ngIf",r.authService.isAdmin),y(),C("ngIf",r.authService.isAdmin),y(),C("ngIf",r.authService.isAdmin),y(),C("ngIf",r.authService.isAdmin),y(),C("ngIf",r.authService.isAdmin),y(3),O(r.currentUser==null?null:r.currentUser.name))},dependencies:[ge,qc,Dt,w2],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.dashboard-nav[_ngcontent-%COMP%]{background-color:#a8b9d1;color:#fff;box-shadow:0 2px 8px #0000001a}.nav-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:4rem;height:40px;padding:0 0rem}.nav-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;height:60px;flex:0 0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.2rem;font-weight:700;color:#fff}.logo-img[_ngcontent-%COMP%]{height:40px;max-width:120px;object-fit:contain;vertical-align:middle;margin-right:.5rem}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;background:none;border:none;cursor:pointer;gap:6px;padding:0}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25px;height:3px;background-color:#fff;border-radius:2px;transition:all .3s ease}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(10px,10px)}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(7px,-7px)}.dashboard-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:1rem;flex:0 0 auto;flex-wrap:nowrap;align-items:center}.dashboard-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0}.dashboard-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.5rem 1rem;border-radius:4px;transition:background-color .3s ease;display:inline-block}.dashboard-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.dashboard-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#fff3;border-radius:4px;padding:.5rem 1rem}.user-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:0 0 auto}.user-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#fff}.user-menu[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}.dashboard-content[_ngcontent-%COMP%]{padding:1rem;max-width:1400px;margin:0 auto}@media (max-width: 768px){.nav-container[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:0;gap:0}.nav-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:40px;padding:0 1rem}.hamburger[_ngcontent-%COMP%]{display:flex}.dashboard-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;flex-direction:column;width:100%;position:absolute;top:60px;left:0;right:0;background-color:#95a9c5;padding:1rem 0;gap:0;border-top:1px solid rgba(255,255,255,.1);box-shadow:0 4px 6px #0000001a;z-index:1000;flex:none;flex-wrap:wrap}.dashboard-nav[_ngcontent-%COMP%]   ul.mobile-menu-open[_ngcontent-%COMP%]{display:flex}.dashboard-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0;padding:.5rem 0}.dashboard-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:1rem;border-radius:0}.user-menu[_ngcontent-%COMP%]{flex-direction:column;margin-left:0;width:100%;padding-top:.5rem;border-top:1px solid rgba(255,255,255,.1)}.user-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.dashboard-content[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.logo[_ngcontent-%COMP%]{font-size:1rem}.dashboard-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{top:60px}.dashboard-content[_ngcontent-%COMP%]{padding:.5rem}}"]})}}return n})();var Mo=class{static formatDate(t){if(!t)return"";let e=new Date(t),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=e.getFullYear();return`${i}-${r}-${o}`}static formatDateTime(t,e){if(!t||!e)return"";let i=new Date(t),r=new Date(e),o=i.getFullYear(),s=String(i.getMonth()+1).padStart(2,"0"),a=String(i.getDate()).padStart(2,"0"),l=String(r.getHours()).padStart(2,"0"),c=String(r.getMinutes()).padStart(2,"0"),d=String(r.getSeconds()).padStart(2,"0");return`${l}:${c}:${d} ${s}-${a}-${o}`}};var tl=(()=>{class n{constructor(e){this.http=e,this.apiUrl=vt.apiUrl}getAppointments(){return this.http.get(`${this.apiUrl}/appointments`)}getMyAppointments(){return this.http.get(`${this.apiUrl}/my-appointments`)}getAppointmentHistory(){return this.http.get(`${this.apiUrl}/appointment-history`)}getAppointment(e){return this.http.get(`${this.apiUrl}/appointments/${e}`)}createAppointment(e){return this.http.post(`${this.apiUrl}/appointments`,e)}updateAppointment(e,i){return this.http.put(`${this.apiUrl}/appointments/${e}`,i)}deleteAppointment(e){return this.http.delete(`${this.apiUrl}/appointments/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(j(It))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var M2=(()=>{class n{transform(e,i,r){return!e||!i||r===void 0?e:e.filter(o=>o[i]===r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=Jr({name:"filter",type:n,pure:!0})}}return n})();function g9(n,t){n&1&&(h(0,"div",34)(1,"div",35)(2,"span",36),g(3,"Loading..."),p()()())}function y9(n,t){n&1&&(h(0,"div",37),M(1,"i",38),g(2," You have no upcoming appointments. "),h(3,"a",39),g(4,"Book one now"),p()())}function v9(n,t){if(n&1&&(h(0,"tr")(1,"td"),g(2),p(),h(3,"td"),g(4),p(),h(5,"td"),g(6),p(),h(7,"td"),g(8),p(),h(9,"td")(10,"span",49),g(11),p()()()),n&2){let e=t.$implicit,i=E(2);y(2),O(i.formatDate(e.created_at)),y(2),O(i.formatDateTime(e.appointment_date,e.appointment_time)),y(2),O(e.department),y(2),O(e.doctor_name||"Not assigned"),y(2),Qe(i.getStatusClass(e.status)),y(),O(e.status)}}function b9(n,t){if(n&1&&(h(0,"div",40)(1,"table",41)(2,"thead",42)(3,"tr")(4,"th"),M(5,"i",43),g(6," Date Requested"),p(),h(7,"th"),M(8,"i",44),g(9," Appointment Time&Date"),p(),h(10,"th"),M(11,"i",45),g(12," Department"),p(),h(13,"th"),M(14,"i",46),g(15," Doctor"),p(),h(16,"th"),M(17,"i",47),g(18," Status"),p()()(),h(19,"tbody"),k(20,v9,12,7,"tr",48),p()()()),n&2){let e=E();y(20),C("ngForOf",e.appointments)}}var I2=(()=>{class n{constructor(e){this.appointmentService=e,this.appointments=[],this.loading=!0}ngOnInit(){this.loadAppointments()}loadAppointments(){this.appointmentService.getMyAppointments().subscribe({next:e=>{this.appointments=e,this.loading=!1},error:e=>{console.error("Error loading appointments:",e),this.loading=!1}})}getStatusClass(e){return{pending:"bg-warning text-dark",confirmed:"bg-success",completed:"bg-primary",cancelled:"bg-danger"}[e||"pending"]||"bg-secondary"}formatDate(e){return Mo.formatDate(e)}formatDateTime(e,i){return Mo.formatDateTime(e,i)}static{this.\u0275fac=function(i){return new(i||n)(I(tl))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-user-dashboard"]],decls:62,vars:14,consts:[[1,"user-dashboard"],[1,"hero-section","mb-4"],[1,"hero-overlay"],[1,"container"],[1,"display-4","text-white","fw-bold"],[1,"lead","text-white"],[1,"container","py-3"],[1,"row","g-2","mb-3"],[1,"col-md-4"],[1,"card","border-0","shadow-sm","stat-card"],[1,"card-body","text-center","py-2","px-2"],[1,"bi","bi-calendar-check","text-primary",2,"font-size","1.5rem"],[1,"mt-1","mb-0"],[1,"text-muted","mb-0",2,"font-size","0.8rem"],[1,"bi","bi-check-circle","text-success",2,"font-size","1.5rem"],[1,"bi","bi-hourglass-split","text-warning",2,"font-size","1.5rem"],[1,"card","border-0","shadow-sm"],[1,"card-header","bg-white","border-bottom"],[1,"mb-0"],[1,"bi","bi-calendar3"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"row","g-3","mt-4"],["routerLink","/dashboard/book-appointment",1,"btn","btn-primary","w-100","py-3"],[1,"bi","bi-plus-circle"],["routerLink","/dashboard/appointment-history",1,"btn","btn-outline-secondary","w-100","py-3"],[1,"bi","bi-clock-history"],["routerLink","/dashboard/feedback",1,"btn","btn-success","w-100","py-3"],[1,"bi","bi-chat-left-text"],["routerLink","/dashboard/book-appointment","title","Book Appointment",1,"floating-book-btn"],[1,"bi","bi-calendar-plus"],[1,"btn-text"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-info"],[1,"bi","bi-info-circle"],["routerLink","/dashboard/book-appointment",1,"alert-link"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],[1,"table-light"],[1,"bi","bi-calendar-event"],[1,"bi","bi-clock"],[1,"bi","bi-hospital"],[1,"bi","bi-person-badge"],[1,"bi","bi-flag"],[4,"ngFor","ngForOf"],[1,"badge"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),g(5,"Welcome to Your Dashboard"),p(),h(6,"p",5),g(7,"Manage your appointments and health records with ease"),p()()()(),h(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),M(13,"i",11),h(14,"h5",12),g(15),p(),h(16,"p",13),g(17,"Active Appointments"),p()()()(),h(18,"div",8)(19,"div",9)(20,"div",10),M(21,"i",14),h(22,"h5",12),g(23),ce(24,"filter"),p(),h(25,"p",13),g(26,"Confirmed"),p()()()(),h(27,"div",8)(28,"div",9)(29,"div",10),M(30,"i",15),h(31,"h5",12),g(32),ce(33,"filter"),p(),h(34,"p",13),g(35,"Pending"),p()()()()(),h(36,"div",16)(37,"div",17)(38,"h5",18),M(39,"i",19),g(40," Your Upcoming Appointments"),p()(),h(41,"div",20),k(42,g9,4,0,"div",21)(43,y9,5,0,"div",22)(44,b9,21,1,"div",23),p()(),h(45,"div",24)(46,"div",8)(47,"a",25),M(48,"i",26),g(49," Book New Appointment "),p()(),h(50,"div",8)(51,"a",27),M(52,"i",28),g(53," View History "),p()(),h(54,"div",8)(55,"a",29),M(56,"i",30),g(57," Give Feedback "),p()()()(),h(58,"a",31),M(59,"i",32),h(60,"span",33),g(61,"Book Now"),p()()()),i&2&&(y(15),O(r.appointments.length),y(8),O(m0(24,6,r.appointments,"status","confirmed").length),y(9),O(m0(33,10,r.appointments,"status","pending").length),y(10),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.appointments.length===0),y(),C("ngIf",!r.loading&&r.appointments.length>0))},dependencies:[Re,ge,Dt,M2],styles:[".user-dashboard[_ngcontent-%COMP%]{position:relative}.hero-section[_ngcontent-%COMP%]{position:relative;height:350px;background-image:url(/assets/images/dashboard-hero.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:8px;overflow:hidden}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#7393b3e6,#7393b3b3);display:flex;align-items:center;justify-content:center;text-align:center;padding:2rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.3);margin-bottom:1rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(0,0,0,.3);font-size:1.2rem}.floating-book-btn[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;background:linear-gradient(135deg,#7393b3,#5a7a9a);color:#fff;border-radius:50px;padding:15px 25px;box-shadow:0 4px 15px #7393b366;text-decoration:none;display:flex;align-items:center;gap:10px;font-weight:600;transition:all .3s ease;z-index:1000;animation:_ngcontent-%COMP%_pulse 2s infinite}.floating-book-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7a9a,#7393b3);box-shadow:0 6px 20px #7393b399;transform:translateY(-3px);color:#fff}.floating-book-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.floating-book-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:1rem}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 4px 15px #7393b366}50%{box-shadow:0 4px 25px #7393b3b3}}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{height:250px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.floating-book-btn[_ngcontent-%COMP%]{bottom:20px;right:20px;padding:12px 20px}.floating-book-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:none}.floating-book-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.quick-actions[_ngcontent-%COMP%]{flex-direction:column}.quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})}}return n})();var nl=(()=>{class n{constructor(e){this.http=e,this.apiUrl=vt.apiUrl}getDashboardStats(){return this.http.get(`${this.apiUrl}/admin/dashboard-stats`)}getAllAppointments(e){let i=new ei;return e&&Object.keys(e).forEach(r=>{e[r]&&(i=i.set(r,e[r]))}),this.http.get(`${this.apiUrl}/admin/appointments`,{params:i})}updateAppointmentStatus(e,i,r){return this.http.put(`${this.apiUrl}/admin/appointments/${e}/status`,{status:i,admin_notes:r})}getAllFeedback(e){let i=new ei;return e&&Object.keys(e).forEach(r=>{e[r]&&(i=i.set(r,e[r]))}),this.http.get(`${this.apiUrl}/admin/feedback`,{params:i})}getAllUsers(){return this.http.get(`${this.apiUrl}/admin/users`)}getChartsData(){return this.http.get(`${this.apiUrl}/admin/charts-data`)}getCalendarAppointments(e,i){let r=new ei;return e&&(r=r.set("start_date",e)),i&&(r=r.set("end_date",i)),this.http.get(`${this.apiUrl}/admin/calendar-appointments`,{params:r})}static{this.\u0275fac=function(i){return new(i||n)(j(It))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function w9(n,t){n&1&&M(0,"div",3)}function _9(n,t){if(n&1&&(h(0,"tr")(1,"td"),g(2),p(),h(3,"td"),g(4),p(),h(5,"td"),g(6),p(),h(7,"td"),g(8),p(),h(9,"td")(10,"span"),g(11),p()()()),n&2){let e=t.$implicit,i=E(3);y(2),O(e.patient_name),y(2),O(e.department),y(2),O(e.appointment_date),y(2),O(e.appointment_time),y(2),Qe(i.getStatusClass(e.status)),y(),O(e.status)}}function C9(n,t){if(n&1&&(h(0,"table",16)(1,"thead")(2,"tr")(3,"th"),g(4,"Patient"),p(),h(5,"th"),g(6,"Department"),p(),h(7,"th"),g(8,"Date"),p(),h(9,"th"),g(10,"Time"),p(),h(11,"th"),g(12,"Status"),p()()(),h(13,"tbody"),k(14,_9,12,7,"tr",17),p()()),n&2){let e=E(2);y(14),C("ngForOf",e.stats.recent_appointments)}}function x9(n,t){n&1&&(h(0,"div",18),g(1," No recent appointments found. "),p())}function D9(n,t){if(n&1&&(h(0,"div")(1,"div",4)(2,"div",5)(3,"div",6),g(4),p(),h(5,"div",7),g(6,"Total Appointments"),p()(),h(7,"div",5)(8,"div",6),g(9),p(),h(10,"div",7),g(11,"Pending"),p()(),h(12,"div",5)(13,"div",6),g(14),p(),h(15,"div",7),g(16,"Total Users"),p()(),h(17,"div",5)(18,"div",6),g(19),p(),h(20,"div",7),g(21,"Avg Rating"),p()()(),h(22,"div",8)(23,"div",9),g(24,"Recent Appointments"),p(),k(25,C9,15,1,"table",10)(26,x9,2,0,"div",11),p(),h(27,"div",12)(28,"a",13)(29,"div",6),g(30),p(),h(31,"div",7),g(32,"Confirmed Appointments"),p()(),h(33,"a",14)(34,"div",6),g(35),p(),h(36,"div",7),g(37,"Total Feedback"),p()(),h(38,"a",15)(39,"div",6),g(40),p(),h(41,"div",7),g(42,"Completed"),p()()()()),n&2){let e=E();y(4),O(e.stats.total_appointments||0),y(5),O(e.stats.pending_appointments||0),y(5),O(e.stats.total_users||0),y(5),X("",e.stats.average_rating||0," \u2B50"),y(6),C("ngIf",e.stats.recent_appointments&&e.stats.recent_appointments.length>0),y(),C("ngIf",!e.stats.recent_appointments||e.stats.recent_appointments.length===0),y(4),O(e.stats.confirmed_appointments||0),y(5),O(e.stats.total_feedback||0),y(5),O(e.stats.completed_appointments||0)}}var T2=(()=>{class n{constructor(e,i){this.adminService=e,this.notificationService=i,this.stats={},this.loading=!0}ngOnInit(){this.loadDashboardStats()}loadDashboardStats(){this.adminService.getDashboardStats().subscribe({next:e=>{this.stats=e,this.loading=!1},error:e=>{this.notificationService.error("Failed to load dashboard statistics. Please try again."),this.loading=!1}})}getStatusClass(e){return`badge badge-${e}`}static{this.\u0275fac=function(i){return new(i||n)(I(nl),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-admin-dashboard"]],decls:5,vars:2,consts:[[1,"container"],["class","spinner",4,"ngIf"],[4,"ngIf"],[1,"spinner"],[1,"grid","grid-4",2,"margin","2rem 0"],[1,"stat-card"],[1,"stat-number"],[1,"stat-label"],[1,"card"],[1,"card-header"],["class","table",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"grid","grid-3",2,"margin-top","2rem"],["routerLink","/admin/appointments",1,"stat-card",2,"text-decoration","none","cursor","pointer"],["routerLink","/admin/feedback",1,"stat-card",2,"text-decoration","none","cursor","pointer"],["routerLink","/admin/charts",1,"stat-card",2,"text-decoration","none","cursor","pointer"],[1,"table"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"h2"),g(2,"Admin Dashboard"),p(),k(3,w9,1,0,"div",1)(4,D9,43,9,"div",2),p()),i&2&&(y(3),C("ngIf",r.loading),y(),C("ngIf",!r.loading))},dependencies:[Re,ge,Dt]})}}return n})();var il=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${vt.apiUrl}/doctors`,this.adminApiUrl=`${vt.apiUrl}/admin/doctors`}getAllDoctors(e){return this.http.get(this.apiUrl,{params:e})}getDoctor(e){return this.http.get(`${this.apiUrl}/${e}`)}getDoctorsByDepartment(e){return this.http.get(`${this.apiUrl}/department/${e}`)}createDoctor(e){return this.http.post(this.adminApiUrl,e)}updateDoctor(e,i){return this.http.put(`${this.adminApiUrl}/${e}`,i)}deleteDoctor(e){return this.http.delete(`${this.adminApiUrl}/${e}`)}getDoctorProfile(){return this.http.get(`${vt.apiUrl}/doctor/profile`)}updateDoctorProfile(e){return this.http.put(`${vt.apiUrl}/doctor/profile`,e)}getDoctorProfileById(e){return this.http.get(`${this.adminApiUrl}/${e}/profile`)}updateDoctorProfileByAdmin(e,i){return this.http.put(`${this.adminApiUrl}/${e}/profile`,i)}static{this.\u0275fac=function(i){return new(i||n)(j(It))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function E9(n,t){if(n&1&&(h(0,"div",30),g(1),p()),n&2){let e=E();y(),O(e.success)}}function S9(n,t){if(n&1&&(h(0,"div",31),g(1),p()),n&2){let e=E();y(),O(e.error)}}function M9(n,t){if(n&1&&(h(0,"option",32),g(1),p()),n&2){let e=t.$implicit;C("value",e),y(),O(e)}}function I9(n,t){if(n&1&&(h(0,"option",32),g(1),p()),n&2){let e=t.$implicit;C("value",e.name),y(),O(e.name)}}function T9(n,t){n&1&&(h(0,"span"),g(1,"Booking..."),p())}function A9(n,t){n&1&&(h(0,"span"),g(1,"Book Appointment"),p())}var A2=(()=>{class n{constructor(e,i,r,o,s,a){this.formBuilder=e,this.appointmentService=i,this.authService=r,this.router=o,this.notificationService=s,this.doctorService=a,this.loading=!1,this.success="",this.error="",this.departments=["General Medicine","Cardiology","Orthopedics","Pediatrics","Dermatology","ENT","Ophthalmology","Gynecology","Neurology","Psychiatry"],this.allDoctors=[],this.availableDoctors=[]}ngOnInit(){let e=this.authService.currentUserValue;this.appointmentForm=this.formBuilder.group({patient_name:[e?.name||"",Me.required],patient_email:[e?.email||"",[Me.required,Me.email]],patient_phone:[e?.phone||"",Me.required],appointment_date:["",Me.required],appointment_time:["",Me.required],department:["",Me.required],doctor:[""],reason:[""]}),this.loadDoctors(),this.appointmentForm.get("department")?.valueChanges.subscribe(i=>{this.filterDoctorsByDepartment(i)})}loadDoctors(){this.doctorService.getAllDoctors({status:"active"}).subscribe({next:e=>{this.allDoctors=e},error:e=>{console.error("Error loading doctors:",e),this.notificationService.error("Failed to load doctors")}})}filterDoctorsByDepartment(e){this.availableDoctors=this.allDoctors.filter(i=>i.department===e),this.appointmentForm.patchValue({doctor:""})}get f(){return this.appointmentForm.controls}onSubmit(){this.appointmentForm.invalid||(this.loading=!0,this.appointmentService.createAppointment(this.appointmentForm.value).subscribe({next:e=>{this.notificationService.success("Appointment booked successfully!"),this.loading=!1,setTimeout(()=>{this.router.navigate(["/dashboard/user"])},2e3)},error:e=>{this.notificationService.error(e.error?.message||"Failed to book appointment. Please try again."),this.loading=!1}}))}getMinDate(){return new Date().toISOString().split("T")[0]}static{this.\u0275fac=function(i){return new(i||n)(I($i),I(tl),I(Et),I(Oe),I(Fe),I(il))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-appointment-booking"]],decls:52,vars:10,consts:[[1,"container"],[1,"card"],[1,"card-header"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"grid","grid-2"],[1,"form-group"],["for","patient_name"],["type","text","id","patient_name","formControlName","patient_name",1,"form-control"],["for","patient_email"],["type","email","id","patient_email","formControlName","patient_email",1,"form-control"],["for","patient_phone"],["type","tel","id","patient_phone","formControlName","patient_phone",1,"form-control"],["for","department"],["id","department","formControlName","department",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","doctor"],["id","doctor","formControlName","doctor",1,"form-control",3,"disabled"],["for","appointment_date"],["type","date","id","appointment_date","formControlName","appointment_date",1,"form-control",3,"min"],["for","appointment_time"],["type","time","id","appointment_time","formControlName","appointment_time","min","08:00","max","18:00",1,"form-control"],["for","reason"],["id","reason","formControlName","reason","rows","4","placeholder","Describe your symptoms or reason for visit",1,"form-control"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["type","button","routerLink","/dashboard/user",1,"btn","btn-outline"],[1,"alert","alert-success"],[1,"alert","alert-error"],[3,"value"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),g(3,"Book an Appointment"),p(),k(4,E9,2,1,"div",3)(5,S9,2,1,"div",4),h(6,"form",5),N("ngSubmit",function(){return r.onSubmit()}),h(7,"div",6)(8,"div",7)(9,"label",8),g(10,"Patient Name"),p(),M(11,"input",9),p(),h(12,"div",7)(13,"label",10),g(14,"Email"),p(),M(15,"input",11),p(),h(16,"div",7)(17,"label",12),g(18,"Phone Number"),p(),M(19,"input",13),p(),h(20,"div",7)(21,"label",14),g(22,"Department"),p(),h(23,"select",15)(24,"option",16),g(25,"Select Department"),p(),k(26,M9,2,2,"option",17),p()(),h(27,"div",7)(28,"label",18),g(29,"Preferred Doctor (Optional)"),p(),h(30,"select",19)(31,"option",16),g(32,"Select Doctor"),p(),k(33,I9,2,2,"option",17),p()(),h(34,"div",7)(35,"label",20),g(36,"Appointment Date"),p(),M(37,"input",21),p(),h(38,"div",7)(39,"label",22),g(40,"Appointment Time"),p(),M(41,"input",23),p()(),h(42,"div",7)(43,"label",24),g(44,"Reason for Visit"),p(),M(45,"textarea",25),p(),h(46,"div",26)(47,"button",27),k(48,T9,2,0,"span",28)(49,A9,2,0,"span",28),p(),h(50,"button",29),g(51,"Cancel"),p()()()()()),i&2&&(y(4),C("ngIf",r.success),y(),C("ngIf",r.error),y(),C("formGroup",r.appointmentForm),y(20),C("ngForOf",r.departments),y(4),C("disabled",!r.availableDoctors.length),y(3),C("ngForOf",r.availableDoctors),y(4),C("min",r.getMinDate()),y(10),C("disabled",r.loading||r.appointmentForm.invalid),y(),C("ngIf",r.loading),y(),C("ngIf",!r.loading))},dependencies:[Re,ge,Dt,ln,En,Sn,rt,qt,nt,an,xn,Dn],styles:[".form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})}}return n})();function k9(n,t){n&1&&M(0,"div",6)}function N9(n,t){n&1&&(h(0,"div",7),g(1," No appointment history found. "),p())}function O9(n,t){if(n&1&&(h(0,"tr")(1,"td"),g(2),p(),h(3,"td"),g(4),p(),h(5,"td"),g(6),p(),h(7,"td"),g(8),p(),h(9,"td")(10,"span"),g(11),p()(),h(12,"td"),g(13),p()()),n&2){let e=t.$implicit,i=E(2);y(2),O(i.formatDate(e.created_at)),y(2),O(i.formatDateTime(e.appointment_date,e.appointment_time)),y(2),O(e.department),y(2),O(e.doctor_name||"N/A"),y(2),Qe(i.getStatusClass(e.status)),y(),O(e.status),y(2),O(e.admin_notes||"-")}}function P9(n,t){if(n&1&&(h(0,"table",8)(1,"thead")(2,"tr")(3,"th"),g(4,"Date Requested"),p(),h(5,"th"),g(6,"Appointment Time&Date"),p(),h(7,"th"),g(8,"Department"),p(),h(9,"th"),g(10,"Doctor"),p(),h(11,"th"),g(12,"Status"),p(),h(13,"th"),g(14,"Notes"),p()()(),h(15,"tbody"),k(16,O9,14,8,"tr",9),p()()),n&2){let e=E();y(16),C("ngForOf",e.appointments)}}var k2=(()=>{class n{constructor(e,i){this.appointmentService=e,this.notificationService=i,this.appointments=[],this.loading=!0}ngOnInit(){this.loadHistory()}loadHistory(){this.appointmentService.getAppointmentHistory().subscribe({next:e=>{this.appointments=e,this.loading=!1},error:e=>{this.notificationService.error("Failed to load appointment history. Please try again."),this.loading=!1}})}getStatusClass(e){return`badge badge-${e}`}formatDate(e){return Mo.formatDate(e)}formatDateTime(e,i){return Mo.formatDateTime(e,i)}static{this.\u0275fac=function(i){return new(i||n)(I(tl),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-appointment-history"]],decls:7,vars:3,consts:[[1,"container"],[1,"card"],[1,"card-header"],["class","spinner",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","table",4,"ngIf"],[1,"spinner"],[1,"alert","alert-info"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),g(3,"Appointment History"),p(),k(4,k9,1,0,"div",3)(5,N9,2,0,"div",4)(6,P9,17,1,"table",5),p()()),i&2&&(y(4),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.appointments.length===0),y(),C("ngIf",!r.loading&&r.appointments.length>0))},dependencies:[Re,ge]})}}return n})();var N2=(()=>{class n{constructor(e){this.http=e,this.apiUrl=vt.apiUrl}getFeedback(){return this.http.get(`${this.apiUrl}/feedback`)}getMyFeedback(){return this.http.get(`${this.apiUrl}/my-feedback`)}createFeedback(e){return this.http.post(`${this.apiUrl}/feedback`,e)}updateFeedback(e,i){return this.http.put(`${this.apiUrl}/feedback/${e}`,i)}deleteFeedback(e){return this.http.delete(`${this.apiUrl}/feedback/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(j(It))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function F9(n,t){if(n&1&&(h(0,"div",27),g(1),p()),n&2){let e=E();y(),O(e.success)}}function L9(n,t){if(n&1&&(h(0,"div",28),g(1),p()),n&2){let e=E();y(),O(e.error)}}function V9(n,t){n&1&&(h(0,"div",29),g(1," You have already submitted feedback today. You can edit it within 24 hours. "),p())}function B9(n,t){if(n&1&&(h(0,"option",30),g(1),p()),n&2){let e=t.$implicit;C("value",e),y(),O(e)}}function j9(n,t){if(n&1&&(h(0,"span"),g(1),p()),n&2){let e=E();y(),O(e.editingFeedbackId?"Updating...":"Submitting...")}}function $9(n,t){if(n&1&&(h(0,"span"),g(1),p()),n&2){let e=E();y(),O(e.editingFeedbackId?"Update Feedback":"Submit Feedback")}}function z9(n,t){if(n&1){let e=J();h(0,"button",31),N("click",function(){P(e);let r=E();return R(r.cancelEdit())}),g(1,"Cancel"),p()}}function U9(n,t){n&1&&(h(0,"div",29),g(1," You haven't submitted any feedback yet. "),p())}function H9(n,t){if(n&1&&(h(0,"span"),g(1),p()),n&2){let e=E().$implicit;y(),X("",e.department," \u2022 ")}}function W9(n,t){if(n&1){let e=J();h(0,"button",40),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.editFeedback(r))}),g(1," Edit "),p()}}function q9(n,t){if(n&1&&(h(0,"div",34)(1,"div",35),g(2),p(),h(3,"div",36),g(4),p(),h(5,"div",37),k(6,H9,2,1,"span",24),h(7,"span",38),g(8),ce(9,"date"),p(),k(10,W9,2,0,"button",39),p()()),n&2){let e=t.$implicit,i=E(2);y(2),O(i.getRatingStars(e.rating)),y(2),O(e.comment),y(2),C("ngIf",e.department),y(2),O(vi(9,5,e.created_at,"short")),y(2),C("ngIf",i.canEdit(e))}}function G9(n,t){if(n&1&&(h(0,"div",32),k(1,q9,11,8,"div",33),p()),n&2){let e=E();y(),C("ngForOf",e.myFeedback)}}var O2=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.feedbackService=i,this.notificationService=r,this.myFeedback=[],this.loading=!1,this.success="",this.error="",this.editingFeedbackId=null,this.todayFeedback=null,this.departments=["General Medicine","Cardiology","Orthopedics","Pediatrics","Dermatology","ENT","Ophthalmology","Gynecology","Neurology","Psychiatry"]}ngOnInit(){this.feedbackForm=this.formBuilder.group({rating:[5,[Me.required,Me.min(1),Me.max(5)]],department:[""],comment:["",Me.required]}),this.loadMyFeedback()}loadMyFeedback(){this.feedbackService.getMyFeedback().subscribe({next:e=>{this.myFeedback=e;let i=new Date().toDateString();this.todayFeedback=e.find(r=>new Date(r.created_at).toDateString()===i)},error:e=>{console.error("Error loading feedback:",e)}})}onSubmit(){this.feedbackForm.invalid||(this.loading=!0,this.error="",this.success="",this.editingFeedbackId?this.feedbackService.updateFeedback(this.editingFeedbackId,this.feedbackForm.value).subscribe({next:e=>{this.notificationService.success("Feedback updated successfully!"),this.feedbackForm.reset({rating:5}),this.editingFeedbackId=null,this.loadMyFeedback(),this.loading=!1},error:e=>{this.notificationService.error(e.error?.message||"Failed to update feedback. You can only edit within 24 hours."),this.loading=!1}}):this.feedbackService.createFeedback(this.feedbackForm.value).subscribe({next:e=>{this.notificationService.success("Thank you for your feedback!"),this.feedbackForm.reset({rating:5}),this.loadMyFeedback(),this.loading=!1},error:e=>{this.notificationService.error(e.error?.message||"Failed to submit feedback. You can only submit once per day."),this.loading=!1}}))}editFeedback(e){let i=new Date(e.created_at);if((new Date().getTime()-i.getTime())/(1e3*60*60)>=24){this.notificationService.error("You can only edit feedback within 24 hours of submission.");return}this.editingFeedbackId=e.id,this.feedbackForm.patchValue({rating:e.rating,department:e.department,comment:e.comment}),this.error="",this.success=""}cancelEdit(){this.editingFeedbackId=null,this.feedbackForm.reset({rating:5}),this.error="",this.success=""}canEdit(e){let i=new Date(e.created_at);return(new Date().getTime()-i.getTime())/(1e3*60*60)<24}getRatingStars(e){return"\u2B50".repeat(e)}static{this.\u0275fac=function(i){return new(i||n)(I($i),I(N2),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-feedback"]],decls:44,vars:12,consts:[[1,"container"],[1,"grid","grid-2"],[1,"card"],[1,"card-header"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","rating"],["id","rating","formControlName","rating",1,"form-control"],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],["for","department"],["id","department","formControlName","department",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","comment"],["id","comment","formControlName","comment","rows","5","placeholder","Share your experience with us",1,"form-control"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["class","feedback-list",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"alert","alert-info"],[3,"value"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"feedback-list"],["class","feedback-item",4,"ngFor","ngForOf"],[1,"feedback-item"],[1,"feedback-rating"],[1,"feedback-comment"],[1,"feedback-meta"],[1,"feedback-date"],["class","btn btn-sm btn-primary","style","margin-left: 10px;",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary",2,"margin-left","10px",3,"click"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4),p(),k(5,F9,2,1,"div",4)(6,L9,2,1,"div",5)(7,V9,2,0,"div",6),h(8,"form",7),N("ngSubmit",function(){return r.onSubmit()}),h(9,"div",8)(10,"label",9),g(11,"Rating"),p(),h(12,"select",10)(13,"option",11),g(14,"\u2B50\u2B50\u2B50\u2B50\u2B50 Excellent"),p(),h(15,"option",12),g(16,"\u2B50\u2B50\u2B50\u2B50 Good"),p(),h(17,"option",13),g(18,"\u2B50\u2B50\u2B50 Average"),p(),h(19,"option",14),g(20,"\u2B50\u2B50 Poor"),p(),h(21,"option",15),g(22,"\u2B50 Very Poor"),p()()(),h(23,"div",8)(24,"label",16),g(25,"Department (Optional)"),p(),h(26,"select",17)(27,"option",18),g(28,"Select Department"),p(),k(29,B9,2,2,"option",19),p()(),h(30,"div",8)(31,"label",20),g(32,"Your Feedback"),p(),M(33,"textarea",21),p(),h(34,"div",22)(35,"button",23),k(36,j9,2,1,"span",24)(37,$9,2,1,"span",24),p(),k(38,z9,2,0,"button",25),p()()(),h(39,"div",2)(40,"div",3),g(41,"Your Previous Feedback"),p(),k(42,U9,2,0,"div",6)(43,G9,2,1,"div",26),p()()()),i&2&&(y(4),X(" ",r.editingFeedbackId?"Edit Feedback":"Submit Feedback"," "),y(),C("ngIf",r.success),y(),C("ngIf",r.error),y(),C("ngIf",r.todayFeedback&&!r.editingFeedbackId),y(),C("formGroup",r.feedbackForm),y(21),C("ngForOf",r.departments),y(6),C("disabled",r.loading||r.feedbackForm.invalid||r.todayFeedback&&!r.editingFeedbackId),y(),C("ngIf",r.loading),y(),C("ngIf",!r.loading),y(),C("ngIf",r.editingFeedbackId),y(4),C("ngIf",r.myFeedback.length===0),y(),C("ngIf",r.myFeedback.length>0))},dependencies:[Re,ge,ln,En,Sn,rt,qt,nt,an,xn,Dn,lo],styles:[".feedback-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.feedback-item[_ngcontent-%COMP%]{padding:1rem;background-color:#f9fafb;border-radius:8px;border-left:4px solid var(--primary-color)}.feedback-rating[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}.feedback-comment[_ngcontent-%COMP%]{color:#374151;margin-bottom:.5rem}.feedback-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.875rem;color:#6b7280}.feedback-date[_ngcontent-%COMP%]{font-style:italic}"]})}}return n})();function K9(n,t){n&1&&M(0,"div",16)}function Q9(n,t){n&1&&(h(0,"div",17),g(1," No appointments found. "),p())}function Y9(n,t){if(n&1){let e=J();h(0,"tr")(1,"td"),g(2),p(),h(3,"td"),g(4),p(),h(5,"td"),g(6),p(),h(7,"td"),g(8),p(),h(9,"td"),g(10),ce(11,"date"),p(),h(12,"td"),g(13),ce(14,"date"),p(),h(15,"td")(16,"span"),g(17),p()(),h(18,"td")(19,"button",20),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.openStatusModal(r))}),g(20," Update "),p()()()}if(n&2){let e=t.$implicit,i=E(2);y(2),O(e.id),y(2),O(e.patient_name),y(2),O(e.patient_email),y(2),O(e.department),y(2),O(vi(11,9,e.created_at,"MM/dd/yyyy HH:mm:ss")),y(3),O(vi(14,12,e.appointment_time,"MM/dd/yyyy HH:mm:ss")),y(3),Qe(i.getStatusClass(e.status)),y(),O(e.status)}}function Z9(n,t){if(n&1&&(h(0,"table",18)(1,"thead")(2,"tr")(3,"th"),g(4,"ID"),p(),h(5,"th"),g(6,"Patient"),p(),h(7,"th"),g(8,"Email"),p(),h(9,"th"),g(10,"Department"),p(),h(11,"th"),g(12,"Request Date"),p(),h(13,"th"),g(14,"Appointment Date"),p(),h(15,"th"),g(16,"Status"),p(),h(17,"th"),g(18,"Actions"),p()()(),h(19,"tbody"),k(20,Y9,21,15,"tr",19),p()()),n&2){let e=E();y(20),C("ngForOf",e.appointments)}}function J9(n,t){if(n&1){let e=J();h(0,"div",21),N("click",function(){P(e);let r=E();return R(r.closeModal())}),h(1,"div",22),N("click",function(r){return P(e),R(r.stopPropagation())}),h(2,"div",23)(3,"h3"),g(4,"Update Appointment Status"),p(),h(5,"button",24),N("click",function(){P(e);let r=E();return R(r.closeModal())}),g(6,"\xD7"),p()(),h(7,"div",25)(8,"div",26)(9,"label"),g(10),p()(),h(11,"div",26)(12,"label",27),g(13,"Status"),p(),h(14,"select",28),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.newStatus,r)||(o.newStatus=r),R(r)}),h(15,"option",8),g(16,"Pending"),p(),h(17,"option",9),g(18,"Confirmed"),p(),h(19,"option",10),g(20,"Completed"),p(),h(21,"option",11),g(22,"Cancelled"),p()()(),h(23,"div",26)(24,"label",29),g(25,"Admin Notes"),p(),h(26,"textarea",30),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.adminNotes,r)||(o.adminNotes=r),R(r)}),p()()(),h(27,"div",31)(28,"button",32),N("click",function(){P(e);let r=E();return R(r.closeModal())}),g(29,"Cancel"),p(),h(30,"button",33),N("click",function(){P(e);let r=E();return R(r.updateStatus())}),g(31,"Update"),p()()()()}if(n&2){let e=E();y(10),X("Patient: ",e.selectedAppointment==null?null:e.selectedAppointment.patient_name,""),y(4),Q("ngModel",e.newStatus),y(12),Q("ngModel",e.adminNotes)}}var P2=(()=>{class n{constructor(e,i){this.http=e,this.notificationService=i,this.appointments=[],this.loading=!0,this.statusFilter="",this.selectedAppointment=null,this.showModal=!1,this.newStatus="",this.adminNotes="",this.apiUrl=vt.apiUrl}ngOnInit(){this.loadAppointments()}loadAppointments(){this.loading=!0;let e=this.statusFilter?`${this.apiUrl}/admin/appointments?status=${this.statusFilter}`:`${this.apiUrl}/admin/appointments`;this.http.get(e).subscribe({next:i=>{this.appointments=i.data||i,this.loading=!1},error:i=>{console.error("Appointments error:",i),this.notificationService.error("Failed to load appointments: "+(i.error?.message||i.message)),this.loading=!1}})}filterByStatus(){this.loadAppointments()}openStatusModal(e){this.selectedAppointment=e,this.newStatus=e.status,this.adminNotes=e.admin_notes||"",this.showModal=!0}closeModal(){this.showModal=!1,this.selectedAppointment=null}updateStatus(){this.selectedAppointment&&this.http.put(`${this.apiUrl}/admin/appointments/${this.selectedAppointment.id}/status`,{status:this.newStatus,admin_notes:this.adminNotes}).subscribe({next:()=>{this.notificationService.success("Appointment status updated successfully!"),this.closeModal(),this.loadAppointments()},error:e=>{this.notificationService.error("Failed to update appointment status. Please try again.")}})}getStatusClass(e){return"badge "+({pending:"bg-warning text-dark",confirmed:"bg-success",completed:"bg-primary",cancelled:"bg-danger"}[e]||"bg-secondary")}static{this.\u0275fac=function(i){return new(i||n)(I(It),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-admin-appointments"]],decls:24,vars:5,consts:[[1,"container"],[1,"card"],[1,"card-header"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"filter-group"],["for","statusFilter"],["id","statusFilter",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],["value","pending"],["value","confirmed"],["value","completed"],["value","cancelled"],["class","spinner",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","table",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"spinner"],[1,"alert","alert-info"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",2,"padding","0.4rem 0.8rem","font-size","0.85rem",3,"click"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],["for","newStatus"],["id","newStatus",1,"form-control",3,"ngModelChange","ngModel"],["for","adminNotes"],["id","adminNotes","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-outline",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),g(5,"Manage Appointments"),p(),h(6,"div",4)(7,"label",5),g(8,"Filter by Status:"),p(),h(9,"select",6),Y("ngModelChange",function(s){return Z(r.statusFilter,s)||(r.statusFilter=s),s}),N("change",function(){return r.filterByStatus()}),h(10,"option",7),g(11,"All"),p(),h(12,"option",8),g(13,"Pending"),p(),h(14,"option",9),g(15,"Confirmed"),p(),h(16,"option",10),g(17,"Completed"),p(),h(18,"option",11),g(19,"Cancelled"),p()()()()(),k(20,K9,1,0,"div",12)(21,Q9,2,0,"div",13)(22,Z9,21,1,"table",14),p()(),k(23,J9,32,3,"div",15)),i&2&&(y(9),Q("ngModel",r.statusFilter),y(11),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.appointments.length===0),y(),C("ngIf",!r.loading&&r.appointments.length>0),y(),C("ngIf",r.showModal))},dependencies:[Re,ge,En,Sn,rt,qt,nt,Ln,lo],styles:[".filter-group[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:200px}.table[_ngcontent-%COMP%]{table-layout:auto;width:100%}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;vertical-align:middle;white-space:nowrap}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;vertical-align:middle}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 4px 20px #0000004d}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;cursor:pointer;color:#6b7280}.close-btn[_ngcontent-%COMP%]:hover{color:#1f2937}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:1rem}"]})}}return n})();function X9(n,t){n&1&&M(0,"div",16)}function eW(n,t){n&1&&(h(0,"div",17),g(1," No feedback found. "),p())}function tW(n,t){if(n&1&&(h(0,"span"),g(1),p()),n&2){let e=E().$implicit;y(),O(e.comment)}}function nW(n,t){n&1&&(h(0,"span",25),g(1,"[Hidden]"),p())}function iW(n,t){if(n&1){let e=J();h(0,"tr")(1,"td"),g(2),p(),h(3,"td"),g(4),p(),h(5,"td"),g(6),p(),h(7,"td"),g(8),p(),h(9,"td"),k(10,tW,2,1,"span",20)(11,nW,2,0,"span",21),p(),h(12,"td"),g(13),ce(14,"date"),p(),h(15,"td")(16,"span",22),g(17),p()(),h(18,"td")(19,"button",23),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.toggleVisibility(r))}),M(20,"i",24),g(21),p()()()}if(n&2){let e=t.$implicit,i=E(2);re("text-muted",e.is_hidden),y(2),O(e.id),y(2),O((e.user==null?null:e.user.name)||"N/A"),y(2),O(i.getRatingStars(e.rating)),y(2),O(e.department||"General"),y(2),C("ngIf",!e.is_hidden),y(),C("ngIf",e.is_hidden),y(2),O(vi(14,23,e.created_at,"short")),y(3),re("bg-success",!e.is_hidden)("bg-secondary",e.is_hidden),y(),X(" ",e.is_hidden?"Hidden":"Visible"," "),y(2),re("btn-warning",!e.is_hidden)("btn-success",e.is_hidden),y(),re("bi-eye-slash",!e.is_hidden)("bi-eye",e.is_hidden),y(),X(" ",e.is_hidden?"Show":"Hide"," ")}}function rW(n,t){if(n&1&&(h(0,"table",18)(1,"thead")(2,"tr")(3,"th"),g(4,"ID"),p(),h(5,"th"),g(6,"User"),p(),h(7,"th"),g(8,"Rating"),p(),h(9,"th"),g(10,"Department"),p(),h(11,"th"),g(12,"Comment"),p(),h(13,"th"),g(14,"Date"),p(),h(15,"th"),g(16,"Status"),p(),h(17,"th"),g(18,"Actions"),p()()(),h(19,"tbody"),k(20,iW,22,26,"tr",19),p()()),n&2){let e=E();y(20),C("ngForOf",e.feedbackList)}}var R2=(()=>{class n{constructor(e,i){this.http=e,this.notificationService=i,this.feedbackList=[],this.loading=!0,this.ratingFilter="",this.apiUrl=vt.apiUrl}ngOnInit(){this.loadFeedback()}loadFeedback(){this.loading=!0;let e=this.ratingFilter?`${this.apiUrl}/admin/feedback?rating=${this.ratingFilter}`:`${this.apiUrl}/admin/feedback`;this.http.get(e).subscribe({next:i=>{this.feedbackList=i.data||i,this.loading=!1},error:i=>{console.error("Feedback error:",i),this.notificationService.error("Failed to load feedback: "+(i.error?.message||i.message)),this.loading=!1}})}filterByRating(){this.loadFeedback()}getRatingStars(e){return"\u2B50".repeat(e)}toggleVisibility(e){let i=`${this.apiUrl}/admin/feedback/${e.id}/toggle-visibility`;this.http.put(i,{}).subscribe({next:r=>{e.is_hidden=!e.is_hidden,this.notificationService.success(r.message)},error:r=>{this.notificationService.error("Failed to update visibility")}})}static{this.\u0275fac=function(i){return new(i||n)(I(It),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-admin-feedback"]],decls:25,vars:4,consts:[[1,"container"],[1,"card"],[1,"card-header"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"filter-group"],["for","ratingFilter"],["id","ratingFilter",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],["class","spinner",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","table",4,"ngIf"],[1,"spinner"],[1,"alert","alert-info"],[1,"table"],[3,"text-muted",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-muted fst-italic",4,"ngIf"],[1,"badge"],[1,"btn","btn-sm",3,"click"],[1,"bi"],[1,"text-muted","fst-italic"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),g(5,"User Feedback & Reviews"),p(),h(6,"div",4)(7,"label",5),g(8,"Filter by Rating:"),p(),h(9,"select",6),Y("ngModelChange",function(s){return Z(r.ratingFilter,s)||(r.ratingFilter=s),s}),N("change",function(){return r.filterByRating()}),h(10,"option",7),g(11,"All Ratings"),p(),h(12,"option",8),g(13,"\u2B50\u2B50\u2B50\u2B50\u2B50"),p(),h(14,"option",9),g(15,"\u2B50\u2B50\u2B50\u2B50"),p(),h(16,"option",10),g(17,"\u2B50\u2B50\u2B50"),p(),h(18,"option",11),g(19,"\u2B50\u2B50"),p(),h(20,"option",12),g(21,"\u2B50"),p()()()()(),k(22,X9,1,0,"div",13)(23,eW,2,0,"div",14)(24,rW,21,1,"table",15),p()()),i&2&&(y(9),Q("ngModel",r.ratingFilter),y(13),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.feedbackList.length===0),y(),C("ngIf",!r.loading&&r.feedbackList.length>0))},dependencies:[Re,ge,En,Sn,qt,nt,Ln,lo],styles:[".filter-group[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:200px}"]})}}return n})();function oW(n,t){n&1&&M(0,"div",3)}function sW(n,t){if(n&1&&(h(0,"div",11)(1,"div",12),g(2),p(),h(3,"div",13)(4,"div",14)(5,"span",15),g(6),p()()()()),n&2){let e=t.$implicit,i=E(2);y(2),O(e.status),y(2),Qe("status-"+e.status),At("width",i.getPercentage(e.count,i.getTotalAppointments()),"%"),y(2),O(e.count)}}function aW(n,t){if(n&1&&(h(0,"div",11)(1,"div",12),g(2),p(),h(3,"div",13)(4,"div",16)(5,"span",15),g(6),p()()()()),n&2){let e=t.$implicit,i=E(2);y(2),O(e.department),y(2),At("width",i.getPercentage(e.count,i.getTotalAppointments()),"%"),y(2),O(e.count)}}function lW(n,t){if(n&1&&(h(0,"div",11)(1,"div",12),g(2),p(),h(3,"div",13)(4,"div",17)(5,"span",15),g(6),p()()()()),n&2){let e=t.$implicit,i=E(2);y(2),O(e.month),y(2),At("width",i.getPercentage(e.count,i.getTotalAppointments()),"%"),y(2),O(e.count)}}function cW(n,t){n&1&&(h(0,"div",18),g(1," No feedback data available yet. "),p())}function uW(n,t){if(n&1&&(h(0,"div",11)(1,"div",12),g(2),p(),h(3,"div",13)(4,"div",19)(5,"span",15),g(6),p()()()()),n&2){let e=t.$implicit,i=E(3);y(2),O(i.getRatingStars(e.rating)),y(2),At("width",i.getPercentage(e.count,i.getTotalFeedback()),"%"),y(2),Li("",e.count," (",i.getPercentage(e.count,i.getTotalFeedback()),"%)")}}function dW(n,t){if(n&1&&(h(0,"div",7),k(1,uW,7,5,"div",8),p()),n&2){let e=E(2);y(),C("ngForOf",e.chartsData.feedback_distribution)}}function fW(n,t){if(n&1&&(h(0,"div")(1,"div",4)(2,"div",5),g(3,"Appointments by Status"),p(),h(4,"div",6)(5,"div",7),k(6,sW,7,6,"div",8),p()()(),h(7,"div",4)(8,"div",5),g(9,"Appointments by Department"),p(),h(10,"div",6)(11,"div",7),k(12,aW,7,4,"div",8),p()()(),h(13,"div",4)(14,"div",5),g(15,"Appointments Trend (Last 6 Months)"),p(),h(16,"div",6)(17,"div",7),k(18,lW,7,4,"div",8),p()()(),h(19,"div",4)(20,"div",5),g(21,"Feedback Ratings Distribution"),p(),h(22,"div",6),k(23,cW,2,0,"div",9)(24,dW,2,1,"div",10),p()()()),n&2){let e=E();y(6),C("ngForOf",e.chartsData.appointments_by_status),y(6),C("ngForOf",e.chartsData.appointments_by_department),y(6),C("ngForOf",e.chartsData.appointments_by_month),y(5),C("ngIf",!e.chartsData.feedback_distribution||e.chartsData.feedback_distribution.length===0),y(),C("ngIf",e.chartsData.feedback_distribution&&e.chartsData.feedback_distribution.length>0)}}var F2=(()=>{class n{constructor(e,i){this.adminService=e,this.notificationService=i,this.chartsData=null,this.loading=!0}ngOnInit(){this.loadChartsData()}loadChartsData(){this.adminService.getChartsData().subscribe({next:e=>{this.chartsData=e,this.loading=!1},error:e=>{this.notificationService.error("Failed to load charts data. Please try again."),this.loading=!1}})}getPercentage(e,i){return i>0?Math.round(e/i*100):0}getTotalAppointments(){return this.chartsData?.appointments_by_status?this.chartsData.appointments_by_status.reduce((e,i)=>e+i.count,0):0}getTotalFeedback(){return this.chartsData?.feedback_distribution?this.chartsData.feedback_distribution.reduce((e,i)=>e+i.count,0):0}getRatingStars(e){return"\u2B50".repeat(e)}static{this.\u0275fac=function(i){return new(i||n)(I(nl),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-admin-charts"]],decls:5,vars:2,consts:[[1,"container"],["class","spinner",4,"ngIf"],[4,"ngIf"],[1,"spinner"],[1,"card"],[1,"card-header"],[1,"chart-container"],[1,"simple-bar-chart"],["class","chart-bar-item",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],["class","simple-bar-chart",4,"ngIf"],[1,"chart-bar-item"],[1,"chart-label"],[1,"chart-bar-wrapper"],[1,"chart-bar"],[1,"chart-value"],[1,"chart-bar","chart-bar-department"],[1,"chart-bar","chart-bar-month"],[1,"alert","alert-info"],[1,"chart-bar","chart-bar-rating"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"h2"),g(2,"Analytics & Charts"),p(),k(3,oW,1,0,"div",1)(4,fW,25,5,"div",2),p()),i&2&&(y(3),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.chartsData))},dependencies:[Re,ge],styles:[".chart-container[_ngcontent-%COMP%]{padding:1rem 0}.simple-bar-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.chart-bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.chart-label[_ngcontent-%COMP%]{min-width:150px;font-weight:500;text-transform:capitalize}.chart-bar-wrapper[_ngcontent-%COMP%]{flex:1;background-color:#f3f4f6;border-radius:4px;overflow:hidden}.chart-bar[_ngcontent-%COMP%]{min-width:50px;height:30px;display:flex;align-items:center;justify-content:flex-end;padding-right:.5rem;transition:width .3s ease;position:relative}.chart-value[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:.875rem}.chart-bar-department[_ngcontent-%COMP%]{background-color:var(--primary-color)}.chart-bar-month[_ngcontent-%COMP%]{background-color:var(--secondary-color)}.chart-bar-rating[_ngcontent-%COMP%], .status-pending[_ngcontent-%COMP%]{background-color:#f59e0b}.status-confirmed[_ngcontent-%COMP%]{background-color:#10b981}.status-completed[_ngcontent-%COMP%]{background-color:#3b82f6}.status-cancelled[_ngcontent-%COMP%]{background-color:#ef4444}@media (max-width: 768px){.chart-label[_ngcontent-%COMP%]{min-width:100px;font-size:.875rem}}"]})}}return n})();function pW(n,t){n&1&&M(0,"div",14)}function hW(n,t){if(n&1&&(h(0,"div",29),g(1),p()),n&2){let e=E(3).$implicit;y(),X(" Pending: ",e.pending," ")}}function mW(n,t){if(n&1&&(h(0,"div",30),g(1),p()),n&2){let e=E(3).$implicit;y(),X(" Confirmed: ",e.confirmed," ")}}function gW(n,t){if(n&1&&(h(0,"div",31),g(1),p()),n&2){let e=E(3).$implicit;y(),X(" Completed: ",e.completed," ")}}function yW(n,t){if(n&1&&(h(0,"div",32),g(1),p()),n&2){let e=E(3).$implicit;y(),X(" Cancelled: ",e.cancelled," ")}}function vW(n,t){if(n&1&&(h(0,"div",24),k(1,hW,2,1,"div",25)(2,mW,2,1,"div",26)(3,gW,2,1,"div",27)(4,yW,2,1,"div",28),p()),n&2){let e=E(2).$implicit;y(),C("ngIf",e.pending>0),y(),C("ngIf",e.confirmed>0),y(),C("ngIf",e.completed>0),y(),C("ngIf",e.cancelled>0)}}function bW(n,t){if(n&1&&(h(0,"div",21)(1,"div",22),g(2),p(),k(3,vW,5,4,"div",23),p()),n&2){let e=E().$implicit;y(2),O(e.day),y(),C("ngIf",e.total>0)}}function wW(n,t){if(n&1&&(h(0,"div",19),k(1,bW,4,2,"div",20),p()),n&2){let e=t.$implicit,i=E(2);re("empty-day",!e)("today",e&&i.isToday(e.date)),y(),C("ngIf",e)}}function _W(n,t){if(n&1&&(h(0,"div",15)(1,"div",16)(2,"div",17),g(3,"Sun"),p(),h(4,"div",17),g(5,"Mon"),p(),h(6,"div",17),g(7,"Tue"),p(),h(8,"div",17),g(9,"Wed"),p(),h(10,"div",17),g(11,"Thu"),p(),h(12,"div",17),g(13,"Fri"),p(),h(14,"div",17),g(15,"Sat"),p(),k(16,wW,2,5,"div",18),p()()),n&2){let e=E();y(16),C("ngForOf",e.calendarDays)}}var L2=(()=>{class n{constructor(e,i){this.adminService=e,this.notificationService=i,this.appointments=[],this.loading=!0,this.currentMonth=new Date,this.calendarDays=[]}ngOnInit(){this.loadCalendarData()}loadCalendarData(){let e=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),1),i=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1,0);this.loading=!0,this.adminService.getCalendarAppointments(e.toISOString().split("T")[0],i.toISOString().split("T")[0]).subscribe({next:r=>{this.appointments=r,this.generateCalendar(),this.loading=!1},error:r=>{console.error("Calendar error:",r),this.notificationService.error("Failed to load calendar data. Please try again."),this.loading=!1}})}generateCalendar(){let e=this.currentMonth.getFullYear(),i=this.currentMonth.getMonth(),r=new Date(e,i,1).getDay(),o=new Date(e,i+1,0).getDate();this.calendarDays=[];for(let s=0;s<r;s++)this.calendarDays.push(null);for(let s=1;s<=o;s++){let l=new Date(e,i,s).toISOString().split("T")[0],c=this.appointments.filter(_=>_.appointment_date.split("T")[0]===l),d=c.filter(_=>_.status==="pending").length,f=c.filter(_=>_.status==="confirmed").length,w=c.filter(_=>_.status==="completed").length,b=c.filter(_=>_.status==="cancelled").length;this.calendarDays.push({day:s,date:l,appointments:c,pending:d,confirmed:f,completed:w,cancelled:b,total:c.length})}}previousMonth(){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()-1),this.loadCalendarData()}nextMonth(){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1),this.loadCalendarData()}getMonthName(){return this.currentMonth.toLocaleString("default",{month:"long",year:"numeric"})}getStatusClass(e){return`status-${e}`}isToday(e){let r=new Date().toISOString().split("T")[0];return e===r}static{this.\u0275fac=function(i){return new(i||n)(I(nl),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-admin-calendar"]],decls:28,vars:3,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"calendar-header"],[1,"btn","btn-outline",3,"click"],["class","spinner",4,"ngIf"],["class","calendar-container",4,"ngIf"],[1,"calendar-legend"],[1,"legend-items"],[1,"legend-item"],[1,"legend-color","status-pending"],[1,"legend-color","status-confirmed"],[1,"legend-color","status-completed"],[1,"legend-color","status-cancelled"],[1,"spinner"],[1,"calendar-container"],[1,"calendar-grid"],[1,"calendar-day-header"],["class","calendar-day",3,"empty-day","today",4,"ngFor","ngForOf"],[1,"calendar-day"],["class","day-content",4,"ngIf"],[1,"day-content"],[1,"day-number"],["class","day-stats-list",4,"ngIf"],[1,"day-stats-list"],["class","stat-line pending",4,"ngIf"],["class","stat-line confirmed",4,"ngIf"],["class","stat-line completed",4,"ngIf"],["class","stat-line cancelled",4,"ngIf"],[1,"stat-line","pending"],[1,"stat-line","confirmed"],[1,"stat-line","completed"],[1,"stat-line","cancelled"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),N("click",function(){return r.previousMonth()}),g(5,"\u2190 Previous"),p(),h(6,"h3"),g(7),p(),h(8,"button",4),N("click",function(){return r.nextMonth()}),g(9,"Next \u2192"),p()()(),k(10,pW,1,0,"div",5)(11,_W,17,1,"div",6),h(12,"div",7)(13,"h4"),g(14,"Status Legend:"),p(),h(15,"div",8)(16,"span",9),M(17,"span",10),g(18," Pending"),p(),h(19,"span",9),M(20,"span",11),g(21," Confirmed"),p(),h(22,"span",9),M(23,"span",12),g(24," Completed"),p(),h(25,"span",9),M(26,"span",13),g(27," Cancelled"),p()()()()()),i&2&&(y(7),O(r.getMonthName()),y(3),C("ngIf",r.loading),y(),C("ngIf",!r.loading))},dependencies:[Re,ge],styles:[".calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}.calendar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.calendar-container[_ngcontent-%COMP%]{padding:1rem 0}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background-color:#e5e7eb;border:1px solid #e5e7eb}.calendar-day-header[_ngcontent-%COMP%]{background-color:#f3f4f6;padding:.75rem;text-align:center;font-weight:600;color:#374151}.calendar-day[_ngcontent-%COMP%]{background-color:#fff;min-height:120px;padding:.5rem}.calendar-day.today[_ngcontent-%COMP%]{border:2px solid #3b82f6}.empty-day[_ngcontent-%COMP%]{background-color:#f9fafb}.day-content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.day-number[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:1rem;margin-bottom:.5rem}.day-stats-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1;font-size:.75rem}.stat-line[_ngcontent-%COMP%]{padding:.2rem .4rem;border-radius:.25rem;font-weight:500}.stat-line.pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.stat-line.confirmed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.stat-line.completed[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.stat-line.cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.day-appointments[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1}.appointment-pill[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem;border-radius:4px;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.status-pending[_ngcontent-%COMP%]{background-color:#f59e0b}.status-confirmed[_ngcontent-%COMP%]{background-color:#10b981}.status-completed[_ngcontent-%COMP%]{background-color:#3b82f6}.status-cancelled[_ngcontent-%COMP%]{background-color:#ef4444}.calendar-legend[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background-color:#f9fafb;border-radius:8px}.calendar-legend[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem}.legend-items[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.legend-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px}@media (max-width: 768px){.calendar-grid[_ngcontent-%COMP%]{font-size:.875rem}.calendar-day[_ngcontent-%COMP%]{min-height:80px;padding:.25rem}.appointment-pill[_ngcontent-%COMP%]{font-size:.65rem;padding:.2rem .3rem}}"]})}}return n})();var CW=n=>["/admin/doctors",n,"profile"];function xW(n,t){n&1&&(h(0,"div",44)(1,"div",45)(2,"span",46),g(3,"Loading..."),p()()())}function DW(n,t){n&1&&(h(0,"div",47),M(1,"i",48),g(2,' No doctors found. Click "Add New Doctor" to get started. '),p())}function EW(n,t){if(n&1){let e=J();h(0,"tr")(1,"td")(2,"a",53)(3,"strong"),g(4),p()()(),h(5,"td"),g(6),p(),h(7,"td"),g(8),p(),h(9,"td")(10,"small"),g(11),p()(),h(12,"td")(13,"small"),g(14),p()(),h(15,"td"),g(16),p(),h(17,"td"),g(18),p(),h(19,"td")(20,"span",54),g(21),p()(),h(22,"td")(23,"button",55),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.openEditModal(r))}),M(24,"i",56),g(25," Edit "),p(),h(26,"button",57),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.deleteDoctor(r))}),M(27,"i",58),g(28," Delete "),p()()()}if(n&2){let e=t.$implicit;y(2),C("routerLink",ro(13,CW,e.id)),y(2),X("Dr. ",e.name,""),y(2),O(e.department),y(2),O(e.specialization),y(3),O(e.email),y(3),O(e.phone),y(2),X("",e.years_of_experience," years"),y(2),X("\u20B1",e.consultation_fee,""),y(2),re("bg-success",e.status==="active")("bg-secondary",e.status==="inactive"),y(),X(" ",e.status," ")}}function SW(n,t){if(n&1&&(h(0,"div",49)(1,"table",50)(2,"thead",51)(3,"tr")(4,"th"),g(5,"Name"),p(),h(6,"th"),g(7,"Department"),p(),h(8,"th"),g(9,"Specialization"),p(),h(10,"th"),g(11,"Email"),p(),h(12,"th"),g(13,"Phone"),p(),h(14,"th"),g(15,"Experience"),p(),h(16,"th"),g(17,"Fee"),p(),h(18,"th"),g(19,"Status"),p(),h(20,"th"),g(21,"Actions"),p()()(),h(22,"tbody"),k(23,EW,29,15,"tr",52),p()()()),n&2){let e=E();y(23),C("ngForOf",e.doctors)}}function MW(n,t){if(n&1&&(h(0,"option",59),g(1),p()),n&2){let e=t.$implicit;C("value",e),y(),O(e)}}function IW(n,t){if(n&1&&M(0,"div",60),n&2){let e=E();re("show",e.showModal)}}var V2=(()=>{class n{constructor(e,i){this.doctorService=e,this.notificationService=i,this.doctors=[],this.loading=!0,this.showModal=!1,this.isEditMode=!1,this.selectedDoctor=null,this.doctorForm={name:"",email:"",phone:"",department:"",specialization:"",license_number:"",years_of_experience:0,consultation_fee:0,available_days:"Monday,Tuesday,Wednesday,Thursday,Friday",available_time_start:"09:00",available_time_end:"17:00",bio:"",status:"active"},this.departments=["Cardiology","Dermatology","Emergency Medicine","Gynecology","Neurology","Orthopedics","Pediatrics","Psychiatry"]}ngOnInit(){this.loadDoctors()}loadDoctors(){this.loading=!0,this.doctorService.getAllDoctors().subscribe({next:e=>{this.doctors=e,this.loading=!1},error:e=>{this.notificationService.error("Failed to load doctors. Please try again."),this.loading=!1}})}openAddModal(){this.isEditMode=!1,this.selectedDoctor=null,this.resetForm(),this.showModal=!0}openEditModal(e){this.isEditMode=!0,this.selectedDoctor=e,this.doctorForm={name:e.name,email:e.email,phone:e.phone,department:e.department,specialization:e.specialization,license_number:e.license_number,years_of_experience:e.years_of_experience,consultation_fee:e.consultation_fee,available_days:e.available_days,available_time_start:e.available_time_start.substring(0,5),available_time_end:e.available_time_end.substring(0,5),bio:e.bio||"",status:e.status},this.showModal=!0}closeModal(){this.showModal=!1,this.resetForm()}resetForm(){this.doctorForm={name:"",email:"",phone:"",department:"",specialization:"",license_number:"",years_of_experience:0,consultation_fee:0,available_days:"Monday,Tuesday,Wednesday,Thursday,Friday",available_time_start:"09:00",available_time_end:"17:00",bio:"",status:"active"}}saveDoctor(){this.isEditMode&&this.selectedDoctor?this.doctorService.updateDoctor(this.selectedDoctor.id,this.doctorForm).subscribe({next:e=>{this.notificationService.success("Doctor updated successfully!"),this.closeModal(),this.loadDoctors()},error:e=>{this.notificationService.error(e.error?.message||"Failed to update doctor. Please try again.")}}):this.doctorService.createDoctor(this.doctorForm).subscribe({next:e=>{this.notificationService.success("Doctor added successfully!"),this.closeModal(),this.loadDoctors()},error:e=>{this.notificationService.error(e.error?.message||"Failed to add doctor. Please try again.")}})}deleteDoctor(e){confirm(`Are you sure you want to delete Dr. ${e.name}?`)&&this.doctorService.deleteDoctor(e.id).subscribe({next:()=>{this.notificationService.success("Doctor deleted successfully!"),this.loadDoctors()},error:i=>{this.notificationService.error("Failed to delete doctor. Please try again.")}})}static{this.\u0275fac=function(i){return new(i||n)(I(il),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-admin-doctors"]],decls:94,vars:24,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"bi","bi-person-badge"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"card","border-0","shadow-sm"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","license_number","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","department","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","specialization","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4","mb-3"],["type","number","name","years_of_experience","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","consultation_fee","min","0","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["name","status","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","active"],["value","inactive"],["type","text","name","available_days","placeholder","e.g., Monday,Tuesday,Wednesday",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","available_time_start",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","available_time_end",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["name","bio","rows","3","placeholder","Brief information about the doctor...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-save"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-info"],[1,"bi","bi-info-circle"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],[1,"table-light"],[4,"ngFor","ngForOf"],["title","View Profile",1,"text-decoration-none",3,"routerLink"],[1,"badge"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[3,"value"],[1,"modal-backdrop","fade"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"h2"),M(3,"i",2),g(4," Doctor Management"),p(),h(5,"button",3),N("click",function(){return r.openAddModal()}),M(6,"i",4),g(7," Add New Doctor "),p()(),h(8,"div",5)(9,"div",6),k(10,xW,4,0,"div",7)(11,DW,3,0,"div",8)(12,SW,24,1,"div",9),p()()(),h(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"h5",14),M(18,"i",2),g(19),p(),h(20,"button",15),N("click",function(){return r.closeModal()}),p()(),h(21,"div",16)(22,"form")(23,"div",17)(24,"div",18)(25,"label",19),g(26,"Full Name *"),p(),h(27,"input",20),Y("ngModelChange",function(s){return Z(r.doctorForm.name,s)||(r.doctorForm.name=s),s}),p()(),h(28,"div",18)(29,"label",19),g(30,"Email *"),p(),h(31,"input",21),Y("ngModelChange",function(s){return Z(r.doctorForm.email,s)||(r.doctorForm.email=s),s}),p()()(),h(32,"div",17)(33,"div",18)(34,"label",19),g(35,"Phone *"),p(),h(36,"input",22),Y("ngModelChange",function(s){return Z(r.doctorForm.phone,s)||(r.doctorForm.phone=s),s}),p()(),h(37,"div",18)(38,"label",19),g(39,"License Number *"),p(),h(40,"input",23),Y("ngModelChange",function(s){return Z(r.doctorForm.license_number,s)||(r.doctorForm.license_number=s),s}),p()()(),h(41,"div",17)(42,"div",18)(43,"label",19),g(44,"Department *"),p(),h(45,"select",24),Y("ngModelChange",function(s){return Z(r.doctorForm.department,s)||(r.doctorForm.department=s),s}),h(46,"option",25),g(47,"Select Department"),p(),k(48,MW,2,2,"option",26),p()(),h(49,"div",18)(50,"label",19),g(51,"Specialization *"),p(),h(52,"input",27),Y("ngModelChange",function(s){return Z(r.doctorForm.specialization,s)||(r.doctorForm.specialization=s),s}),p()()(),h(53,"div",17)(54,"div",28)(55,"label",19),g(56,"Years of Experience *"),p(),h(57,"input",29),Y("ngModelChange",function(s){return Z(r.doctorForm.years_of_experience,s)||(r.doctorForm.years_of_experience=s),s}),p()(),h(58,"div",28)(59,"label",19),g(60,"Consultation Fee (\u20B1)"),p(),h(61,"input",30),Y("ngModelChange",function(s){return Z(r.doctorForm.consultation_fee,s)||(r.doctorForm.consultation_fee=s),s}),p()(),h(62,"div",28)(63,"label",19),g(64,"Status *"),p(),h(65,"select",31),Y("ngModelChange",function(s){return Z(r.doctorForm.status,s)||(r.doctorForm.status=s),s}),h(66,"option",32),g(67,"Active"),p(),h(68,"option",33),g(69,"Inactive"),p()()()(),h(70,"div",17)(71,"div",28)(72,"label",19),g(73,"Available Days"),p(),h(74,"input",34),Y("ngModelChange",function(s){return Z(r.doctorForm.available_days,s)||(r.doctorForm.available_days=s),s}),p()(),h(75,"div",28)(76,"label",19),g(77,"Start Time"),p(),h(78,"input",35),Y("ngModelChange",function(s){return Z(r.doctorForm.available_time_start,s)||(r.doctorForm.available_time_start=s),s}),p()(),h(79,"div",28)(80,"label",19),g(81,"End Time"),p(),h(82,"input",36),Y("ngModelChange",function(s){return Z(r.doctorForm.available_time_end,s)||(r.doctorForm.available_time_end=s),s}),p()()(),h(83,"div",37)(84,"label",19),g(85,"Biography"),p(),h(86,"textarea",38),Y("ngModelChange",function(s){return Z(r.doctorForm.bio,s)||(r.doctorForm.bio=s),s}),p()()()(),h(87,"div",39)(88,"button",40),N("click",function(){return r.closeModal()}),g(89,"Cancel"),p(),h(90,"button",41),N("click",function(){return r.saveDoctor()}),M(91,"i",42),g(92),p()()()()(),k(93,IW,1,2,"div",43)),i&2&&(y(10),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.doctors.length===0),y(),C("ngIf",!r.loading&&r.doctors.length>0),y(),At("display",r.showModal?"block":"none"),re("show",r.showModal),y(6),X(" ",r.isEditMode?"Edit Doctor":"Add New Doctor"," "),y(8),Q("ngModel",r.doctorForm.name),y(4),Q("ngModel",r.doctorForm.email),y(5),Q("ngModel",r.doctorForm.phone),y(4),Q("ngModel",r.doctorForm.license_number),y(5),Q("ngModel",r.doctorForm.department),y(3),C("ngForOf",r.departments),y(4),Q("ngModel",r.doctorForm.specialization),y(5),Q("ngModel",r.doctorForm.years_of_experience),y(4),Q("ngModel",r.doctorForm.consultation_fee),y(4),Q("ngModel",r.doctorForm.status),y(9),Q("ngModel",r.doctorForm.available_days),y(4),Q("ngModel",r.doctorForm.available_time_start),y(4),Q("ngModel",r.doctorForm.available_time_end),y(4),Q("ngModel",r.doctorForm.bio),y(6),X(" ",r.isEditMode?"Update":"Save"," Doctor "),y(),C("ngIf",r.showModal))},dependencies:[Re,ge,Dt,ln,En,Sn,rt,rc,qt,nt,an,Hy,Uy,Ln,zy],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{min-width:180px;width:180px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]})}}return n})();var B2=(()=>{class n{constructor(e){this.http=e,this.apiUrl=vt.apiUrl;let i=localStorage.getItem("currentDoctor");this.currentDoctorSubject=new ht(i?JSON.parse(i):null),this.currentDoctor=this.currentDoctorSubject.asObservable()}get currentDoctorValue(){return this.currentDoctorSubject.value}get isLoggedIn(){return!!this.currentDoctorValue&&!!localStorage.getItem("doctorToken")}login(e,i){return this.http.post(`${this.apiUrl}/doctor/login`,{email:e,password:i}).pipe(ue(r=>(localStorage.setItem("currentDoctor",JSON.stringify(r.doctor)),localStorage.setItem("doctorToken",r.token),this.currentDoctorSubject.next(r.doctor),r)))}logout(){return this.http.post(`${this.apiUrl}/doctor/logout`,{}).pipe(ue(()=>{localStorage.removeItem("currentDoctor"),localStorage.removeItem("doctorToken"),this.currentDoctorSubject.next(null)}))}getMe(){return this.http.get(`${this.apiUrl}/doctor/me`)}static{this.\u0275fac=function(i){return new(i||n)(j(It))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AW(n,t){n&1&&(h(0,"div"),g(1,"Email is required"),p())}function kW(n,t){n&1&&(h(0,"div"),g(1,"Please enter a valid email"),p())}function NW(n,t){if(n&1&&(h(0,"div",26),k(1,AW,2,0,"div",22)(2,kW,2,0,"div",22),p()),n&2){let e=E();y(),C("ngIf",e.f.email.errors.required),y(),C("ngIf",e.f.email.errors.email)}}function OW(n,t){n&1&&(h(0,"div"),g(1,"Password is required"),p())}function PW(n,t){if(n&1&&(h(0,"div",26),k(1,OW,2,0,"div",22),p()),n&2){let e=E();y(),C("ngIf",e.f.password.errors.required)}}function RW(n,t){n&1&&(h(0,"span"),M(1,"i",27),g(2," Logging in..."),p())}function FW(n,t){n&1&&(h(0,"span"),M(1,"i",28),g(2," Sign In"),p())}var j2=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.router=i,this.doctorAuthService=r,this.notificationService=o,this.loading=!1,this.doctorAuthService.isLoggedIn&&this.router.navigate(["/doctor/dashboard"])}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[Me.required,Me.email]],password:["",Me.required]})}get f(){return this.loginForm.controls}onSubmit(){this.loginForm.invalid||(this.loading=!0,this.doctorAuthService.login(this.f.email.value,this.f.password.value).subscribe({next:e=>{this.notificationService.success("Welcome, Dr. "+e.doctor.name),this.router.navigate(["/doctor/dashboard"])},error:e=>{this.notificationService.error(e.error?.message||"Login failed. Please check your credentials."),this.loading=!1}}))}static{this.\u0275fac=function(i){return new(i||n)(I($i),I(Oe),I(B2),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-doctor-login"]],decls:35,vars:10,consts:[[1,"login-container","min-vh-100","d-flex","align-items-center","justify-content-center","bg-light"],[1,"login-card","col-md-5","col-lg-4"],[1,"card","shadow-lg","border-0"],[1,"card-body","p-5"],[1,"text-center","mb-4"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline-block';",1,"logo","mb-3"],[1,"bi","bi-person-badge-fill","text-primary",2,"font-size","3rem","display","none"],[1,"mt-3","mb-2"],[1,"text-muted"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-envelope"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],[1,"bi","bi-lock"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","py-2","mb-3",3,"disabled"],[4,"ngIf"],[1,"text-center"],["routerLink","/login",1,"text-muted","text-decoration-none"],[1,"bi","bi-arrow-left"],[1,"invalid-feedback"],[1,"bi","bi-hourglass-split"],[1,"bi","bi-box-arrow-in-right"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),M(5,"img",5)(6,"i",6),h(7,"h2",7),g(8,"Doctor Portal"),p(),h(9,"p",8),g(10,"Sign in to manage your appointments"),p()(),h(11,"form",9),N("ngSubmit",function(){return r.onSubmit()}),h(12,"div",10)(13,"label",11),g(14,"Email Address"),p(),h(15,"div",12)(16,"span",13),M(17,"i",14),p(),M(18,"input",15),k(19,NW,3,2,"div",16),p()(),h(20,"div",17)(21,"label",18),g(22,"Password"),p(),h(23,"div",12)(24,"span",13),M(25,"i",19),p(),M(26,"input",20),k(27,PW,2,1,"div",16),p()(),h(28,"button",21),k(29,RW,3,0,"span",22)(30,FW,3,0,"span",22),p()(),h(31,"div",23)(32,"a",24),M(33,"i",25),g(34," Back to Patient/Admin Login "),p()()()()()()),i&2&&(y(11),C("formGroup",r.loginForm),y(7),re("is-invalid",r.f.email.touched&&r.f.email.errors),y(),C("ngIf",r.f.email.touched&&r.f.email.errors),y(7),re("is-invalid",r.f.password.touched&&r.f.password.errors),y(),C("ngIf",r.f.password.touched&&r.f.password.errors),y(),C("disabled",r.loading),y(),C("ngIf",r.loading),y(),C("ngIf",!r.loading))},dependencies:[ge,Dt,ln,rt,nt,an,xn,Dn]})}}return n})();var z2=a_(nw());var gh=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${vt.apiUrl}/doctor`}getAppointments(e){return this.http.get(`${this.apiUrl}/appointments`,{params:e})}getAppointment(e){return this.http.get(`${this.apiUrl}/appointments/${e}`)}updateStatus(e,i,r){return this.http.put(`${this.apiUrl}/appointments/${e}/status`,{status:i,doctor_notes:r})}declineAppointment(e,i){return this.http.post(`${this.apiUrl}/appointments/${e}/decline`,{declined_reason:i})}addNotes(e,i){return this.http.post(`${this.apiUrl}/appointments/${e}/notes`,{doctor_notes:i})}getStats(){return this.http.get(`${this.apiUrl}/stats`)}getPatientDetails(e){return this.http.get(`${this.apiUrl}/patient/${e}`)}uploadAttachment(e,i){let r=new FormData;return r.append("file",i),this.http.post(`${this.apiUrl}/appointments/${e}/attachments`,r)}downloadAttachment(e,i){return this.http.get(`${this.apiUrl}/appointments/${e}/attachments/${i}`,{responseType:"blob"})}deleteAttachment(e,i){return this.http.delete(`${this.apiUrl}/appointments/${e}/attachments/${i}`)}static{this.\u0275fac=function(i){return new(i||n)(j(It))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var LW=()=>["/doctor/profile"],U2=n=>["/doctor/patient",n];function VW(n,t){if(n&1){let e=J();h(0,"small",100),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.openViewNoteModal(r))}),M(1,"i",101),g(2),M(3,"i",102),p()}if(n&2){let e=E().$implicit,i=E(2);y(2),Li(" ",i.stripHtml(e.doctor_notes).substring(0,30),"",i.stripHtml(e.doctor_notes).length>30?"...":""," ")}}function BW(n,t){n&1&&(h(0,"small",103),g(1,"\u2014"),p())}function jW(n,t){if(n&1&&(h(0,"span",104),g(1),p()),n&2){let e=E().$implicit;y(),X(" ",e.attachments.length," ")}}function $W(n,t){n&1&&(h(0,"span"),g(1," Add "),p())}function zW(n,t){if(n&1){let e=J();h(0,"button",105),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.confirmAppointment(r))}),M(1,"i",106),p()}}function UW(n,t){if(n&1){let e=J();h(0,"button",107),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.openDeclineModal(r))}),M(1,"i",72),p()}}function HW(n,t){if(n&1){let e=J();h(0,"button",108),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.completeAppointment(r))}),M(1,"i",109),p()}}function WW(n,t){if(n&1){let e=J();h(0,"tr")(1,"td")(2,"small"),g(3),ce(4,"date"),p()(),h(5,"td")(6,"a",89)(7,"small"),g(8),p()()(),h(9,"td")(10,"small"),g(11),M(12,"br"),g(13),p()(),h(14,"td")(15,"small"),g(16),p()(),h(17,"td")(18,"small"),g(19),p()(),h(20,"td"),k(21,VW,4,2,"small",90)(22,BW,2,0,"small",91),p(),h(23,"td")(24,"button",92),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.openAttachmentsModal(r))}),M(25,"i",75),k(26,jW,2,1,"span",93)(27,$W,2,0,"span",71),p()(),h(28,"td")(29,"span",94),g(30),p()(),h(31,"td")(32,"div",95),k(33,zW,2,0,"button",96)(34,UW,2,0,"button",97)(35,HW,2,0,"button",98),h(36,"button",99),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.openNotesModal(r))}),M(37,"i",57),p()()()()}if(n&2){let e=t.$implicit,i=E(2);y(3),O(vi(4,17,e.appointment_time,"MM-dd-yyyy HH:mm:ss")),y(3),C("routerLink",ro(20,U2,e.user_id)),y(2),O(e.patient_name),y(3),O(e.patient_email),y(2),O(e.patient_phone),y(3),O(e.department),y(3),O(e.reason||"N/A"),y(2),C("ngIf",e.doctor_notes),y(),C("ngIf",!e.doctor_notes),y(4),C("ngIf",e.attachments&&e.attachments.length>0),y(),C("ngIf",!e.attachments||e.attachments.length===0),y(2),Qe(i.getStatusClass(e.status)),y(),O(e.status),y(3),C("ngIf",e.status==="pending"),y(),C("ngIf",e.status==="pending"||e.status==="confirmed"),y(),C("ngIf",e.status==="confirmed")}}function qW(n,t){if(n&1&&(h(0,"div",82)(1,"div",26)(2,"div",27)(3,"div",83)(4,"h5",29),M(5,"i",84),g(6," Today's Appointments"),p()(),h(7,"div",37)(8,"div",85)(9,"table",86)(10,"thead",87)(11,"tr")(12,"th"),g(13,"Appointment Date"),p(),h(14,"th"),g(15,"Patient"),p(),h(16,"th"),g(17,"Contact"),p(),h(18,"th"),g(19,"Department"),p(),h(20,"th"),g(21,"Reason"),p(),h(22,"th"),g(23,"Notes"),p(),h(24,"th"),g(25,"Attachments"),p(),h(26,"th"),g(27,"Status"),p(),h(28,"th"),g(29,"Actions"),p()()(),h(30,"tbody"),k(31,WW,38,22,"tr",88),p()()()()()()()),n&2){let e=E();y(31),C("ngForOf",e.stats.today_appointments)}}function GW(n,t){n&1&&(h(0,"div",110)(1,"div",111)(2,"span",112),g(3,"Loading..."),p()()())}function KW(n,t){n&1&&(h(0,"div",113),M(1,"i",114),g(2," No appointments found. "),p())}function QW(n,t){if(n&1){let e=J();h(0,"small",100),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.openViewNoteModal(r))}),M(1,"i",101),g(2),M(3,"i",102),p()}if(n&2){let e=E().$implicit,i=E(2);y(2),Li(" ",i.stripHtml(e.doctor_notes).substring(0,30),"",i.stripHtml(e.doctor_notes).length>30?"...":""," ")}}function YW(n,t){n&1&&(h(0,"small",103),g(1,"\u2014"),p())}function ZW(n,t){if(n&1&&(h(0,"span",104),g(1),p()),n&2){let e=E().$implicit;y(),X(" ",e.attachments.length," ")}}function JW(n,t){n&1&&(h(0,"span"),g(1," Add "),p())}function XW(n,t){if(n&1){let e=J();h(0,"button",105),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.confirmAppointment(r))}),M(1,"i",106),p()}}function eq(n,t){if(n&1){let e=J();h(0,"button",107),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.openDeclineModal(r))}),M(1,"i",72),p()}}function tq(n,t){if(n&1){let e=J();h(0,"button",108),N("click",function(){P(e);let r=E().$implicit,o=E(2);return R(o.completeAppointment(r))}),M(1,"i",109),p()}}function nq(n,t){if(n&1){let e=J();h(0,"tr")(1,"td")(2,"small"),g(3),ce(4,"date"),p()(),h(5,"td")(6,"small"),g(7),ce(8,"date"),p()(),h(9,"td")(10,"a",89)(11,"small"),g(12),p()()(),h(13,"td")(14,"small"),g(15),M(16,"br"),g(17),p()(),h(18,"td")(19,"small"),g(20),p()(),h(21,"td")(22,"small"),g(23),p()(),h(24,"td"),k(25,QW,4,2,"small",90)(26,YW,2,0,"small",91),p(),h(27,"td")(28,"button",92),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.openAttachmentsModal(r))}),M(29,"i",75),k(30,ZW,2,1,"span",93)(31,JW,2,0,"span",71),p()(),h(32,"td")(33,"span",94),g(34),p()(),h(35,"td")(36,"div",95),k(37,XW,2,0,"button",96)(38,eq,2,0,"button",97)(39,tq,2,0,"button",98),h(40,"button",99),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.openNotesModal(r))}),M(41,"i",57),p()()()()}if(n&2){let e=t.$implicit,i=E(2);y(3),O(vi(4,18,e.appointment_date,"MM-dd-yyyy HH:mm:ss")),y(4),O(vi(8,21,e.appointment_time,"MM-dd-yyyy HH:mm:ss")),y(3),C("routerLink",ro(24,U2,e.user_id)),y(2),O(e.patient_name),y(3),O(e.patient_email),y(2),O(e.patient_phone),y(3),O(e.department),y(3),O(e.reason||"N/A"),y(2),C("ngIf",e.doctor_notes),y(),C("ngIf",!e.doctor_notes),y(4),C("ngIf",e.attachments&&e.attachments.length>0),y(),C("ngIf",!e.attachments||e.attachments.length===0),y(2),Qe(i.getStatusClass(e.status)),y(),O(e.status),y(3),C("ngIf",e.status==="pending"),y(),C("ngIf",e.status==="pending"||e.status==="confirmed"),y(),C("ngIf",e.status==="confirmed")}}function iq(n,t){if(n&1){let e=J();h(0,"div",85)(1,"table",115)(2,"thead",87)(3,"tr")(4,"th",116),N("click",function(){P(e);let r=E();return R(r.sortBy("appointment_date"))}),g(5," Request Date "),M(6,"i",66),p(),h(7,"th",116),N("click",function(){P(e);let r=E();return R(r.sortBy("appointment_time"))}),g(8," Appointment Date "),M(9,"i",66),p(),h(10,"th",116),N("click",function(){P(e);let r=E();return R(r.sortBy("patient_name"))}),g(11," Patient "),M(12,"i",66),p(),h(13,"th"),g(14,"Contact"),p(),h(15,"th",116),N("click",function(){P(e);let r=E();return R(r.sortBy("department"))}),g(16," Department "),M(17,"i",66),p(),h(18,"th"),g(19,"Reason"),p(),h(20,"th"),g(21,"Notes"),p(),h(22,"th"),g(23,"Attachments"),p(),h(24,"th"),g(25,"Status"),p(),h(26,"th"),g(27,"Actions"),p()()(),h(28,"tbody"),k(29,nq,42,26,"tr",88),p()()()}if(n&2){let e=E();y(6),Qe(e.getSortIcon("appointment_date")),y(3),Qe(e.getSortIcon("appointment_time")),y(3),Qe(e.getSortIcon("patient_name")),y(5),Qe(e.getSortIcon("department")),y(12),C("ngForOf",e.filteredAppointments)}}function rq(n,t){if(n&1&&M(0,"div",117),n&2){let e=E();re("show",e.showDeclineModal)}}function oq(n,t){if(n&1&&M(0,"div",117),n&2){let e=E();re("show",e.showNotesModal)}}function sq(n,t){if(n&1&&(h(0,"div",49)(1,"small",103)(2,"strong"),g(3,"Patient:"),p(),g(4),h(5,"strong"),g(6,"Date:"),p(),g(7),p()()),n&2){let e=E();y(4),X(" ",e.viewNoteAppointment.patient_name," | "),y(3),X(" ",e.viewNoteAppointment.appointment_date," ")}}function aq(n,t){if(n&1&&(h(0,"div",118),M(1,"div",119),p()),n&2){let e=E();y(),C("innerHTML",e.viewingNote||"No notes available.",Fi)}}function lq(n,t){if(n&1){let e=J();h(0,"div")(1,"div",58),M(2,"ngx-editor-menu",59),h(3,"ngx-editor",60),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.viewingNote,r)||(o.viewingNote=r),R(r)}),p()()()}if(n&2){let e=E();y(2),C("editor",e.editor)("toolbar",e.toolbar),y(),C("editor",e.editor),Q("ngModel",e.viewingNote),C("placeholder","Add your notes here...")}}function cq(n,t){if(n&1){let e=J();h(0,"button",120),N("click",function(){P(e);let r=E();return R(r.enableEditViewNote())}),M(1,"i",57),g(2," Edit Note "),p()}}function uq(n,t){if(n&1){let e=J();h(0,"button",61),N("click",function(){P(e);let r=E();return R(r.saveViewNote())}),M(1,"i",62),g(2," Save Changes "),p()}}function dq(n,t){if(n&1&&M(0,"div",117),n&2){let e=E();re("show",e.showViewNoteModal)}}function fq(n,t){if(n&1&&(h(0,"div",49)(1,"small",103)(2,"strong"),g(3,"Patient:"),p(),g(4),h(5,"strong"),g(6,"Date:"),p(),g(7),p()()),n&2){let e=E();y(4),X(" ",e.attachmentAppointment.patient_name," | "),y(3),X(" ",e.attachmentAppointment.appointment_date," ")}}function pq(n,t){if(n&1){let e=J();h(0,"div",125)(1,"div"),M(2,"i",126),h(3,"strong",127),g(4),p(),h(5,"small",128),g(6),p()(),h(7,"div",95)(8,"button",129),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.downloadAttachment(o.attachmentAppointment.id,r.id,r.file_name))}),M(9,"i",130),p(),h(10,"button",131),N("click",function(){let r=P(e).$implicit,o=E(2);return R(o.deleteAttachment(o.attachmentAppointment.id,r.id))}),M(11,"i",132),p()()()}if(n&2){let e=t.$implicit,i=E(2);y(4),O(e.file_name),y(2),X("(",i.formatFileSize(e.file_size),")")}}function hq(n,t){if(n&1&&(h(0,"div",121)(1,"h6",49),M(2,"i",122),g(3," Existing Files"),p(),h(4,"div",123),k(5,pq,12,2,"div",124),p()()),n&2){let e=E();y(5),C("ngForOf",e.attachmentAppointment.attachments)}}function mq(n,t){n&1&&(h(0,"div",113),M(1,"i",114),g(2," No attachments yet. Upload files below. "),p())}function gq(n,t){if(n&1){let e=J();h(0,"div",125)(1,"div"),M(2,"i",134),h(3,"strong",127),g(4),p(),h(5,"small",128),g(6),p()(),h(7,"button",135),N("click",function(){let r=P(e).index,o=E(2);return R(o.removeSelectedFile(r))}),M(8,"i",72),p()()}if(n&2){let e=t.$implicit,i=E(2);y(4),O(e.name),y(2),X("(",i.formatFileSize(e.size),")")}}function yq(n,t){if(n&1&&(h(0,"div",49)(1,"h6",133),g(2,"Selected Files:"),p(),h(3,"div",123),k(4,gq,9,2,"div",124),p()()),n&2){let e=E();y(4),C("ngForOf",e.selectedFiles)}}function vq(n,t){if(n&1&&(h(0,"span"),M(1,"i",136),g(2),p()),n&2){let e=E();y(2),X(" Upload ",e.selectedFiles.length," File(s) ")}}function bq(n,t){n&1&&(h(0,"span"),M(1,"span",137),g(2," Uploading... "),p())}function wq(n,t){if(n&1&&M(0,"div",117),n&2){let e=E();re("show",e.showAttachmentsModal)}}var H2=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.doctorAppointmentService=i,this.notificationService=r,this.router=o,this.currentDoctor=null,this.stats={},this.appointments=[],this.filteredAppointments=[],this.loading=!0,this.statusFilter="",this.showDeclineModal=!1,this.showNotesModal=!1,this.selectedAppointment=null,this.declineReason="",this.doctorNotes="",this.sortColumn="appointment_date",this.sortDirection="asc",this.showViewNoteModal=!1,this.viewingNote="",this.isEditingViewNote=!1,this.viewNoteAppointment=null,this.toolbar=[["bold","italic","underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3"]}],["link"],["code","blockquote"]],this.showAttachmentsModal=!1,this.attachmentAppointment=null,this.selectedFiles=[],this.uploadingFiles=!1}ngOnInit(){this.editor=new za,this.currentDoctor=this.authService.currentUserValue,this.loadStats(),this.loadAppointments()}stripHtml(e){if(!e)return"";let i=document.createElement("DIV");return i.innerHTML=e,i.textContent||i.innerText||""}loadStats(){this.doctorAppointmentService.getStats().subscribe({next:e=>{this.stats=e},error:e=>{this.notificationService.error("Failed to load statistics")}})}loadAppointments(){this.loading=!0;let e=this.statusFilter?{status:this.statusFilter}:{};this.doctorAppointmentService.getAppointments(e).subscribe({next:i=>{this.appointments=i,this.filteredAppointments=i,this.loading=!1},error:i=>{this.notificationService.error("Failed to load appointments"),this.loading=!1}})}filterByStatus(){this.loadAppointments()}openDeclineModal(e){this.selectedAppointment=e,this.declineReason="",this.showDeclineModal=!0}closeDeclineModal(){this.showDeclineModal=!1,this.selectedAppointment=null,this.declineReason=""}confirmDecline(){if(!this.selectedAppointment||!this.declineReason.trim()){this.notificationService.error("Please provide a reason for declining");return}this.doctorAppointmentService.declineAppointment(this.selectedAppointment.id,this.declineReason).subscribe({next:()=>{this.notificationService.success("Appointment declined. Patient has been notified via email."),this.closeDeclineModal(),this.loadAppointments(),this.loadStats()},error:e=>{this.notificationService.error("Failed to decline appointment")}})}confirmAppointment(e){this.doctorAppointmentService.updateStatus(e.id,"confirmed").subscribe({next:()=>{this.notificationService.success("Appointment confirmed successfully!"),this.loadAppointments(),this.loadStats()},error:i=>{this.notificationService.error("Failed to confirm appointment")}})}completeAppointment(e){this.doctorAppointmentService.updateStatus(e.id,"completed").subscribe({next:()=>{this.notificationService.success("Appointment marked as completed!"),this.loadAppointments(),this.loadStats()},error:i=>{this.notificationService.error("Failed to complete appointment")}})}openNotesModal(e){this.selectedAppointment=e,this.doctorNotes=e.doctor_notes||"",this.showNotesModal=!0}closeNotesModal(){this.showNotesModal=!1,this.selectedAppointment=null,this.doctorNotes=""}saveNotes(){this.selectedAppointment&&this.doctorAppointmentService.addNotes(this.selectedAppointment.id,this.doctorNotes).subscribe({next:()=>{this.notificationService.success("Notes saved successfully!"),this.closeNotesModal(),this.loadAppointments()},error:e=>{this.notificationService.error("Failed to save notes")}})}sortBy(e){this.sortColumn===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=e,this.sortDirection="asc"),this.filteredAppointments.sort((i,r)=>{let o=i[e],s=r[e];o==null&&(o=""),s==null&&(s=""),typeof o=="string"&&(o=o.toLowerCase()),typeof s=="string"&&(s=s.toLowerCase());let a=0;return o>s?a=1:o<s&&(a=-1),this.sortDirection==="asc"?a:-a})}getSortIcon(e){return this.sortColumn!==e?"bi-arrow-down-up":this.sortDirection==="asc"?"bi-arrow-up":"bi-arrow-down"}openViewNoteModal(e){this.viewingNote=e.doctor_notes||"",this.viewNoteAppointment=e,this.isEditingViewNote=!1,this.showViewNoteModal=!0}closeViewNoteModal(){this.showViewNoteModal=!1,this.viewingNote="",this.isEditingViewNote=!1,this.viewNoteAppointment=null}enableEditViewNote(){this.isEditingViewNote=!0}saveViewNote(){this.viewNoteAppointment&&this.doctorAppointmentService.addNotes(this.viewNoteAppointment.id,this.viewingNote).subscribe({next:()=>{this.notificationService.success("Notes updated successfully!"),this.closeViewNoteModal(),this.loadAppointments()},error:e=>{this.notificationService.error("Failed to update notes")}})}getStatusClass(e){return{pending:"bg-warning text-dark",confirmed:"bg-success",completed:"bg-primary",cancelled:"bg-danger"}[e]||"bg-secondary"}logout(){z2.default.fire({title:"Logout",text:"Are you sure you want to logout?",icon:"question",showCancelButton:!0,confirmButtonColor:"#7393b3",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, logout",cancelButtonText:"Cancel"}).then(e=>{e.isConfirmed&&this.authService.logout()})}openAttachmentsModal(e){this.attachmentAppointment=e,this.selectedFiles=[],this.showAttachmentsModal=!0}closeAttachmentsModal(){this.showAttachmentsModal=!1,this.attachmentAppointment=null,this.selectedFiles=[]}onFilesSelected(e){let i=e.target.files,r=25*1024*1024;for(let o=0;o<i.length;o++){let s=i[o];s.size>r?this.notificationService.error(`File "${s.name}" exceeds 25MB limit`):this.selectedFiles.push(s)}}removeSelectedFile(e){this.selectedFiles.splice(e,1)}uploadFiles(){if(!this.attachmentAppointment||this.selectedFiles.length===0)return;this.uploadingFiles=!0;let e=0,i=this.selectedFiles.length,r=this.attachmentAppointment.id;this.selectedFiles.forEach((o,s)=>{this.doctorAppointmentService.uploadAttachment(this.attachmentAppointment.id,o).subscribe({next:a=>{e++,e===i&&(this.notificationService.success(`${i} file(s) uploaded successfully`),this.selectedFiles=[],this.uploadingFiles=!1,this.loadAppointments(),this.doctorAppointmentService.getAppointments().subscribe({next:l=>{let c=l.find(d=>d.id===r);c&&(this.attachmentAppointment=c)}}))},error:a=>{e++;let l=`Failed to upload ${o.name}`;a.error?.message?l+=`: ${a.error.message}`:a.status===413||a.statusText==="Payload Too Large"?l+=`: File size (${this.formatFileSize(o.size)}) exceeds server limit`:a.status===422?l+=": File validation failed (max 25MB allowed)":l+=`: ${a.statusText||"Unknown error"}`,this.notificationService.error(l),e===i&&(this.uploadingFiles=!1)}})})}downloadAttachment(e,i,r){this.doctorAppointmentService.downloadAttachment(e,i).subscribe({next:o=>{let s=window.URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)},error:o=>{this.notificationService.error("Failed to download file")}})}deleteAttachment(e,i){confirm("Are you sure you want to delete this attachment?")&&this.doctorAppointmentService.deleteAttachment(e,i).subscribe({next:()=>{this.notificationService.success("Attachment deleted successfully"),this.loadAppointments()},error:r=>{this.notificationService.error("Failed to delete attachment")}})}formatFileSize(e){if(e===0)return"0 Bytes";let i=1024,r=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(i));return Math.round(e/Math.pow(i,o)*100)/100+" "+r[o]}ngOnDestroy(){this.editor.destroy()}static{this.\u0275fac=function(i){return new(i||n)(I(Et),I(gh),I(Fe),I(Oe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-doctor-dashboard"]],decls:176,vars:61,consts:[[1,"doctor-portal"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","shadow"],[1,"container-fluid"],[1,"navbar-brand"],["src","/assets/images/logo.png","alt","Hospital Logo","onerror","this.style.display='none';",1,"logo","me-2"],[1,"d-flex","align-items-center","text-white"],["title","View Profile",1,"text-white","text-decoration-none","me-3",3,"routerLink"],[1,"bi","bi-person-circle"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"container-fluid","py-3"],[1,"row","g-2","mb-3"],[1,"col-md-3"],[1,"card","border-0","shadow-sm","bg-primary","text-white","stat-card"],[1,"card-body","text-center","py-2","px-2"],[1,"bi","bi-calendar-check",2,"font-size","1.5rem"],[1,"mt-1","mb-0"],[1,"mb-0",2,"font-size","0.8rem"],[1,"card","border-0","shadow-sm","bg-warning","text-dark","stat-card"],[1,"bi","bi-hourglass-split",2,"font-size","1.5rem"],[1,"card","border-0","shadow-sm","bg-success","text-white","stat-card"],[1,"bi","bi-check-circle",2,"font-size","1.5rem"],[1,"card","border-0","shadow-sm","bg-info","text-white","stat-card"],[1,"bi","bi-check-all",2,"font-size","1.5rem"],["class","row mb-4",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card","border-0","shadow-sm"],[1,"card-header","bg-white","border-bottom","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-list-ul"],[1,"form-select","w-auto",3,"ngModelChange","change","ngModel"],["value",""],["value","pending"],["value","confirmed"],["value","completed"],["value","cancelled"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"bi","bi-x-circle"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["rows","4","placeholder","Please provide a reason...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-send"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"bi","bi-pencil"],[1,"NgxEditor__Wrapper"],[3,"editor","toolbar"],[3,"ngModelChange","editor","ngModel","placeholder"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-save"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","border-0","shadow-lg"],[1,"modal-header","bg-primary","text-white"],[1,"bi"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["class","mb-3",4,"ngIf"],["class","note-content",4,"ngIf"],[4,"ngIf"],[1,"bi","bi-x"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"bi","bi-paperclip"],["class","mb-4",4,"ngIf"],[1,"border","rounded","p-3","bg-light"],[1,"bi","bi-cloud-upload"],["type","file","multiple","","accept","*/*",1,"form-control",3,"change"],[1,"form-text","text-muted"],[1,"btn","btn-primary",3,"click","disabled"],[1,"row","mb-4"],[1,"card-header","bg-white","border-bottom"],[1,"bi","bi-calendar-day"],[1,"table-responsive"],[1,"table","table-hover","align-middle","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"text-primary","text-decoration-none",3,"routerLink"],["class","text-muted note-preview","role","button",3,"click",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["class","badge bg-primary ms-1",4,"ngIf"],[1,"badge"],[1,"btn-group","btn-group-sm"],["class","btn btn-success","title","Confirm",3,"click",4,"ngIf"],["class","btn btn-danger","title","Decline",3,"click",4,"ngIf"],["class","btn btn-primary","title","Complete",3,"click",4,"ngIf"],["title","Add/View Notes",1,"btn","btn-outline-secondary",3,"click"],["role","button",1,"text-muted","note-preview",3,"click"],[1,"bi","bi-sticky"],[1,"bi","bi-eye","ms-1"],[1,"text-muted"],[1,"badge","bg-primary","ms-1"],["title","Confirm",1,"btn","btn-success",3,"click"],[1,"bi","bi-check"],["title","Decline",1,"btn","btn-danger",3,"click"],["title","Complete",1,"btn","btn-primary",3,"click"],[1,"bi","bi-check-all"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-info"],[1,"bi","bi-info-circle"],[1,"table","table-hover","align-middle"],[1,"sortable",3,"click"],[1,"modal-backdrop","fade"],[1,"note-content"],[1,"view-note-content",3,"innerHTML"],["type","button",1,"btn","btn-warning",3,"click"],[1,"mb-4"],[1,"bi","bi-files"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-file-earmark"],[1,"ms-2"],[1,"text-muted","ms-2"],["title","Download",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-download"],["title","Delete",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"mb-2"],[1,"bi","bi-file-earmark-plus"],["title","Remove",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-upload"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"nav",1)(2,"div",2)(3,"span",3),M(4,"img",4),g(5," Doctor Portal "),p(),h(6,"div",5)(7,"a",6),M(8,"i",7),g(9),p(),h(10,"button",8),N("click",function(){return r.logout()}),M(11,"i",9),g(12," Logout "),p()()()(),h(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14),M(18,"i",15),h(19,"h5",16),g(20),p(),h(21,"p",17),g(22,"Total Appointments"),p()()()(),h(23,"div",12)(24,"div",18)(25,"div",14),M(26,"i",19),h(27,"h5",16),g(28),p(),h(29,"p",17),g(30,"Pending"),p()()()(),h(31,"div",12)(32,"div",20)(33,"div",14),M(34,"i",21),h(35,"h5",16),g(36),p(),h(37,"p",17),g(38,"Confirmed"),p()()()(),h(39,"div",12)(40,"div",22)(41,"div",14),M(42,"i",23),h(43,"h5",16),g(44),p(),h(45,"p",17),g(46,"Completed"),p()()()()(),k(47,qW,32,1,"div",24),h(48,"div",25)(49,"div",26)(50,"div",27)(51,"div",28)(52,"h5",29),M(53,"i",30),g(54," All Appointments"),p(),h(55,"select",31),Y("ngModelChange",function(s){return Z(r.statusFilter,s)||(r.statusFilter=s),s}),N("change",function(){return r.filterByStatus()}),h(56,"option",32),g(57,"All Status"),p(),h(58,"option",33),g(59,"Pending"),p(),h(60,"option",34),g(61,"Confirmed"),p(),h(62,"option",35),g(63,"Completed"),p(),h(64,"option",36),g(65,"Cancelled"),p()()(),h(66,"div",37),k(67,GW,4,0,"div",38)(68,KW,3,0,"div",39)(69,iq,30,9,"div",40),p()()()()()(),h(70,"div",41)(71,"div",42)(72,"div",43)(73,"div",44)(74,"h5",45),M(75,"i",46),g(76," Decline Appointment"),p(),h(77,"button",47),N("click",function(){return r.closeDeclineModal()}),p()(),h(78,"div",48)(79,"p")(80,"strong"),g(81,"Patient:"),p(),g(82),p(),h(83,"p")(84,"strong"),g(85,"Date:"),p(),g(86),p(),h(87,"div",49)(88,"label",50),g(89,"Reason for declining (will be sent to patient via email) *"),p(),h(90,"textarea",51),Y("ngModelChange",function(s){return Z(r.declineReason,s)||(r.declineReason=s),s}),p()()(),h(91,"div",52)(92,"button",53),N("click",function(){return r.closeDeclineModal()}),g(93,"Cancel"),p(),h(94,"button",54),N("click",function(){return r.confirmDecline()}),M(95,"i",55),g(96," Decline & Notify Patient "),p()()()()(),k(97,rq,1,2,"div",56),h(98,"div",41)(99,"div",42)(100,"div",43)(101,"div",44)(102,"h5",45),M(103,"i",57),g(104," Doctor's Notes"),p(),h(105,"button",47),N("click",function(){return r.closeNotesModal()}),p()(),h(106,"div",48)(107,"p")(108,"strong"),g(109,"Patient:"),p(),g(110),p(),h(111,"p")(112,"strong"),g(113,"Date:"),p(),g(114),p(),h(115,"div",49)(116,"label",50),g(117,"Notes"),p(),h(118,"div",58),M(119,"ngx-editor-menu",59),h(120,"ngx-editor",60),Y("ngModelChange",function(s){return Z(r.doctorNotes,s)||(r.doctorNotes=s),s}),p()()()(),h(121,"div",52)(122,"button",53),N("click",function(){return r.closeNotesModal()}),g(123,"Cancel"),p(),h(124,"button",61),N("click",function(){return r.saveNotes()}),M(125,"i",62),g(126," Save Notes "),p()()()()(),k(127,oq,1,2,"div",56),h(128,"div",41)(129,"div",63)(130,"div",64)(131,"div",65)(132,"h5",45),M(133,"i",66),g(134),p(),h(135,"button",67),N("click",function(){return r.closeViewNoteModal()}),p()(),h(136,"div",68),k(137,sq,8,2,"div",69)(138,aq,2,1,"div",70)(139,lq,4,5,"div",71),p(),h(140,"div",52)(141,"button",53),N("click",function(){return r.closeViewNoteModal()}),M(142,"i",72),g(143," Close "),p(),k(144,cq,3,0,"button",73)(145,uq,3,0,"button",74),p()()()(),k(146,dq,1,2,"div",56),h(147,"div",41)(148,"div",63)(149,"div",64)(150,"div",65)(151,"h5",45),M(152,"i",75),g(153," Appointment Attachments "),p(),h(154,"button",67),N("click",function(){return r.closeAttachmentsModal()}),p()(),h(155,"div",68),k(156,fq,8,2,"div",69)(157,hq,6,1,"div",76)(158,mq,3,0,"div",39),h(159,"div",77)(160,"h6",49),M(161,"i",78),g(162," Upload New Files"),p(),h(163,"div",49)(164,"input",79),N("change",function(s){return r.onFilesSelected(s)}),p(),h(165,"small",80),g(166,"Maximum file size: 25MB per file. You can select multiple files."),p()(),k(167,yq,5,1,"div",69),h(168,"button",81),N("click",function(){return r.uploadFiles()}),k(169,vq,3,1,"span",71)(170,bq,3,0,"span",71),p()()(),h(171,"div",52)(172,"button",53),N("click",function(){return r.closeAttachmentsModal()}),M(173,"i",72),g(174," Close "),p()()()()(),k(175,wq,1,2,"div",56)),i&2&&(y(7),C("routerLink",Xd(60,LW)),y(2),X(" Dr. ",r.currentDoctor==null?null:r.currentDoctor.name," "),y(11),O(r.stats.total||0),y(8),O(r.stats.pending||0),y(8),O(r.stats.confirmed||0),y(8),O(r.stats.completed||0),y(3),C("ngIf",r.stats.today_appointments&&r.stats.today_appointments.length>0),y(8),Q("ngModel",r.statusFilter),y(12),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.filteredAppointments.length===0),y(),C("ngIf",!r.loading&&r.filteredAppointments.length>0),y(),At("display",r.showDeclineModal?"block":"none"),re("show",r.showDeclineModal),y(12),X(" ",r.selectedAppointment==null?null:r.selectedAppointment.patient_name,""),y(4),Li(" ",r.selectedAppointment==null?null:r.selectedAppointment.appointment_date," at ",r.selectedAppointment==null?null:r.selectedAppointment.appointment_time,""),y(4),Q("ngModel",r.declineReason),y(7),C("ngIf",r.showDeclineModal),y(),At("display",r.showNotesModal?"block":"none"),re("show",r.showNotesModal),y(12),X(" ",r.selectedAppointment==null?null:r.selectedAppointment.patient_name,""),y(4),Li(" ",r.selectedAppointment==null?null:r.selectedAppointment.appointment_date," at ",r.selectedAppointment==null?null:r.selectedAppointment.appointment_time,""),y(5),C("editor",r.editor)("toolbar",r.toolbar),y(),C("editor",r.editor),Q("ngModel",r.doctorNotes),C("placeholder","Add your notes here..."),y(7),C("ngIf",r.showNotesModal),y(),At("display",r.showViewNoteModal?"block":"none"),re("show",r.showViewNoteModal),y(5),re("bi-file-text",!r.isEditingViewNote)("bi-pencil-square",r.isEditingViewNote),y(),X(" ",r.isEditingViewNote?"Edit Note":"Doctor's Note"," "),y(3),C("ngIf",r.viewNoteAppointment),y(),C("ngIf",!r.isEditingViewNote),y(),C("ngIf",r.isEditingViewNote),y(5),C("ngIf",!r.isEditingViewNote),y(),C("ngIf",r.isEditingViewNote),y(),C("ngIf",r.showViewNoteModal),y(),At("display",r.showAttachmentsModal?"block":"none"),re("show",r.showAttachmentsModal),y(9),C("ngIf",r.attachmentAppointment),y(),C("ngIf",r.attachmentAppointment&&r.attachmentAppointment.attachments&&r.attachmentAppointment.attachments.length>0),y(),C("ngIf",!r.attachmentAppointment||!r.attachmentAppointment.attachments||r.attachmentAppointment.attachments.length===0),y(9),C("ngIf",r.selectedFiles.length>0),y(),C("disabled",r.selectedFiles.length===0||r.uploadingFiles),y(),C("ngIf",!r.uploadingFiles),y(),C("ngIf",r.uploadingFiles),y(5),C("ngIf",r.showAttachmentsModal))},dependencies:[Re,ge,Dt,En,Sn,rt,qt,nt,Ln,Kp,Qp,lo],styles:[".doctor-portal[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.logo[_ngcontent-%COMP%]{height:30px;max-width:100px;object-fit:contain;vertical-align:middle;display:inline-block}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0;padding:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;vertical-align:middle;white-space:nowrap}.table[_ngcontent-%COMP%]{table-layout:auto;width:100%}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#e9ecef!important}.sortable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-left:.25rem;opacity:.6}.note-preview[_ngcontent-%COMP%]{cursor:pointer;padding:.25rem .5rem;border-radius:4px;transition:all .2s;display:inline-block}.note-preview[_ngcontent-%COMP%]:hover{background-color:#e7f3ff;color:#06c!important;transform:translateY(-1px)}.note-preview[_ngcontent-%COMP%]   i.bi-eye[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.note-preview[_ngcontent-%COMP%]:hover   i.bi-eye[_ngcontent-%COMP%]{opacity:1}.note-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:1.5rem;max-height:500px;overflow-y:auto}.view-note-content[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:1rem;line-height:1.6;color:#333}.modal-content[_ngcontent-%COMP%]{border-radius:12px}.modal-header.bg-primary[_ngcontent-%COMP%]{border-radius:12px 12px 0 0}  .NgxEditor__Wrapper{border:1px solid #dee2e6;border-radius:4px}  .NgxEditor__MenuBar{background-color:#f8f9fa;border-bottom:1px solid #dee2e6;padding:8px}  .NgxEditor{min-height:250px}  .NgxEditor__Content{padding:12px;font-size:1rem;line-height:1.6}  .NgxEditor__Placeholder{color:#6c757d}"]})}}return n})();function _q(n,t){n&1&&(h(0,"div",26)(1,"div",27)(2,"span",28),g(3,"Loading..."),p()()())}function Cq(n,t){if(n&1&&(h(0,"div",36)(1,"label",37),g(2,"Phone"),p(),h(3,"p",33),M(4,"i",51),g(5),p()()),n&2){let e=E(2);y(5),X(" ",e.patient.phone,"")}}function xq(n,t){if(n&1&&(h(0,"div",36)(1,"label",37),g(2,"Date of Birth"),p(),h(3,"p",33),M(4,"i",52),g(5),p()()),n&2){let e=E(2);y(5),X(" ",e.patient.date_of_birth,"")}}function Dq(n,t){if(n&1&&(h(0,"div",33)(1,"label",37),g(2,"Address"),p(),h(3,"p",33),M(4,"i",53),g(5),p()()),n&2){let e=E(2);y(5),X(" ",e.patient.address,"")}}function Eq(n,t){n&1&&(h(0,"div",54),M(1,"i",55),g(2," No appointment history found. "),p())}function Sq(n,t){if(n&1){let e=J();h(0,"small",63),N("click",function(){P(e);let r=E().$implicit,o=E(3);return R(o.openViewNoteModal(r))}),M(1,"i",64),g(2),M(3,"i",65),p()}if(n&2){let e=E().$implicit,i=E(3);y(2),Li(" ",i.stripHtml(e.doctor_notes).substring(0,40),"",i.stripHtml(e.doctor_notes).length>40?"...":""," ")}}function Mq(n,t){n&1&&(h(0,"small",44),g(1,"\u2014"),p())}function Iq(n,t){if(n&1&&(h(0,"tr")(1,"td"),g(2),p(),h(3,"td"),g(4),p(),h(5,"td"),g(6),p(),h(7,"td")(8,"small"),g(9),p()(),h(10,"td")(11,"span",60),g(12),p()(),h(13,"td"),k(14,Sq,4,2,"small",61)(15,Mq,2,0,"small",62),p()()),n&2){let e=t.$implicit,i=E(3);y(2),O(e.appointment_date),y(2),O(e.appointment_time),y(2),O(e.department),y(3),O(e.reason||"N/A"),y(2),Qe(i.getStatusClass(e.status)),y(),O(e.status),y(2),C("ngIf",e.doctor_notes),y(),C("ngIf",!e.doctor_notes)}}function Tq(n,t){if(n&1&&(h(0,"div",56)(1,"table",57)(2,"thead",58)(3,"tr")(4,"th"),g(5,"Date"),p(),h(6,"th"),g(7,"Time"),p(),h(8,"th"),g(9,"Department"),p(),h(10,"th"),g(11,"Reason"),p(),h(12,"th"),g(13,"Status"),p(),h(14,"th"),g(15,"Notes"),p()()(),h(16,"tbody"),k(17,Iq,16,9,"tr",59),p()()()),n&2){let e=E(2);y(17),C("ngForOf",e.appointments)}}function Aq(n,t){if(n&1&&(h(0,"div")(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32)(5,"h5",33),M(6,"i",34),g(7," Patient Information"),p()(),h(8,"div",35)(9,"div",36)(10,"label",37),g(11,"Name"),p(),h(12,"h6"),g(13),p()(),h(14,"div",36)(15,"label",37),g(16,"Email"),p(),h(17,"p",33),M(18,"i",38),g(19),p()(),k(20,Cq,6,1,"div",18)(21,xq,6,1,"div",18)(22,Dq,6,1,"div",39),p()(),h(23,"div",40)(24,"div",35)(25,"div",41)(26,"div",42)(27,"h3",43),g(28),p(),h(29,"small",44),g(30,"Total Visits"),p()(),h(31,"div",42)(32,"h3",45),g(33),p(),h(34,"small",44),g(35,"Completed"),p()()()()()(),h(36,"div",46)(37,"div",31)(38,"div",47)(39,"h5",33),M(40,"i",48),g(41," Appointment History"),p()(),h(42,"div",35),k(43,Eq,3,0,"div",49)(44,Tq,18,1,"div",50),p()()()()()),n&2){let e=E();y(13),O(e.patient.name),y(6),X(" ",e.patient.email,""),y(),C("ngIf",e.patient.phone),y(),C("ngIf",e.patient.date_of_birth),y(),C("ngIf",e.patient.address),y(6),O(e.totalAppointments),y(5),O(e.completedAppointments),y(10),C("ngIf",e.appointments.length===0),y(),C("ngIf",e.appointments.length>0)}}function kq(n,t){if(n&1&&(h(0,"div",36)(1,"small",44)(2,"strong"),g(3,"Date:"),p(),g(4),h(5,"strong"),g(6,"Department:"),p(),g(7),p()()),n&2){let e=E();y(4),X(" ",e.viewNoteAppointment.appointment_date," | "),y(3),X(" ",e.viewNoteAppointment.department," ")}}function Nq(n,t){if(n&1&&(h(0,"div",66),M(1,"div",67),p()),n&2){let e=E();y(),C("innerHTML",e.viewingNote||"No notes available.",Fi)}}function Oq(n,t){if(n&1){let e=J();h(0,"div")(1,"div",68),M(2,"ngx-editor-menu",69),h(3,"ngx-editor",70),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.viewingNote,r)||(o.viewingNote=r),R(r)}),p()()()}if(n&2){let e=E();y(2),C("editor",e.editor)("toolbar",e.toolbar),y(),C("editor",e.editor),Q("ngModel",e.viewingNote),C("placeholder","Add your notes here...")}}function Pq(n,t){if(n&1){let e=J();h(0,"button",71),N("click",function(){P(e);let r=E();return R(r.enableEditViewNote())}),M(1,"i",72),g(2," Edit Note "),p()}}function Rq(n,t){if(n&1){let e=J();h(0,"button",73),N("click",function(){P(e);let r=E();return R(r.saveViewNote())}),M(1,"i",74),g(2," Save Changes "),p()}}function Fq(n,t){if(n&1&&M(0,"div",75),n&2){let e=E();re("show",e.showViewNoteModal)}}var W2=(()=>{class n{constructor(e,i,r,o){this.route=e,this.router=i,this.doctorAppointmentService=r,this.notificationService=o,this.patient=null,this.appointments=[],this.totalAppointments=0,this.completedAppointments=0,this.loading=!0,this.showViewNoteModal=!1,this.viewingNote="",this.isEditingViewNote=!1,this.viewNoteAppointment=null,this.toolbar=[["bold","italic","underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3"]}],["link"],["code","blockquote"]]}ngOnInit(){this.editor=new za;let e=this.route.snapshot.paramMap.get("id");e&&this.loadPatientDetails(+e)}stripHtml(e){if(!e)return"";let i=document.createElement("DIV");return i.innerHTML=e,i.textContent||i.innerText||""}loadPatientDetails(e){this.loading=!0,this.doctorAppointmentService.getPatientDetails(e).subscribe({next:i=>{this.patient=i.patient,this.appointments=i.appointments,this.totalAppointments=i.total_appointments,this.completedAppointments=i.completed_appointments,this.loading=!1},error:i=>{this.notificationService.error("Failed to load patient details"),this.loading=!1,this.router.navigate(["/doctor/dashboard"])}})}goBack(){this.router.navigate(["/doctor/dashboard"])}openViewNoteModal(e){this.viewingNote=e.doctor_notes||"",this.viewNoteAppointment=e,this.isEditingViewNote=!1,this.showViewNoteModal=!0}closeViewNoteModal(){this.showViewNoteModal=!1,this.viewingNote="",this.isEditingViewNote=!1,this.viewNoteAppointment=null}enableEditViewNote(){this.isEditingViewNote=!0}saveViewNote(){this.viewNoteAppointment&&this.doctorAppointmentService.addNotes(this.viewNoteAppointment.id,this.viewingNote).subscribe({next:()=>{this.notificationService.success("Notes updated successfully!"),this.closeViewNoteModal();let e=this.route.snapshot.paramMap.get("id");e&&this.loadPatientDetails(+e)},error:e=>{this.notificationService.error("Failed to update notes")}})}getStatusClass(e){return{pending:"bg-warning text-dark",confirmed:"bg-success",completed:"bg-primary",cancelled:"bg-danger"}[e]||"bg-secondary"}ngOnDestroy(){this.editor.destroy()}static{this.\u0275fac=function(i){return new(i||n)(I(Un),I(Oe),I(gh),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-patient-details"]],decls:31,vars:17,consts:[[1,"patient-details-page"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","shadow"],[1,"container-fluid"],[1,"btn","btn-outline-light",3,"click"],[1,"bi","bi-arrow-left"],[1,"navbar-brand","ms-3"],[1,"bi","bi-person-fill"],[1,"container-fluid","py-4"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","border-0","shadow-lg"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title"],[1,"bi"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["class","mb-3",4,"ngIf"],["class","note-content",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row","mb-4"],[1,"col-lg-4"],[1,"card","border-0","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-person-badge"],[1,"card-body"],[1,"mb-3"],[1,"text-muted","small"],[1,"bi","bi-envelope"],["class","mb-0",4,"ngIf"],[1,"card","border-0","shadow-sm","mt-3"],[1,"row","text-center"],[1,"col-6"],[1,"text-primary","mb-0"],[1,"text-muted"],[1,"text-success","mb-0"],[1,"col-lg-8"],[1,"card-header","bg-white","border-bottom"],[1,"bi","bi-clock-history"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"bi","bi-telephone"],[1,"bi","bi-calendar"],[1,"bi","bi-geo-alt"],[1,"alert","alert-info"],[1,"bi","bi-info-circle"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"badge"],["class","text-muted note-preview","role","button",3,"click",4,"ngIf"],["class","text-muted",4,"ngIf"],["role","button",1,"text-muted","note-preview",3,"click"],[1,"bi","bi-sticky"],[1,"bi","bi-eye","ms-1"],[1,"note-content"],[1,"view-note-content",3,"innerHTML"],[1,"NgxEditor__Wrapper"],[3,"editor","toolbar"],[3,"ngModelChange","editor","ngModel","placeholder"],["type","button",1,"btn","btn-warning",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-save"],[1,"modal-backdrop","fade"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"nav",1)(2,"div",2)(3,"button",3),N("click",function(){return r.goBack()}),M(4,"i",4),g(5," Back to Dashboard "),p(),h(6,"span",5),M(7,"i",6),g(8," Patient Details "),p()()(),h(9,"div",7),k(10,_q,4,0,"div",8)(11,Aq,45,9,"div",9),p()(),h(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"h5",14),M(17,"i",15),g(18),p(),h(19,"button",16),N("click",function(){return r.closeViewNoteModal()}),p()(),h(20,"div",17),k(21,kq,8,2,"div",18)(22,Nq,2,1,"div",19)(23,Oq,4,5,"div",9),p(),h(24,"div",20)(25,"button",21),N("click",function(){return r.closeViewNoteModal()}),M(26,"i",22),g(27," Close "),p(),k(28,Pq,3,0,"button",23)(29,Rq,3,0,"button",24),p()()()(),k(30,Fq,1,2,"div",25)),i&2&&(y(10),C("ngIf",r.loading),y(),C("ngIf",!r.loading&&r.patient),y(),At("display",r.showViewNoteModal?"block":"none"),re("show",r.showViewNoteModal),y(5),re("bi-file-text",!r.isEditingViewNote)("bi-pencil-square",r.isEditingViewNote),y(),X(" ",r.isEditingViewNote?"Edit Note":"Doctor's Note"," "),y(3),C("ngIf",r.viewNoteAppointment),y(),C("ngIf",!r.isEditingViewNote),y(),C("ngIf",r.isEditingViewNote),y(5),C("ngIf",!r.isEditingViewNote),y(),C("ngIf",r.isEditingViewNote),y(),C("ngIf",r.showViewNoteModal))},dependencies:[Re,ge,nt,Ln,Kp,Qp],styles:[".patient-details-page[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.card-header[_ngcontent-%COMP%]{font-weight:600}label.text-muted[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.75rem;margin-bottom:.25rem;display:block}.note-preview[_ngcontent-%COMP%]{cursor:pointer;padding:.25rem .5rem;border-radius:4px;transition:all .2s;display:inline-block}.note-preview[_ngcontent-%COMP%]:hover{background-color:#e7f3ff;color:#06c!important;transform:translateY(-1px)}.note-preview[_ngcontent-%COMP%]   i.bi-eye[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.note-preview[_ngcontent-%COMP%]:hover   i.bi-eye[_ngcontent-%COMP%]{opacity:1}.note-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:1.5rem;max-height:500px;overflow-y:auto}.view-note-content[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:1rem;line-height:1.6;color:#333}.modal-content[_ngcontent-%COMP%]{border-radius:12px}.modal-header.bg-primary[_ngcontent-%COMP%]{border-radius:12px 12px 0 0}  .NgxEditor__Wrapper{border:1px solid #dee2e6;border-radius:4px}  .NgxEditor__MenuBar{background-color:#f8f9fa;border-bottom:1px solid #dee2e6;padding:8px}  .NgxEditor{min-height:250px}  .NgxEditor__Content{padding:12px;font-size:1rem;line-height:1.6}  .NgxEditor__Placeholder{color:#6c757d}"]})}}return n})();function Lq(n,t){if(n&1){let e=J();h(0,"button",44),N("click",function(){P(e);let r=E(2);return R(r.toggleEdit())}),M(1,"i",45),g(2),p()}if(n&2){let e=E(2);y(),C("ngClass",e.isEditing?"bi-x-circle":"bi-pencil"),y(),X(" ",e.isEditing?"Cancel":"Edit"," ")}}function Vq(n,t){if(n&1){let e=J();h(0,"button",46),N("click",function(){P(e);let r=E(2);return R(r.saveProfile())}),M(1,"i",47),g(2," Save"),p()}}function Bq(n,t){if(n&1&&(h(0,"option",48),g(1),p()),n&2){let e=t.$implicit;C("value",e),y(),O(e)}}function jq(n,t){if(n&1){let e=J();h(0,"div",15)(1,"label",16),g(2,"Status"),p(),h(3,"select",20),Y("ngModelChange",function(r){P(e);let o=E(2);return Z(o.profileForm.status,r)||(o.profileForm.status=r),R(r)}),h(4,"option",49),g(5,"Active"),p(),h(6,"option",50),g(7,"Inactive"),p()()()}if(n&2){let e=E(2);y(3),Q("ngModel",e.profileForm.status),C("disabled",!e.isEditing)}}function $q(n,t){if(n&1){let e=J();h(0,"div",11)(1,"div",12)(2,"div",57)(3,"label",16),g(4,"Current Password"),p(),h(5,"input",58),Y("ngModelChange",function(r){P(e);let o=E(3);return Z(o.passwordForm.current_password,r)||(o.passwordForm.current_password=r),R(r)}),p()(),h(6,"div",57)(7,"label",16),g(8,"New Password"),p(),h(9,"input",58),Y("ngModelChange",function(r){P(e);let o=E(3);return Z(o.passwordForm.new_password,r)||(o.passwordForm.new_password=r),R(r)}),p()(),h(10,"div",57)(11,"label",16),g(12,"Confirm"),p(),h(13,"input",58),Y("ngModelChange",function(r){P(e);let o=E(3);return Z(o.passwordForm.new_password_confirmation,r)||(o.passwordForm.new_password_confirmation=r),R(r)}),p()()()()}if(n&2){let e=E(3);y(5),Q("ngModel",e.passwordForm.current_password),y(4),Q("ngModel",e.passwordForm.new_password),y(4),Q("ngModel",e.passwordForm.new_password_confirmation)}}function zq(n,t){if(n&1){let e=J();h(0,"div",51)(1,"div",52)(2,"div",53)(3,"button",54),N("click",function(){P(e);let r=E(2);return R(r.showPasswordChange=!r.showPasswordChange)}),M(4,"i",55),g(5),p()(),k(6,$q,14,3,"div",56),p()()}if(n&2){let e=E(2);y(5),X(" ",e.showPasswordChange?"Hide":"Change Password",""),y(),C("ngIf",e.showPasswordChange)}}function Uq(n,t){if(n&1){let e=J();h(0,"div",3)(1,"div",4)(2,"h4",5),M(3,"i",6),g(4),p(),h(5,"div")(6,"button",7),N("click",function(){P(e);let r=E();return R(r.goBack())}),M(7,"i",8),g(8," Back"),p(),k(9,Lq,3,2,"button",9)(10,Vq,3,0,"button",10),p()(),h(11,"div",11)(12,"div",12)(13,"div",13)(14,"h5"),M(15,"i",14),g(16," Personal"),p(),h(17,"div",15)(18,"label",16),g(19,"Name"),p(),h(20,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.name,r)||(o.profileForm.name=r),R(r)}),p()(),h(21,"div",15)(22,"label",16),g(23,"Email"),p(),h(24,"input",18),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.email,r)||(o.profileForm.email=r),R(r)}),p()(),h(25,"div",15)(26,"label",16),g(27,"Phone"),p(),h(28,"input",19),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.phone,r)||(o.profileForm.phone=r),R(r)}),p()(),h(29,"div",15)(30,"label",16),g(31,"Gender"),p(),h(32,"select",20),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.gender,r)||(o.profileForm.gender=r),R(r)}),h(33,"option",21),g(34,"Select Gender"),p(),h(35,"option",22),g(36,"Male"),p(),h(37,"option",23),g(38,"Female"),p(),h(39,"option",24),g(40,"Other"),p()()(),h(41,"div",15)(42,"label",16),g(43,"Date of Birth"),p(),h(44,"input",25),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.date_of_birth,r)||(o.profileForm.date_of_birth=r),R(r)}),p()()(),h(45,"div",13)(46,"h5"),M(47,"i",26),g(48," Professional"),p(),h(49,"div",15)(50,"label",16),g(51,"Department"),p(),h(52,"select",20),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.department,r)||(o.profileForm.department=r),R(r)}),h(53,"option",21),g(54,"Select Department"),p(),k(55,Bq,2,2,"option",27),p()(),h(56,"div",15)(57,"label",16),g(58,"Specialization"),p(),h(59,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.specialization,r)||(o.profileForm.specialization=r),R(r)}),p()(),h(60,"div",15)(61,"label",16),g(62,"License #"),p(),h(63,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.license_number,r)||(o.profileForm.license_number=r),R(r)}),p()(),h(64,"div",15)(65,"label",16),g(66,"Experience (years)"),p(),h(67,"input",28),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.years_of_experience,r)||(o.profileForm.years_of_experience=r),R(r)}),p()(),h(68,"div",15)(69,"label",16),g(70,"Fee ($)"),p(),h(71,"input",29),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.consultation_fee,r)||(o.profileForm.consultation_fee=r),R(r)}),p()(),k(72,jq,8,2,"div",30),h(73,"div",15)(74,"label")(75,"input",31),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.accepting_new_patients,r)||(o.profileForm.accepting_new_patients=r),R(r)}),p(),g(76," Accepting New Patients"),p()()(),h(77,"div",13)(78,"h5"),M(79,"i",32),g(80," Education"),p(),h(81,"div",15)(82,"label",16),g(83,"Qualifications"),p(),h(84,"input",33),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.qualifications,r)||(o.profileForm.qualifications=r),R(r)}),p()(),h(85,"div",15)(86,"label",16),g(87,"Medical School"),p(),h(88,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.medical_school,r)||(o.profileForm.medical_school=r),R(r)}),p()(),h(89,"div",15)(90,"label",16),g(91,"Graduation Year"),p(),h(92,"input",28),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.graduation_year,r)||(o.profileForm.graduation_year=r),R(r)}),p()(),h(93,"div",15)(94,"label",16),g(95,"Education"),p(),h(96,"textarea",34),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.education,r)||(o.profileForm.education=r),R(r)}),p()(),h(97,"div",15)(98,"label",16),g(99,"Certifications"),p(),h(100,"textarea",34),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.certifications,r)||(o.profileForm.certifications=r),R(r)}),p()()(),h(101,"div",13)(102,"h5"),M(103,"i",35),g(104," Practice"),p(),h(105,"div",15)(106,"label",16),g(107,"Office Address"),p(),h(108,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.office_address,r)||(o.profileForm.office_address=r),R(r)}),p()(),h(109,"div",12)(110,"div",36)(111,"label",16),g(112,"City"),p(),h(113,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.city,r)||(o.profileForm.city=r),R(r)}),p()(),h(114,"div",36)(115,"label",16),g(116,"State"),p(),h(117,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.state,r)||(o.profileForm.state=r),R(r)}),p()()(),h(118,"div",15)(119,"label",16),g(120,"ZIP"),p(),h(121,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.zip_code,r)||(o.profileForm.zip_code=r),R(r)}),p()(),h(122,"div",15)(123,"label",16),g(124,"Available Days"),p(),h(125,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.available_days,r)||(o.profileForm.available_days=r),R(r)}),p()(),h(126,"div",12)(127,"div",36)(128,"label",16),g(129,"Start"),p(),h(130,"input",37),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.available_time_start,r)||(o.profileForm.available_time_start=r),R(r)}),p()(),h(131,"div",36)(132,"label",16),g(133,"End"),p(),h(134,"input",37),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.available_time_end,r)||(o.profileForm.available_time_end=r),R(r)}),p()()(),h(135,"div",15)(136,"label",16),g(137,"Languages"),p(),h(138,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.languages_spoken,r)||(o.profileForm.languages_spoken=r),R(r)}),p()()(),h(139,"div",38)(140,"h5"),M(141,"i",39),g(142," Additional"),p(),h(143,"div",15)(144,"label",16),g(145,"Bio"),p(),h(146,"textarea",40),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.bio,r)||(o.profileForm.bio=r),R(r)}),p()(),h(147,"div",15)(148,"label",16),g(149,"Research Interests"),p(),h(150,"textarea",34),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.research_interests,r)||(o.profileForm.research_interests=r),R(r)}),p()(),h(151,"div",15)(152,"label",16),g(153,"Awards"),p(),h(154,"textarea",34),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.awards_recognition,r)||(o.profileForm.awards_recognition=r),R(r)}),p()()(),h(155,"div",38)(156,"h5"),M(157,"i",41),g(158," Emergency"),p(),h(159,"div",12)(160,"div",42)(161,"label",16),g(162,"Contact Name"),p(),h(163,"input",17),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.emergency_contact,r)||(o.profileForm.emergency_contact=r),R(r)}),p()(),h(164,"div",42)(165,"label",16),g(166,"Phone"),p(),h(167,"input",19),Y("ngModelChange",function(r){P(e);let o=E();return Z(o.profileForm.emergency_phone,r)||(o.profileForm.emergency_phone=r),R(r)}),p()()()(),k(168,zq,7,2,"div",43),p()()()}if(n&2){let e=E();y(4),X(" ",e.isOwnProfile?"My Profile":"Doctor Profile",""),y(5),C("ngIf",e.isOwnProfile||e.isAdmin),y(),C("ngIf",e.isEditing),y(10),Q("ngModel",e.profileForm.name),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.email),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.phone),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.gender),C("disabled",!e.isEditing),y(12),Q("ngModel",e.profileForm.date_of_birth),C("disabled",!e.isEditing),y(8),Q("ngModel",e.profileForm.department),C("disabled",!e.isEditing),y(3),C("ngForOf",e.departments),y(4),Q("ngModel",e.profileForm.specialization),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.license_number),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.years_of_experience),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.consultation_fee),C("disabled",!e.isEditing),y(),C("ngIf",e.isAdmin&&!e.isOwnProfile),y(3),Q("ngModel",e.profileForm.accepting_new_patients),C("disabled",!e.isEditing),y(9),Q("ngModel",e.profileForm.qualifications),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.medical_school),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.graduation_year),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.education),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.certifications),C("disabled",!e.isEditing),y(8),Q("ngModel",e.profileForm.office_address),C("disabled",!e.isEditing),y(5),Q("ngModel",e.profileForm.city),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.state),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.zip_code),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.available_days),C("disabled",!e.isEditing),y(5),Q("ngModel",e.profileForm.available_time_start),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.available_time_end),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.languages_spoken),C("disabled",!e.isEditing),y(8),Q("ngModel",e.profileForm.bio),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.research_interests),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.awards_recognition),C("disabled",!e.isEditing),y(9),Q("ngModel",e.profileForm.emergency_contact),C("disabled",!e.isEditing),y(4),Q("ngModel",e.profileForm.emergency_phone),C("disabled",!e.isEditing),y(),C("ngIf",e.isEditing&&e.isOwnProfile)}}function Hq(n,t){n&1&&(h(0,"div",59),M(1,"div",60),h(2,"p",61),g(3,"Loading profile..."),p()())}var aw=(()=>{class n{constructor(e,i,r,o,s){this.route=e,this.router=i,this.doctorService=r,this.authService=o,this.notificationService=s,this.doctor=null,this.loading=!0,this.isEditing=!1,this.isOwnProfile=!1,this.isAdmin=!1,this.doctorId=null,this.profileForm={},this.showPasswordChange=!1,this.passwordForm={current_password:"",new_password:"",new_password_confirmation:""},this.departments=["Cardiology","Dermatology","Emergency Medicine","Gynecology","Neurology","Orthopedics","Pediatrics","Psychiatry"]}ngOnInit(){let e=this.authService.currentUserValue;this.isAdmin=e?.role==="admin",this.route.params.subscribe(i=>{i.id?(this.doctorId=+i.id,this.isOwnProfile=!1,this.loadDoctorById(this.doctorId)):(this.isOwnProfile=!0,this.loadOwnProfile())})}loadOwnProfile(){this.loading=!0,this.doctorService.getDoctorProfile().subscribe({next:e=>{this.doctor=e,this.initializeForm(),this.loading=!1},error:e=>{this.notificationService.error("Failed to load profile"),this.loading=!1}})}loadDoctorById(e){this.loading=!0,this.doctorService.getDoctorProfileById(e).subscribe({next:i=>{this.doctor=i,this.initializeForm(),this.loading=!1},error:i=>{this.notificationService.error("Failed to load doctor profile"),this.loading=!1,this.router.navigate(["/admin/doctors"])}})}initializeForm(){this.doctor&&(this.profileForm={name:this.doctor.name||"",email:this.doctor.email||"",phone:this.doctor.phone||"",department:this.doctor.department||"",specialization:this.doctor.specialization||"",license_number:this.doctor.license_number||"",years_of_experience:this.doctor.years_of_experience||0,consultation_fee:this.doctor.consultation_fee||0,available_days:this.doctor.available_days||"",available_time_start:this.doctor.available_time_start?.substring(0,5)||"09:00",available_time_end:this.doctor.available_time_end?.substring(0,5)||"17:00",bio:this.doctor.bio||"",qualifications:this.doctor.qualifications||"",education:this.doctor.education||"",medical_school:this.doctor.medical_school||"",graduation_year:this.doctor.graduation_year||null,certifications:this.doctor.certifications||"",languages_spoken:this.doctor.languages_spoken||"",office_address:this.doctor.office_address||"",city:this.doctor.city||"",state:this.doctor.state||"",zip_code:this.doctor.zip_code||"",emergency_contact:this.doctor.emergency_contact||"",emergency_phone:this.doctor.emergency_phone||"",awards_recognition:this.doctor.awards_recognition||"",research_interests:this.doctor.research_interests||"",accepting_new_patients:this.doctor.accepting_new_patients!==!1,gender:this.doctor.gender||"",date_of_birth:this.doctor.date_of_birth||"",status:this.doctor.status||"active"})}toggleEdit(){this.isEditing&&this.initializeForm(),this.isEditing=!this.isEditing,this.showPasswordChange=!1}saveProfile(){let e=F({},this.profileForm);this.showPasswordChange&&this.isOwnProfile&&(e.current_password=this.passwordForm.current_password,e.new_password=this.passwordForm.new_password,e.new_password_confirmation=this.passwordForm.new_password_confirmation),(this.isOwnProfile||!this.isAdmin?this.doctorService.updateDoctorProfile(e):this.doctorService.updateDoctorProfileByAdmin(this.doctor.id,e)).subscribe({next:r=>{this.notificationService.success("Profile updated successfully"),this.doctor=r.doctor,this.isEditing=!1,this.showPasswordChange=!1,this.passwordForm={current_password:"",new_password:"",new_password_confirmation:""}},error:r=>{if(r.error?.errors){let o=r.error.errors,s=Object.values(o).flat();this.notificationService.error(s.join(", "))}else this.notificationService.error("Failed to update profile")}})}goBack(){this.isAdmin&&!this.isOwnProfile?this.router.navigate(["/admin/doctors"]):this.router.navigate(["/doctor/dashboard"])}static{this.\u0275fac=function(i){return new(i||n)(I(Un),I(Oe),I(il),I(Et),I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-doctor-profile"]],decls:3,vars:2,consts:[[1,"container-fluid","py-4"],["class","card",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-person-badge"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-success ms-2",3,"click",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-4"],[1,"bi","bi-person-circle"],[1,"mb-3"],[1,"fw-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","tel",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-select",3,"ngModelChange","ngModel","disabled"],["value",""],["value","Male"],["value","Female"],["value","Other"],["type","date",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"bi","bi-briefcase"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","step","0.01",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","mb-3",4,"ngIf"],["type","checkbox",3,"ngModelChange","ngModel","disabled"],[1,"bi","bi-mortarboard"],["type","text","placeholder","MD, MBBS, PhD",1,"form-control",3,"ngModelChange","ngModel","disabled"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"bi","bi-hospital"],[1,"col-6","mb-3"],["type","time",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-12","mb-4"],[1,"bi","bi-info-circle"],["rows","3",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"bi","bi-telephone-fill"],[1,"col-md-6","mb-3"],["class","col-12",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"bi",3,"ngClass"],[1,"btn","btn-success","ms-2",3,"click"],[1,"bi","bi-check-circle"],[3,"value"],["value","active"],["value","inactive"],[1,"col-12"],[1,"card","bg-light"],[1,"card-header"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-key"],["class","card-body",4,"ngIf"],[1,"col-md-4","mb-3"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","py-5"],[1,"spinner-border"],[1,"mt-3"]],template:function(i,r){i&1&&(h(0,"div",0),k(1,Uq,169,64,"div",1)(2,Hq,4,0,"div",2),p()),i&2&&(y(),C("ngIf",!r.loading&&r.doctor),y(),C("ngIf",r.loading))},dependencies:[Zo,Re,ge,En,Sn,rt,rc,nc,qt,nt,Ln],styles:[".section-title[_ngcontent-%COMP%]{color:#7393b3;border-bottom:2px solid #7393b3;padding-bottom:.5rem;margin-bottom:1rem}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 0 20px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#7393b3;color:#fff}h5[_ngcontent-%COMP%]{color:#7393b3;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid #dee2e6}.form-control[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled{background-color:#f8f9fa;cursor:not-allowed}.fw-bold[_ngcontent-%COMP%]{color:#495057}"]})}}return n})();var lw=(()=>{class n{constructor(e,i){this.router=e,this.authService=i}canActivate(e,i){return this.authService.isLoggedIn?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}}),!1)}static{this.\u0275fac=function(i){return new(i||n)(j(Oe),j(Et))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var q2=(()=>{class n{constructor(e,i){this.router=e,this.authService=i}canActivate(){return this.authService.isAdmin?!0:(this.router.navigate(["/dashboard"]),!1)}static{this.\u0275fac=function(i){return new(i||n)(j(Oe),j(Et))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yh=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.isLoggedIn&&this.authService.isDoctor?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(i){return new(i||n)(j(Et),j(Oe))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Wq=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:D2},{path:"register",component:E2},{path:"dashboard",component:iw,canActivate:[lw],children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",component:I2},{path:"book-appointment",component:A2},{path:"appointment-history",component:k2},{path:"feedback",component:O2}]},{path:"admin",component:iw,canActivate:[lw,q2],children:[{path:"",component:T2},{path:"appointments",component:P2},{path:"feedback",component:R2},{path:"charts",component:F2},{path:"calendar",component:L2},{path:"doctors",component:V2},{path:"doctors/:id/profile",component:aw}]},{path:"doctor",children:[{path:"login",component:j2},{path:"dashboard",component:H2,canActivate:[yh]},{path:"profile",component:aw,canActivate:[yh]},{path:"patient/:id",component:W2,canActivate:[yh]}]},{path:"**",redirectTo:"/login"}],G2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=at({imports:[ew.forRoot(Wq),ew]})}}return n})();function qq(n,t){if(n&1){let e=J();h(0,"div")(1,"div",2),g(2),p(),h(3,"div",3),g(4),p(),h(5,"button",4),N("click",function(){let r=P(e).$implicit,o=E();return R(o.removeNotification(r.id))}),g(6,"\xD7"),p()()}if(n&2){let e=t.$implicit,i=E();mD("notification notification-",e.type,""),C("@slideIn",void 0),y(2),O(i.getIcon(e.type)),y(2),O(e.message)}}var K2=(()=>{class n{constructor(e){this.notificationService=e,this.notifications=[],this.idCounter=0}ngOnInit(){this.subscription=this.notificationService.notification$.subscribe(e=>{let i=this.idCounter++,r=ae(F({},e),{id:i});this.notifications.push(r),setTimeout(()=>{this.removeNotification(i)},e.duration||3e3)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}removeNotification(e){this.notifications=this.notifications.filter(i=>i.id!==e)}getIcon(e){switch(e){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26A0";case"info":return"\u2139";default:return""}}static{this.\u0275fac=function(i){return new(i||n)(I(Fe))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-notification"]],decls:2,vars:1,consts:[[1,"notification-container"],[3,"class",4,"ngFor","ngForOf"],[1,"notification-icon"],[1,"notification-message"],[1,"notification-close",3,"click"]],template:function(i,r){i&1&&(h(0,"div",0),k(1,qq,7,6,"div",1),p()),i&2&&(y(),C("ngForOf",r.notifications))},dependencies:[Re],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:400px}.notification[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;padding:15px 20px;border-radius:8px;box-shadow:0 4px 12px #00000026;background:#fff;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}.notification-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:12px;font-weight:700}.notification-message[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#333}.notification-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999;padding:0;margin-left:10px;line-height:1}.notification-close[_ngcontent-%COMP%]:hover{color:#333}.notification-success[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.notification-success[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#4caf50}.notification-error[_ngcontent-%COMP%]{border-left:4px solid #f44336}.notification-error[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#f44336}.notification-warning[_ngcontent-%COMP%]{border-left:4px solid #ff9800}.notification-warning[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#ff9800}.notification-info[_ngcontent-%COMP%]{border-left:4px solid #2196f3}.notification-info[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#2196f3}"],data:{animation:[wE("slideIn",[ny(":enter",[Xo({transform:"translateX(100%)",opacity:0}),ty("300ms ease-out",Xo({transform:"translateX(0)",opacity:1}))]),ny(":leave",[ty("300ms ease-in",Xo({transform:"translateX(100%)",opacity:0}))])])]}})}}return n})();var Q2=(()=>{class n{constructor(){this.title="Hospital Appointment Booking System"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ie({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){i&1&&M(0,"app-notification")(1,"router-outlet")},dependencies:[qc,K2]})}}return n})();var Y2=(()=>{class n{constructor(e){this.authService=e}intercept(e,i){let r=this.authService.getToken();return r&&(e=e.clone({setHeaders:{Authorization:`Bearer ${r}`,Accept:"application/json"}})),i.handle(e)}static{this.\u0275fac=function(i){return new(i||n)(j(Et))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();var Z2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n,bootstrap:[Q2]})}static{this.\u0275inj=at({providers:[{provide:U0,useClass:Y2,multi:!0}],imports:[Af,ZE,G2,dE,OS,sp,AT]})}}return n})();vE().bootstrapModule(Z2).catch(n=>console.error(n));
